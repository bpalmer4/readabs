<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 16.0.0"/>
    <title>readabs API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note{color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.tip{color:#0a3622;background-color:#d1e7dd;border-color:#a3cfbb;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%230a3622%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%206a6%206%200%201%201%2010.174%204.31c-.203.196-.359.4-.453.619l-.762%201.769A.5.5%200%200%201%2010.5%2013a.5.5%200%200%201%200%201%20.5.5%200%200%201%200%201l-.224.447a1%201%200%200%201-.894.553H6.618a1%201%200%200%201-.894-.553L5.5%2015a.5.5%200%200%201%200-1%20.5.5%200%200%201%200-1%20.5.5%200%200%201-.46-.302l-.761-1.77a2%202%200%200%200-.453-.618A5.98%205.98%200%200%201%202%206m6-5a5%205%200%200%200-3.479%208.592c.263.254.514.564.676.941L5.83%2012h4.342l.632-1.467c.162-.377.413-.687.676-.941A5%205%200%200%200%208%201%22/%3E%3C/svg%3E");}.pdoc .alert.important{color:#055160;background-color:#cff4fc;border-color:#9eeaf9;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23055160%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%200a2%202%200%200%200-2%202v12a2%202%200%200%200%202%202h12a2%202%200%200%200%202-2V2a2%202%200%200%200-2-2zm6%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.caution{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M11.46.146A.5.5%200%200%200%2011.107%200H4.893a.5.5%200%200%200-.353.146L.146%204.54A.5.5%200%200%200%200%204.893v6.214a.5.5%200%200%200%20.146.353l4.394%204.394a.5.5%200%200%200%20.353.146h6.214a.5.5%200%200%200%20.353-.146l4.394-4.394a.5.5%200%200%200%20.146-.353V4.893a.5.5%200%200%200-.146-.353zM8%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:27px;vertical-align:bottom;width:50px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>

            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>


            <h2>Submodules</h2>
            <ul>
                    <li><a href="readabs/abs_catalogue.html">abs_catalogue</a></li>
                    <li><a href="readabs/grab_abs_url.html">grab_abs_url</a></li>
                    <li><a href="readabs/print_abs_catalogue.html">print_abs_catalogue</a></li>
                    <li><a href="readabs/rba_catalogue.html">rba_catalogue</a></li>
                    <li><a href="readabs/read_abs_by_desc.html">read_abs_by_desc</a></li>
                    <li><a href="readabs/read_abs_cat.html">read_abs_cat</a></li>
                    <li><a href="readabs/read_abs_series.html">read_abs_series</a></li>
                    <li><a href="readabs/read_rba_table.html">read_rba_table</a></li>
                    <li><a href="readabs/recalibrate.html">recalibrate</a></li>
                    <li><a href="readabs/search_abs_meta.html">search_abs_meta</a></li>
            </ul>

            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#ReadArgs">ReadArgs</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#ReadArgs.verbose">verbose</a>
                        </li>
                        <li>
                                <a class="variable" href="#ReadArgs.ignore_errors">ignore_errors</a>
                        </li>
                        <li>
                                <a class="variable" href="#ReadArgs.get_zip">get_zip</a>
                        </li>
                        <li>
                                <a class="variable" href="#ReadArgs.get_excel_if_no_zip">get_excel_if_no_zip</a>
                        </li>
                        <li>
                                <a class="variable" href="#ReadArgs.get_excel">get_excel</a>
                        </li>
                        <li>
                                <a class="variable" href="#ReadArgs.single_zip_only">single_zip_only</a>
                        </li>
                        <li>
                                <a class="variable" href="#ReadArgs.single_excel_only">single_excel_only</a>
                        </li>
                        <li>
                                <a class="variable" href="#ReadArgs.history">history</a>
                        </li>
                        <li>
                                <a class="variable" href="#ReadArgs.cache_only">cache_only</a>
                        </li>
                        <li>
                                <a class="variable" href="#ReadArgs.keep_non_ts">keep_non_ts</a>
                        </li>
                        <li>
                                <a class="variable" href="#ReadArgs.zip_file">zip_file</a>
                        </li>
                        <li>
                                <a class="variable" href="#ReadArgs.url">url</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#abs_catalogue">abs_catalogue</a>
            </li>
            <li>
                    <a class="function" href="#annualise_percentages">annualise_percentages</a>
            </li>
            <li>
                    <a class="function" href="#annualise_rates">annualise_rates</a>
            </li>
            <li>
                    <a class="function" href="#find_abs_id">find_abs_id</a>
            </li>
            <li>
                    <a class="function" href="#grab_abs_url">grab_abs_url</a>
            </li>
            <li>
                    <a class="function" href="#grab_abs_zip">grab_abs_zip</a>
            </li>
            <li>
                    <a class="variable" href="#metacol">metacol</a>
            </li>
            <li>
                    <a class="function" href="#monthly_to_qtly">monthly_to_qtly</a>
            </li>
            <li>
                    <a class="function" href="#percent_change">percent_change</a>
            </li>
            <li>
                    <a class="function" href="#print_abs_catalogue">print_abs_catalogue</a>
            </li>
            <li>
                    <a class="function" href="#print_rba_catalogue">print_rba_catalogue</a>
            </li>
            <li>
                    <a class="function" href="#qtly_to_monthly">qtly_to_monthly</a>
            </li>
            <li>
                    <a class="function" href="#rba_catalogue">rba_catalogue</a>
            </li>
            <li>
                    <a class="variable" href="#rba_metacol">rba_metacol</a>
            </li>
            <li>
                    <a class="function" href="#read_abs_by_desc">read_abs_by_desc</a>
            </li>
            <li>
                    <a class="function" href="#read_abs_cat">read_abs_cat</a>
            </li>
            <li>
                    <a class="function" href="#read_abs_series">read_abs_series</a>
            </li>
            <li>
                    <a class="function" href="#read_rba_ocr">read_rba_ocr</a>
            </li>
            <li>
                    <a class="function" href="#read_rba_table">read_rba_table</a>
            </li>
            <li>
                    <a class="function" href="#recalibrate">recalibrate</a>
            </li>
            <li>
                    <a class="function" href="#recalibrate_value">recalibrate_value</a>
            </li>
            <li>
                    <a class="function" href="#search_abs_meta">search_abs_meta</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22160%22%20viewBox%3D%220%200%20150%2080%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M132.316%2048.886c.276-4.679%202.342-6.698%204.409-7.982s4.27-1.165%206.751-1.055c1.586.07%203.044.156%204.222-.482%201.142-.619%202.026-1.932%202.162-3.739.268-3.576-1.929-5.368-5.006-5.551s-7.599.524-10.517%201.606c-4.455%201.652-8.588%206.606-9.552%208.992s-2.342%206.193-1.745%2010.873%202.664%209.221%205.878%2011.79%205.878%203.808%2010.103%204.312%203.444.229%206.062.229%205.006-2.202%204.914-4.909-2.296-5.001-4.501-4.863-3.077.505-5.281.229-7.715-2.064-7.899-9.451z%22%20fill%3D%22%23198754%22/%3E%3Ccircle%20cx%3D%22101.504%22%20cy%3D%2248.943%22%20r%3D%2214.208%22%20fill%3D%22none%22%20stroke%3D%22%23198754%22%20stroke-width%3D%229.354%22/%3E%3Cpath%20d%3D%22M87.81.002c-3.637.065-5.001.454-7.014%201.232s-3.443%201.363-6.3%204.282c-1.723%201.76-3.148%205.019-3.776%207.329-.413%201.521-.316%202.63-.316%202.63l-.195%2034.612c.065%205.774-6.755%208.305-9.612%208.37s-9.678-1.038-9.743-9.408%207.128-9.521%208.362-9.521c1.413-.13%202.526-.021%203.718-.016%202.071.009%204.157-.778%204.092-4.671s-4.157-4.736-4.157-4.736c-6.3-.843-11.43%202.206-11.43%202.206S40.917%2038.15%2041.372%2049.634%2051.568%2068.19%2061.311%2068.125s18.316-7.007%2018.445-17.193l.13-22.772c.046-2.291%202.683-3.644%204.476-4.203.745-.232%201.694-.274%201.694-.274l10.457-.13s4.871-.324%207.729-3.114%204.352-6.294%204.352-6.294.974-3.049.13-4.606-.195-1.233-2.792-3.309-8.573-4.477-8.573-4.477S91.447-.063%2087.81.002zM0%2047.169l.065%2028.417S0%2080.127%204.481%2079.997s5.072-3.866%205.049-4.152l-.113-28.482s1.624-7.656%209.937-7.721%2010.002%206.942%2010.002%208.499-.909%2010.51-9.093%2010.51c-.948%200-2.99-.567-4.145-.272-3.919%201-3.194%204.554-3.194%204.554s.065%205.061%207.404%204.996%2018.575-6.034%2018.575-19.074S26.953%2030.04%2019.549%2029.91%201.234%2035.296%200%2047.169z%22%20fill%3D%22%23198754%22/%3E%3Cg%20transform%3D%22matrix%28.325601%200%200%20.325256%20-10.32669%20-45.802786%29%22%3E%3Ccircle%20cx%3D%22297.554%22%20cy%3D%22172.286%22%20r%3D%2216.5%22%20fill%3D%22%23fff%22/%3E%3Cellipse%20cx%3D%22297.709%22%20cy%3D%22172.642%22%20rx%3D%2211.071%22%20ry%3D%2210.871%22%20fill%3D%22%23105a48%22/%3E%3Ccircle%20cx%3D%22304.104%22%20cy%3D%22167.667%22%20r%3D%224.5%22%20fill%3D%22%23fff%22/%3E%3C/g%3E%3Cpath%20d%3D%22M94.661%2017.032l.893-1.476s.99.714%201.916.925%201.575.114%202.955.114l14.565-.162c1.283-.032%203.085-.762%203.02-3.293s-.373-3.503-.373-3.503l1.283-.487s.52.503.877%201.573.309%201.995.292%202.66-.227%201.541-.227%201.541%201.564-.308%202.359-1.038.823-.779%201.489-1.508.812-.86.812-.86.552-.13.877.26.341.957.065%201.46-1.672%202.206-3.247%203.066-2.76%201.427-3.929%201.768-3.848.73-7.063.714l-10.944-.114s-2.143-.081-3.02-.373-2.241-.973-2.598-1.265z%22%20fill%3D%22%23d36d49%22/%3E%3Cg%20fill%3D%22%23105a48%22%3E%3Cellipse%20cx%3D%2293.052%22%20cy%3D%2243.567%22%20rx%3D%22.869%22%20ry%3D%221.014%22%20transform%3D%22rotate%28341.022%29%22/%3E%3Cellipse%20cx%3D%22104.3%22%20cy%3D%22-16.184%22%20rx%3D%22.865%22%20ry%3D%221.009%22%20transform%3D%22rotate%2814.786%29%22/%3E%3C/g%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
readabs    </h1>

                        <div class="docstring"><p>Package to download timeseries data from the Australian Bureau of Statistics and RBA.</p>

<p>This package provides functions to download and process timeseries data from
the Australian Bureau of Statistics (ABS) and the Reserve Bank of Australia (RBA).</p>
</div>

                        <input id="mod-readabs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-readabs-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos"> 1</span></a><span class="sd">&quot;&quot;&quot;Package to download timeseries data from the Australian Bureau of Statistics and RBA.</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos"> 2</span></a>
</span><span id="L-3"><a href="#L-3"><span class="linenos"> 3</span></a><span class="sd">This package provides functions to download and process timeseries data from</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos"> 4</span></a><span class="sd">the Australian Bureau of Statistics (ABS) and the Reserve Bank of Australia (RBA).</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos"> 5</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos"> 6</span></a>
</span><span id="L-7"><a href="#L-7"><span class="linenos"> 7</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">importlib.metadata</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos"> 8</span></a>
</span><span id="L-9"><a href="#L-9"><span class="linenos"> 9</span></a><span class="c1"># ABS related imports</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">10</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">readabs.abs_catalogue</span><span class="w"> </span><span class="kn">import</span> <span class="n">abs_catalogue</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">11</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">readabs.abs_meta_data</span><span class="w"> </span><span class="kn">import</span> <span class="n">metacol</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">12</span></a>
</span><span id="L-13"><a href="#L-13"><span class="linenos">13</span></a><span class="c1"># Utility imports</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">14</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">readabs.datatype</span><span class="w"> </span><span class="kn">import</span> <span class="n">Datatype</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">15</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">readabs.grab_abs_url</span><span class="w"> </span><span class="kn">import</span> <span class="n">grab_abs_url</span><span class="p">,</span> <span class="n">grab_abs_zip</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos">16</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">readabs.print_abs_catalogue</span><span class="w"> </span><span class="kn">import</span> <span class="n">print_abs_catalogue</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos">17</span></a>
</span><span id="L-18"><a href="#L-18"><span class="linenos">18</span></a><span class="c1"># RBA related imports</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">19</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">readabs.rba_catalogue</span><span class="w"> </span><span class="kn">import</span> <span class="n">print_rba_catalogue</span><span class="p">,</span> <span class="n">rba_catalogue</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">20</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">readabs.rba_meta_data</span><span class="w"> </span><span class="kn">import</span> <span class="n">rba_metacol</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">21</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">readabs.read_abs_by_desc</span><span class="w"> </span><span class="kn">import</span> <span class="n">read_abs_by_desc</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">22</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">readabs.read_abs_cat</span><span class="w"> </span><span class="kn">import</span> <span class="n">read_abs_cat</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">23</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">readabs.read_abs_series</span><span class="w"> </span><span class="kn">import</span> <span class="n">read_abs_series</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">24</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">readabs.read_rba_table</span><span class="w"> </span><span class="kn">import</span> <span class="n">read_rba_ocr</span><span class="p">,</span> <span class="n">read_rba_table</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">25</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">readabs.read_support</span><span class="w"> </span><span class="kn">import</span> <span class="n">ReadArgs</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">26</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">readabs.recalibrate</span><span class="w"> </span><span class="kn">import</span> <span class="n">recalibrate</span><span class="p">,</span> <span class="n">recalibrate_value</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos">27</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">readabs.search_abs_meta</span><span class="w"> </span><span class="kn">import</span> <span class="n">find_abs_id</span><span class="p">,</span> <span class="n">search_abs_meta</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos">28</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">readabs.utilities</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">29</span></a>    <span class="n">annualise_percentages</span><span class="p">,</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">30</span></a>    <span class="n">annualise_rates</span><span class="p">,</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">31</span></a>    <span class="n">monthly_to_qtly</span><span class="p">,</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos">32</span></a>    <span class="n">percent_change</span><span class="p">,</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos">33</span></a>    <span class="n">qtly_to_monthly</span><span class="p">,</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos">34</span></a><span class="p">)</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">35</span></a>
</span><span id="L-36"><a href="#L-36"><span class="linenos">36</span></a><span class="c1"># Version and author information</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos">37</span></a><span class="k">try</span><span class="p">:</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos">38</span></a>    <span class="n">__version__</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">version</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">39</span></a><span class="k">except</span> <span class="n">importlib</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">PackageNotFoundError</span><span class="p">:</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos">40</span></a>    <span class="n">__version__</span> <span class="o">=</span> <span class="s2">&quot;0.0.0&quot;</span>  <span class="c1"># Fallback for development mode</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">41</span></a><span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;Bryan Palmer&quot;</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos">42</span></a>
</span><span id="L-43"><a href="#L-43"><span class="linenos">43</span></a>
</span><span id="L-44"><a href="#L-44"><span class="linenos">44</span></a><span class="c1"># Exposed functions and classes</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos">45</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos">46</span></a>    <span class="s2">&quot;Datatype&quot;</span><span class="p">,</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos">47</span></a>    <span class="s2">&quot;ReadArgs&quot;</span><span class="p">,</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos">48</span></a>    <span class="s2">&quot;abs_catalogue&quot;</span><span class="p">,</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos">49</span></a>    <span class="s2">&quot;annualise_percentages&quot;</span><span class="p">,</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos">50</span></a>    <span class="s2">&quot;annualise_rates&quot;</span><span class="p">,</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos">51</span></a>    <span class="s2">&quot;find_abs_id&quot;</span><span class="p">,</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos">52</span></a>    <span class="s2">&quot;grab_abs_url&quot;</span><span class="p">,</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos">53</span></a>    <span class="s2">&quot;grab_abs_zip&quot;</span><span class="p">,</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos">54</span></a>    <span class="s2">&quot;metacol&quot;</span><span class="p">,</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos">55</span></a>    <span class="s2">&quot;monthly_to_qtly&quot;</span><span class="p">,</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos">56</span></a>    <span class="s2">&quot;percent_change&quot;</span><span class="p">,</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos">57</span></a>    <span class="s2">&quot;print_abs_catalogue&quot;</span><span class="p">,</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos">58</span></a>    <span class="s2">&quot;print_rba_catalogue&quot;</span><span class="p">,</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos">59</span></a>    <span class="s2">&quot;qtly_to_monthly&quot;</span><span class="p">,</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos">60</span></a>    <span class="s2">&quot;rba_catalogue&quot;</span><span class="p">,</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos">61</span></a>    <span class="s2">&quot;rba_metacol&quot;</span><span class="p">,</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos">62</span></a>    <span class="s2">&quot;read_abs_by_desc&quot;</span><span class="p">,</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos">63</span></a>    <span class="s2">&quot;read_abs_cat&quot;</span><span class="p">,</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos">64</span></a>    <span class="s2">&quot;read_abs_series&quot;</span><span class="p">,</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos">65</span></a>    <span class="s2">&quot;read_rba_ocr&quot;</span><span class="p">,</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos">66</span></a>    <span class="s2">&quot;read_rba_table&quot;</span><span class="p">,</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos">67</span></a>    <span class="s2">&quot;recalibrate&quot;</span><span class="p">,</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos">68</span></a>    <span class="s2">&quot;recalibrate_value&quot;</span><span class="p">,</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos">69</span></a>    <span class="s2">&quot;search_abs_meta&quot;</span><span class="p">,</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos">70</span></a><span class="p">)</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos">71</span></a><span class="n">__pdoc__</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos">72</span></a>    <span class="s2">&quot;download_cache&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos">73</span></a>    <span class="s2">&quot;get_abs_links&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos">74</span></a>    <span class="s2">&quot;read_support&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos">75</span></a>    <span class="s2">&quot;grab_abs_url&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos">76</span></a><span class="p">}</span>  <span class="c1"># hide submodules from documentation</span>
</span></pre></div>


            </section>
                <section id="ReadArgs">
                            <input id="ReadArgs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ReadArgs</span><wbr>(<span class="base">typing.TypedDict</span>):

                <label class="view-source-button" for="ReadArgs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ReadArgs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ReadArgs-15"><a href="#ReadArgs-15"><span class="linenos">15</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ReadArgs</span><span class="p">(</span><span class="n">TypedDict</span><span class="p">):</span>
</span><span id="ReadArgs-16"><a href="#ReadArgs-16"><span class="linenos">16</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Type definition for ABS data reading arguments.&quot;&quot;&quot;</span>
</span><span id="ReadArgs-17"><a href="#ReadArgs-17"><span class="linenos">17</span></a>
</span><span id="ReadArgs-18"><a href="#ReadArgs-18"><span class="linenos">18</span></a>    <span class="n">verbose</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="ReadArgs-19"><a href="#ReadArgs-19"><span class="linenos">19</span></a>    <span class="n">ignore_errors</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="ReadArgs-20"><a href="#ReadArgs-20"><span class="linenos">20</span></a>    <span class="n">get_zip</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="ReadArgs-21"><a href="#ReadArgs-21"><span class="linenos">21</span></a>    <span class="n">get_excel_if_no_zip</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="ReadArgs-22"><a href="#ReadArgs-22"><span class="linenos">22</span></a>    <span class="n">get_excel</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="ReadArgs-23"><a href="#ReadArgs-23"><span class="linenos">23</span></a>    <span class="n">single_zip_only</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="ReadArgs-24"><a href="#ReadArgs-24"><span class="linenos">24</span></a>    <span class="n">single_excel_only</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="ReadArgs-25"><a href="#ReadArgs-25"><span class="linenos">25</span></a>    <span class="n">history</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="ReadArgs-26"><a href="#ReadArgs-26"><span class="linenos">26</span></a>    <span class="n">cache_only</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="ReadArgs-27"><a href="#ReadArgs-27"><span class="linenos">27</span></a>    <span class="n">keep_non_ts</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
</span><span id="ReadArgs-28"><a href="#ReadArgs-28"><span class="linenos">28</span></a>    <span class="n">zip_file</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="ReadArgs-29"><a href="#ReadArgs-29"><span class="linenos">29</span></a>    <span class="n">url</span><span class="p">:</span> <span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Type definition for ABS data reading arguments.</p>
</div>


                            <div id="ReadArgs.verbose" class="classattr">
                                <div class="attr variable">
            <span class="name">verbose</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#ReadArgs.verbose"></a>
    
    

                            </div>
                            <div id="ReadArgs.ignore_errors" class="classattr">
                                <div class="attr variable">
            <span class="name">ignore_errors</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#ReadArgs.ignore_errors"></a>
    
    

                            </div>
                            <div id="ReadArgs.get_zip" class="classattr">
                                <div class="attr variable">
            <span class="name">get_zip</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#ReadArgs.get_zip"></a>
    
    

                            </div>
                            <div id="ReadArgs.get_excel_if_no_zip" class="classattr">
                                <div class="attr variable">
            <span class="name">get_excel_if_no_zip</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#ReadArgs.get_excel_if_no_zip"></a>
    
    

                            </div>
                            <div id="ReadArgs.get_excel" class="classattr">
                                <div class="attr variable">
            <span class="name">get_excel</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#ReadArgs.get_excel"></a>
    
    

                            </div>
                            <div id="ReadArgs.single_zip_only" class="classattr">
                                <div class="attr variable">
            <span class="name">single_zip_only</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#ReadArgs.single_zip_only"></a>
    
    

                            </div>
                            <div id="ReadArgs.single_excel_only" class="classattr">
                                <div class="attr variable">
            <span class="name">single_excel_only</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#ReadArgs.single_excel_only"></a>
    
    

                            </div>
                            <div id="ReadArgs.history" class="classattr">
                                <div class="attr variable">
            <span class="name">history</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#ReadArgs.history"></a>
    
    

                            </div>
                            <div id="ReadArgs.cache_only" class="classattr">
                                <div class="attr variable">
            <span class="name">cache_only</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#ReadArgs.cache_only"></a>
    
    

                            </div>
                            <div id="ReadArgs.keep_non_ts" class="classattr">
                                <div class="attr variable">
            <span class="name">keep_non_ts</span><span class="annotation">: NotRequired[bool]</span>

        
    </div>
    <a class="headerlink" href="#ReadArgs.keep_non_ts"></a>
    
    

                            </div>
                            <div id="ReadArgs.zip_file" class="classattr">
                                <div class="attr variable">
            <span class="name">zip_file</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#ReadArgs.zip_file"></a>
    
    

                            </div>
                            <div id="ReadArgs.url" class="classattr">
                                <div class="attr variable">
            <span class="name">url</span><span class="annotation">: NotRequired[str]</span>

        
    </div>
    <a class="headerlink" href="#ReadArgs.url"></a>
    
    

                            </div>
                </section>
                <section id="abs_catalogue">
                            <input id="abs_catalogue-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-cache">@cache</div>

        <span class="def">def</span>
        <span class="name">abs_catalogue</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">cache_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>:</span></span>

                <label class="view-source-button" for="abs_catalogue-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#abs_catalogue"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="abs_catalogue-24"><a href="#abs_catalogue-24"><span class="linenos"> 24</span></a><span class="nd">@cache</span>
</span><span id="abs_catalogue-25"><a href="#abs_catalogue-25"><span class="linenos"> 25</span></a><span class="k">def</span><span class="w"> </span><span class="nf">abs_catalogue</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">cache_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataFrame</span><span class="p">:</span>
</span><span id="abs_catalogue-26"><a href="#abs_catalogue-26"><span class="linenos"> 26</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a DataFrame of ABS Catalogue numbers.</span>
</span><span id="abs_catalogue-27"><a href="#abs_catalogue-27"><span class="linenos"> 27</span></a>
</span><span id="abs_catalogue-28"><a href="#abs_catalogue-28"><span class="linenos"> 28</span></a><span class="sd">    Downloads catalogue data from the ABS website on first call and caches</span>
</span><span id="abs_catalogue-29"><a href="#abs_catalogue-29"><span class="linenos"> 29</span></a><span class="sd">    for future use. The returned DataFrame contains catalogue numbers with</span>
</span><span id="abs_catalogue-30"><a href="#abs_catalogue-30"><span class="linenos"> 30</span></a><span class="sd">    their topics, themes, URLs, and status.</span>
</span><span id="abs_catalogue-31"><a href="#abs_catalogue-31"><span class="linenos"> 31</span></a>
</span><span id="abs_catalogue-32"><a href="#abs_catalogue-32"><span class="linenos"> 32</span></a><span class="sd">    Parameters</span>
</span><span id="abs_catalogue-33"><a href="#abs_catalogue-33"><span class="linenos"> 33</span></a><span class="sd">    ----------</span>
</span><span id="abs_catalogue-34"><a href="#abs_catalogue-34"><span class="linenos"> 34</span></a><span class="sd">    cache_only : bool, default False</span>
</span><span id="abs_catalogue-35"><a href="#abs_catalogue-35"><span class="linenos"> 35</span></a><span class="sd">        If True, only use cached data and don&#39;t attempt to download.</span>
</span><span id="abs_catalogue-36"><a href="#abs_catalogue-36"><span class="linenos"> 36</span></a><span class="sd">    verbose : bool, default False</span>
</span><span id="abs_catalogue-37"><a href="#abs_catalogue-37"><span class="linenos"> 37</span></a><span class="sd">        If True, print progress messages.</span>
</span><span id="abs_catalogue-38"><a href="#abs_catalogue-38"><span class="linenos"> 38</span></a>
</span><span id="abs_catalogue-39"><a href="#abs_catalogue-39"><span class="linenos"> 39</span></a><span class="sd">    Returns</span>
</span><span id="abs_catalogue-40"><a href="#abs_catalogue-40"><span class="linenos"> 40</span></a><span class="sd">    -------</span>
</span><span id="abs_catalogue-41"><a href="#abs_catalogue-41"><span class="linenos"> 41</span></a><span class="sd">    DataFrame</span>
</span><span id="abs_catalogue-42"><a href="#abs_catalogue-42"><span class="linenos"> 42</span></a><span class="sd">        DataFrame with columns [&#39;Theme&#39;, &#39;Parent Topic&#39;, &#39;Topic&#39;, &#39;URL&#39;, &#39;Status&#39;]</span>
</span><span id="abs_catalogue-43"><a href="#abs_catalogue-43"><span class="linenos"> 43</span></a><span class="sd">        and index of catalogue IDs.</span>
</span><span id="abs_catalogue-44"><a href="#abs_catalogue-44"><span class="linenos"> 44</span></a>
</span><span id="abs_catalogue-45"><a href="#abs_catalogue-45"><span class="linenos"> 45</span></a><span class="sd">    Raises</span>
</span><span id="abs_catalogue-46"><a href="#abs_catalogue-46"><span class="linenos"> 46</span></a><span class="sd">    ------</span>
</span><span id="abs_catalogue-47"><a href="#abs_catalogue-47"><span class="linenos"> 47</span></a><span class="sd">    CatalogueError</span>
</span><span id="abs_catalogue-48"><a href="#abs_catalogue-48"><span class="linenos"> 48</span></a><span class="sd">        If the catalogue data cannot be retrieved or parsed.</span>
</span><span id="abs_catalogue-49"><a href="#abs_catalogue-49"><span class="linenos"> 49</span></a><span class="sd">    HttpError</span>
</span><span id="abs_catalogue-50"><a href="#abs_catalogue-50"><span class="linenos"> 50</span></a><span class="sd">        If there&#39;s a network error downloading the catalogue.</span>
</span><span id="abs_catalogue-51"><a href="#abs_catalogue-51"><span class="linenos"> 51</span></a><span class="sd">    CacheError</span>
</span><span id="abs_catalogue-52"><a href="#abs_catalogue-52"><span class="linenos"> 52</span></a><span class="sd">        If cache_only=True but no cached data is available.</span>
</span><span id="abs_catalogue-53"><a href="#abs_catalogue-53"><span class="linenos"> 53</span></a>
</span><span id="abs_catalogue-54"><a href="#abs_catalogue-54"><span class="linenos"> 54</span></a><span class="sd">    Example</span>
</span><span id="abs_catalogue-55"><a href="#abs_catalogue-55"><span class="linenos"> 55</span></a><span class="sd">    -------</span>
</span><span id="abs_catalogue-56"><a href="#abs_catalogue-56"><span class="linenos"> 56</span></a><span class="sd">    &gt;&gt;&gt; import readabs as ra</span>
</span><span id="abs_catalogue-57"><a href="#abs_catalogue-57"><span class="linenos"> 57</span></a><span class="sd">    &gt;&gt;&gt; catalogue = ra.abs_catalogue()</span>
</span><span id="abs_catalogue-58"><a href="#abs_catalogue-58"><span class="linenos"> 58</span></a><span class="sd">    &gt;&gt;&gt; print(catalogue.head())</span>
</span><span id="abs_catalogue-59"><a href="#abs_catalogue-59"><span class="linenos"> 59</span></a>
</span><span id="abs_catalogue-60"><a href="#abs_catalogue-60"><span class="linenos"> 60</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="abs_catalogue-61"><a href="#abs_catalogue-61"><span class="linenos"> 61</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="abs_catalogue-62"><a href="#abs_catalogue-62"><span class="linenos"> 62</span></a>        <span class="c1"># Download ABS catalogue page</span>
</span><span id="abs_catalogue-63"><a href="#abs_catalogue-63"><span class="linenos"> 63</span></a>        <span class="n">abs_bytes</span> <span class="o">=</span> <span class="n">get_file</span><span class="p">(</span><span class="n">ABS_CATALOGUE_URL</span><span class="p">,</span> <span class="n">cache_only</span><span class="o">=</span><span class="n">cache_only</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</span><span id="abs_catalogue-64"><a href="#abs_catalogue-64"><span class="linenos"> 64</span></a>
</span><span id="abs_catalogue-65"><a href="#abs_catalogue-65"><span class="linenos"> 65</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">abs_bytes</span><span class="p">:</span>
</span><span id="abs_catalogue-66"><a href="#abs_catalogue-66"><span class="linenos"> 66</span></a>            <span class="k">raise</span> <span class="n">CatalogueError</span><span class="p">(</span><span class="s2">&quot;No data retrieved from ABS catalogue URL&quot;</span><span class="p">)</span>
</span><span id="abs_catalogue-67"><a href="#abs_catalogue-67"><span class="linenos"> 67</span></a>
</span><span id="abs_catalogue-68"><a href="#abs_catalogue-68"><span class="linenos"> 68</span></a>        <span class="c1"># Parse HTML content</span>
</span><span id="abs_catalogue-69"><a href="#abs_catalogue-69"><span class="linenos"> 69</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="abs_catalogue-70"><a href="#abs_catalogue-70"><span class="linenos"> 70</span></a>            <span class="n">html_content</span> <span class="o">=</span> <span class="n">abs_bytes</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">DEFAULT_ENCODING</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;replace&quot;</span><span class="p">)</span>
</span><span id="abs_catalogue-71"><a href="#abs_catalogue-71"><span class="linenos"> 71</span></a>        <span class="k">except</span> <span class="ne">UnicodeDecodeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="abs_catalogue-72"><a href="#abs_catalogue-72"><span class="linenos"> 72</span></a>            <span class="k">raise</span> <span class="n">CatalogueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to decode HTML content: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
</span><span id="abs_catalogue-73"><a href="#abs_catalogue-73"><span class="linenos"> 73</span></a>
</span><span id="abs_catalogue-74"><a href="#abs_catalogue-74"><span class="linenos"> 74</span></a>        <span class="c1"># Extract tables from HTML</span>
</span><span id="abs_catalogue-75"><a href="#abs_catalogue-75"><span class="linenos"> 75</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="abs_catalogue-76"><a href="#abs_catalogue-76"><span class="linenos"> 76</span></a>            <span class="n">tables</span> <span class="o">=</span> <span class="n">read_html</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">html_content</span><span class="p">),</span> <span class="n">extract_links</span><span class="o">=</span><span class="s2">&quot;body&quot;</span><span class="p">)</span>
</span><span id="abs_catalogue-77"><a href="#abs_catalogue-77"><span class="linenos"> 77</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">tables</span><span class="p">:</span>
</span><span id="abs_catalogue-78"><a href="#abs_catalogue-78"><span class="linenos"> 78</span></a>                <span class="k">raise</span> <span class="n">CatalogueError</span><span class="p">(</span><span class="s2">&quot;No tables found in HTML content&quot;</span><span class="p">)</span>
</span><span id="abs_catalogue-79"><a href="#abs_catalogue-79"><span class="linenos"> 79</span></a>            <span class="n">links</span> <span class="o">=</span> <span class="n">tables</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># Get the last table</span>
</span><span id="abs_catalogue-80"><a href="#abs_catalogue-80"><span class="linenos"> 80</span></a>        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="abs_catalogue-81"><a href="#abs_catalogue-81"><span class="linenos"> 81</span></a>            <span class="k">raise</span> <span class="n">CatalogueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to parse HTML tables: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
</span><span id="abs_catalogue-82"><a href="#abs_catalogue-82"><span class="linenos"> 82</span></a>
</span><span id="abs_catalogue-83"><a href="#abs_catalogue-83"><span class="linenos"> 83</span></a>        <span class="c1"># Validate required columns exist</span>
</span><span id="abs_catalogue-84"><a href="#abs_catalogue-84"><span class="linenos"> 84</span></a>        <span class="n">required_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Catalogue number&quot;</span><span class="p">,</span> <span class="s2">&quot;Topic&quot;</span><span class="p">]</span>
</span><span id="abs_catalogue-85"><a href="#abs_catalogue-85"><span class="linenos"> 85</span></a>        <span class="n">missing_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">required_cols</span> <span class="k">if</span> <span class="n">col</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">links</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
</span><span id="abs_catalogue-86"><a href="#abs_catalogue-86"><span class="linenos"> 86</span></a>        <span class="k">if</span> <span class="n">missing_cols</span><span class="p">:</span>
</span><span id="abs_catalogue-87"><a href="#abs_catalogue-87"><span class="linenos"> 87</span></a>            <span class="k">raise</span> <span class="n">CatalogueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Missing required columns: </span><span class="si">{</span><span class="n">missing_cols</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="abs_catalogue-88"><a href="#abs_catalogue-88"><span class="linenos"> 88</span></a>
</span><span id="abs_catalogue-89"><a href="#abs_catalogue-89"><span class="linenos"> 89</span></a>        <span class="c1"># Extract catalogue numbers and URLs</span>
</span><span id="abs_catalogue-90"><a href="#abs_catalogue-90"><span class="linenos"> 90</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="abs_catalogue-91"><a href="#abs_catalogue-91"><span class="linenos"> 91</span></a>            <span class="n">cats</span> <span class="o">=</span> <span class="n">links</span><span class="p">[</span><span class="s2">&quot;Catalogue number&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">Series</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="abs_catalogue-92"><a href="#abs_catalogue-92"><span class="linenos"> 92</span></a>            <span class="n">urls</span> <span class="o">=</span> <span class="n">links</span><span class="p">[</span><span class="s2">&quot;Topic&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">Series</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="abs_catalogue-93"><a href="#abs_catalogue-93"><span class="linenos"> 93</span></a>        <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="abs_catalogue-94"><a href="#abs_catalogue-94"><span class="linenos"> 94</span></a>            <span class="k">raise</span> <span class="n">CatalogueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to extract catalogue data: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
</span><span id="abs_catalogue-95"><a href="#abs_catalogue-95"><span class="linenos"> 95</span></a>
</span><span id="abs_catalogue-96"><a href="#abs_catalogue-96"><span class="linenos"> 96</span></a>        <span class="c1"># Process topic URLs to create hierarchical structure</span>
</span><span id="abs_catalogue-97"><a href="#abs_catalogue-97"><span class="linenos"> 97</span></a>        <span class="n">url_snippets</span> <span class="o">=</span> <span class="n">_process_topic_urls</span><span class="p">(</span><span class="n">urls</span><span class="p">)</span>
</span><span id="abs_catalogue-98"><a href="#abs_catalogue-98"><span class="linenos"> 98</span></a>
</span><span id="abs_catalogue-99"><a href="#abs_catalogue-99"><span class="linenos"> 99</span></a>        <span class="c1"># Create main DataFrame with hierarchical topic structure</span>
</span><span id="abs_catalogue-100"><a href="#abs_catalogue-100"><span class="linenos">100</span></a>        <span class="n">frame</span> <span class="o">=</span> <span class="n">_create_topic_frame</span><span class="p">(</span><span class="n">url_snippets</span><span class="p">)</span>
</span><span id="abs_catalogue-101"><a href="#abs_catalogue-101"><span class="linenos">101</span></a>        <span class="n">frame</span><span class="p">[</span><span class="s2">&quot;URL&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">urls</span>
</span><span id="abs_catalogue-102"><a href="#abs_catalogue-102"><span class="linenos">102</span></a>
</span><span id="abs_catalogue-103"><a href="#abs_catalogue-103"><span class="linenos">103</span></a>        <span class="c1"># Align catalogue numbers with processed frame</span>
</span><span id="abs_catalogue-104"><a href="#abs_catalogue-104"><span class="linenos">104</span></a>        <span class="n">cats</span> <span class="o">=</span> <span class="n">cats</span><span class="p">[</span><span class="n">frame</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
</span><span id="abs_catalogue-105"><a href="#abs_catalogue-105"><span class="linenos">105</span></a>
</span><span id="abs_catalogue-106"><a href="#abs_catalogue-106"><span class="linenos">106</span></a>        <span class="c1"># Process catalogue status (active vs ceased)</span>
</span><span id="abs_catalogue-107"><a href="#abs_catalogue-107"><span class="linenos">107</span></a>        <span class="n">cat_index</span><span class="p">,</span> <span class="n">status</span> <span class="o">=</span> <span class="n">_process_catalogue_status</span><span class="p">(</span><span class="n">cats</span><span class="p">)</span>
</span><span id="abs_catalogue-108"><a href="#abs_catalogue-108"><span class="linenos">108</span></a>
</span><span id="abs_catalogue-109"><a href="#abs_catalogue-109"><span class="linenos">109</span></a>        <span class="n">frame</span><span class="p">[</span><span class="s2">&quot;Status&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">status</span>
</span><span id="abs_catalogue-110"><a href="#abs_catalogue-110"><span class="linenos">110</span></a>        <span class="n">frame</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="n">cat_index</span><span class="p">)</span>
</span><span id="abs_catalogue-111"><a href="#abs_catalogue-111"><span class="linenos">111</span></a>        <span class="n">frame</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">CATALOGUE_INDEX_NAME</span>
</span><span id="abs_catalogue-112"><a href="#abs_catalogue-112"><span class="linenos">112</span></a>
</span><span id="abs_catalogue-113"><a href="#abs_catalogue-113"><span class="linenos">113</span></a>    <span class="k">except</span> <span class="p">(</span><span class="n">HttpError</span><span class="p">,</span> <span class="n">CacheError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="abs_catalogue-114"><a href="#abs_catalogue-114"><span class="linenos">114</span></a>        <span class="k">raise</span> <span class="n">CatalogueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error retrieving ABS catalogue: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
</span><span id="abs_catalogue-115"><a href="#abs_catalogue-115"><span class="linenos">115</span></a>
</span><span id="abs_catalogue-116"><a href="#abs_catalogue-116"><span class="linenos">116</span></a>    <span class="k">return</span> <span class="n">frame</span>
</span></pre></div>


            <div class="docstring"><p>Return a DataFrame of ABS Catalogue numbers.</p>

<p>Downloads catalogue data from the ABS website on first call and caches
for future use. The returned DataFrame contains catalogue numbers with
their topics, themes, URLs, and status.</p>

<h2 id="parameters">Parameters</h2>

<p>cache_only : bool, default False
    If True, only use cached data and don't attempt to download.
verbose : bool, default False
    If True, print progress messages.</p>

<h2 id="returns">Returns</h2>

<p>DataFrame
    DataFrame with columns ['Theme', 'Parent Topic', 'Topic', 'URL', 'Status']
    and index of catalogue IDs.</p>

<h2 id="raises">Raises</h2>

<p>CatalogueError
    If the catalogue data cannot be retrieved or parsed.
HttpError
    If there's a network error downloading the catalogue.
CacheError
    If cache_only=True but no cached data is available.</p>

<h2 id="example">Example</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">readabs</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ra</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">catalogue</span> <span class="o">=</span> <span class="n">ra</span><span class="o">.</span><span class="n">abs_catalogue</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">catalogue</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</code></pre>
</div>
</div>


                </section>
                <section id="annualise_percentages">
                            <input id="annualise_percentages-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">annualise_percentages</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">Datatype</span>, </span><span class="param"><span class="o">*</span>, </span><span class="param"><span class="n">periods_per_year</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="o">~</span><span class="n">Datatype</span>:</span></span>

                <label class="view-source-button" for="annualise_percentages-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#annualise_percentages"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="annualise_percentages-95"><a href="#annualise_percentages-95"><span class="linenos"> 95</span></a><span class="k">def</span><span class="w"> </span><span class="nf">annualise_percentages</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">periods_per_year</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataT</span><span class="p">:</span>
</span><span id="annualise_percentages-96"><a href="#annualise_percentages-96"><span class="linenos"> 96</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Annualise a growth rate (expressed as a percentage) for a period.</span>
</span><span id="annualise_percentages-97"><a href="#annualise_percentages-97"><span class="linenos"> 97</span></a>
</span><span id="annualise_percentages-98"><a href="#annualise_percentages-98"><span class="linenos"> 98</span></a><span class="sd">    Args:</span>
</span><span id="annualise_percentages-99"><a href="#annualise_percentages-99"><span class="linenos"> 99</span></a><span class="sd">        data : pandas Series or DataFrame - The growth rate (expressed as a</span>
</span><span id="annualise_percentages-100"><a href="#annualise_percentages-100"><span class="linenos">100</span></a><span class="sd">            percentage) to annualise. Note a growth percentage of 5% is a growth</span>
</span><span id="annualise_percentages-101"><a href="#annualise_percentages-101"><span class="linenos">101</span></a><span class="sd">            rate of 0.05.</span>
</span><span id="annualise_percentages-102"><a href="#annualise_percentages-102"><span class="linenos">102</span></a><span class="sd">        periods_per_year : int or float, default 12 - The number of periods in a</span>
</span><span id="annualise_percentages-103"><a href="#annualise_percentages-103"><span class="linenos">103</span></a><span class="sd">            year. For monthly data, this is 12.</span>
</span><span id="annualise_percentages-104"><a href="#annualise_percentages-104"><span class="linenos">104</span></a>
</span><span id="annualise_percentages-105"><a href="#annualise_percentages-105"><span class="linenos">105</span></a><span class="sd">    Returns:</span>
</span><span id="annualise_percentages-106"><a href="#annualise_percentages-106"><span class="linenos">106</span></a><span class="sd">        pandas Series or DataFrame - The annualised growth expressed as a percentage.</span>
</span><span id="annualise_percentages-107"><a href="#annualise_percentages-107"><span class="linenos">107</span></a><span class="sd">            For DataFrame input, the annualised growth rate is calculated for each column.</span>
</span><span id="annualise_percentages-108"><a href="#annualise_percentages-108"><span class="linenos">108</span></a>
</span><span id="annualise_percentages-109"><a href="#annualise_percentages-109"><span class="linenos">109</span></a><span class="sd">    Raises:</span>
</span><span id="annualise_percentages-110"><a href="#annualise_percentages-110"><span class="linenos">110</span></a><span class="sd">        InvalidParameterError - If periods_per_year is not positive.</span>
</span><span id="annualise_percentages-111"><a href="#annualise_percentages-111"><span class="linenos">111</span></a><span class="sd">        InvalidDataError - If data is not a Series or DataFrame.</span>
</span><span id="annualise_percentages-112"><a href="#annualise_percentages-112"><span class="linenos">112</span></a>
</span><span id="annualise_percentages-113"><a href="#annualise_percentages-113"><span class="linenos">113</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="annualise_percentages-114"><a href="#annualise_percentages-114"><span class="linenos">114</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">Series</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">)):</span>
</span><span id="annualise_percentages-115"><a href="#annualise_percentages-115"><span class="linenos">115</span></a>        <span class="k">raise</span> <span class="n">InvalidDataError</span><span class="p">(</span><span class="s2">&quot;data must be a pandas Series or DataFrame&quot;</span><span class="p">)</span>
</span><span id="annualise_percentages-116"><a href="#annualise_percentages-116"><span class="linenos">116</span></a>
</span><span id="annualise_percentages-117"><a href="#annualise_percentages-117"><span class="linenos">117</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">periods_per_year</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">))</span> <span class="ow">or</span> <span class="n">periods_per_year</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="annualise_percentages-118"><a href="#annualise_percentages-118"><span class="linenos">118</span></a>        <span class="k">raise</span> <span class="n">InvalidParameterError</span><span class="p">(</span><span class="s2">&quot;periods_per_year must be a positive number&quot;</span><span class="p">)</span>
</span><span id="annualise_percentages-119"><a href="#annualise_percentages-119"><span class="linenos">119</span></a>
</span><span id="annualise_percentages-120"><a href="#annualise_percentages-120"><span class="linenos">120</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="annualise_percentages-121"><a href="#annualise_percentages-121"><span class="linenos">121</span></a>        <span class="n">rates</span> <span class="o">=</span> <span class="n">data</span> <span class="o">/</span> <span class="mf">100.0</span>
</span><span id="annualise_percentages-122"><a href="#annualise_percentages-122"><span class="linenos">122</span></a>        <span class="k">return</span> <span class="n">annualise_rates</span><span class="p">(</span><span class="n">rates</span><span class="p">,</span> <span class="n">periods_per_year</span><span class="o">=</span><span class="n">periods_per_year</span><span class="p">)</span>
</span><span id="annualise_percentages-123"><a href="#annualise_percentages-123"><span class="linenos">123</span></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="annualise_percentages-124"><a href="#annualise_percentages-124"><span class="linenos">124</span></a>        <span class="k">raise</span> <span class="n">InvalidDataError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error annualising percentages: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
</span></pre></div>


            <div class="docstring"><p>Annualise a growth rate (expressed as a percentage) for a period.</p>

<p>Args:
    data : pandas Series or DataFrame - The growth rate (expressed as a
        percentage) to annualise. Note a growth percentage of 5% is a growth
        rate of 0.05.
    periods_per_year : int or float, default 12 - The number of periods in a
        year. For monthly data, this is 12.</p>

<p>Returns:
    pandas Series or DataFrame - The annualised growth expressed as a percentage.
        For DataFrame input, the annualised growth rate is calculated for each column.</p>

<p>Raises:
    InvalidParameterError - If periods_per_year is not positive.
    InvalidDataError - If data is not a Series or DataFrame.</p>
</div>


                </section>
                <section id="annualise_rates">
                            <input id="annualise_rates-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">annualise_rates</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">Datatype</span>, </span><span class="param"><span class="o">*</span>, </span><span class="param"><span class="n">periods_per_year</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="o">~</span><span class="n">Datatype</span>:</span></span>

                <label class="view-source-button" for="annualise_rates-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#annualise_rates"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="annualise_rates-62"><a href="#annualise_rates-62"><span class="linenos">62</span></a><span class="k">def</span><span class="w"> </span><span class="nf">annualise_rates</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">periods_per_year</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataT</span><span class="p">:</span>
</span><span id="annualise_rates-63"><a href="#annualise_rates-63"><span class="linenos">63</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Annualise a growth rate for a period.</span>
</span><span id="annualise_rates-64"><a href="#annualise_rates-64"><span class="linenos">64</span></a>
</span><span id="annualise_rates-65"><a href="#annualise_rates-65"><span class="linenos">65</span></a><span class="sd">    Note: returns a percentage value (and not a rate)!</span>
</span><span id="annualise_rates-66"><a href="#annualise_rates-66"><span class="linenos">66</span></a>
</span><span id="annualise_rates-67"><a href="#annualise_rates-67"><span class="linenos">67</span></a><span class="sd">    Args:</span>
</span><span id="annualise_rates-68"><a href="#annualise_rates-68"><span class="linenos">68</span></a><span class="sd">        data : pandas Series or DataFrame - The growth rate to annualise.</span>
</span><span id="annualise_rates-69"><a href="#annualise_rates-69"><span class="linenos">69</span></a><span class="sd">            Note a growth rate of 0.05 is 5%.</span>
</span><span id="annualise_rates-70"><a href="#annualise_rates-70"><span class="linenos">70</span></a><span class="sd">        periods_per_year : int or float, default 12 - The number of periods in a year.</span>
</span><span id="annualise_rates-71"><a href="#annualise_rates-71"><span class="linenos">71</span></a><span class="sd">            For monthly data, this is 12.</span>
</span><span id="annualise_rates-72"><a href="#annualise_rates-72"><span class="linenos">72</span></a>
</span><span id="annualise_rates-73"><a href="#annualise_rates-73"><span class="linenos">73</span></a><span class="sd">    Returns:</span>
</span><span id="annualise_rates-74"><a href="#annualise_rates-74"><span class="linenos">74</span></a><span class="sd">        pandas Series or DataFrame - The annualised growth expressed as a percentage</span>
</span><span id="annualise_rates-75"><a href="#annualise_rates-75"><span class="linenos">75</span></a><span class="sd">            (not a rate). For DataFrame input, the annualised growth rate is</span>
</span><span id="annualise_rates-76"><a href="#annualise_rates-76"><span class="linenos">76</span></a><span class="sd">            calculated for each column.</span>
</span><span id="annualise_rates-77"><a href="#annualise_rates-77"><span class="linenos">77</span></a>
</span><span id="annualise_rates-78"><a href="#annualise_rates-78"><span class="linenos">78</span></a><span class="sd">    Raises:</span>
</span><span id="annualise_rates-79"><a href="#annualise_rates-79"><span class="linenos">79</span></a><span class="sd">        InvalidParameterError - If periods_per_year is not positive.</span>
</span><span id="annualise_rates-80"><a href="#annualise_rates-80"><span class="linenos">80</span></a><span class="sd">    InvalidDataError - If data is not a Series or DataFrame.</span>
</span><span id="annualise_rates-81"><a href="#annualise_rates-81"><span class="linenos">81</span></a>
</span><span id="annualise_rates-82"><a href="#annualise_rates-82"><span class="linenos">82</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="annualise_rates-83"><a href="#annualise_rates-83"><span class="linenos">83</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">Series</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">)):</span>
</span><span id="annualise_rates-84"><a href="#annualise_rates-84"><span class="linenos">84</span></a>        <span class="k">raise</span> <span class="n">InvalidDataError</span><span class="p">(</span><span class="s2">&quot;data must be a pandas Series or DataFrame&quot;</span><span class="p">)</span>
</span><span id="annualise_rates-85"><a href="#annualise_rates-85"><span class="linenos">85</span></a>
</span><span id="annualise_rates-86"><a href="#annualise_rates-86"><span class="linenos">86</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">periods_per_year</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">))</span> <span class="ow">or</span> <span class="n">periods_per_year</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="annualise_rates-87"><a href="#annualise_rates-87"><span class="linenos">87</span></a>        <span class="k">raise</span> <span class="n">InvalidParameterError</span><span class="p">(</span><span class="s2">&quot;periods_per_year must be a positive number&quot;</span><span class="p">)</span>
</span><span id="annualise_rates-88"><a href="#annualise_rates-88"><span class="linenos">88</span></a>
</span><span id="annualise_rates-89"><a href="#annualise_rates-89"><span class="linenos">89</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="annualise_rates-90"><a href="#annualise_rates-90"><span class="linenos">90</span></a>        <span class="k">return</span> <span class="p">(((</span><span class="mi">1</span> <span class="o">+</span> <span class="n">data</span><span class="p">)</span> <span class="o">**</span> <span class="n">periods_per_year</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
</span><span id="annualise_rates-91"><a href="#annualise_rates-91"><span class="linenos">91</span></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="annualise_rates-92"><a href="#annualise_rates-92"><span class="linenos">92</span></a>        <span class="k">raise</span> <span class="n">InvalidDataError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error annualising rates: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
</span></pre></div>


            <div class="docstring"><p>Annualise a growth rate for a period.</p>

<p>Note: returns a percentage value (and not a rate)!</p>

<p>Args:
    data : pandas Series or DataFrame - The growth rate to annualise.
        Note a growth rate of 0.05 is 5%.
    periods_per_year : int or float, default 12 - The number of periods in a year.
        For monthly data, this is 12.</p>

<p>Returns:
    pandas Series or DataFrame - The annualised growth expressed as a percentage
        (not a rate). For DataFrame input, the annualised growth rate is
        calculated for each column.</p>

<p>Raises:
    InvalidParameterError - If periods_per_year is not positive.
InvalidDataError - If data is not a Series or DataFrame.</p>
</div>


                </section>
                <section id="find_abs_id">
                            <input id="find_abs_id-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">find_abs_id</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">meta</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>,</span><span class="param">	<span class="n">search_terms</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="find_abs_id-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#find_abs_id"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="find_abs_id-126"><a href="#find_abs_id-126"><span class="linenos">126</span></a><span class="k">def</span><span class="w"> </span><span class="nf">find_abs_id</span><span class="p">(</span>
</span><span id="find_abs_id-127"><a href="#find_abs_id-127"><span class="linenos">127</span></a>    <span class="n">meta</span><span class="p">:</span> <span class="n">DataFrame</span><span class="p">,</span>
</span><span id="find_abs_id-128"><a href="#find_abs_id-128"><span class="linenos">128</span></a>    <span class="n">search_terms</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
</span><span id="find_abs_id-129"><a href="#find_abs_id-129"><span class="linenos">129</span></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="find_abs_id-130"><a href="#find_abs_id-130"><span class="linenos">130</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>  <span class="c1"># table, series_id, units</span>
</span><span id="find_abs_id-131"><a href="#find_abs_id-131"><span class="linenos">131</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Find a unique ABS series identifier in the ABS metadata.</span>
</span><span id="find_abs_id-132"><a href="#find_abs_id-132"><span class="linenos">132</span></a>
</span><span id="find_abs_id-133"><a href="#find_abs_id-133"><span class="linenos">133</span></a><span class="sd">    Parameters</span>
</span><span id="find_abs_id-134"><a href="#find_abs_id-134"><span class="linenos">134</span></a><span class="sd">    ----------</span>
</span><span id="find_abs_id-135"><a href="#find_abs_id-135"><span class="linenos">135</span></a><span class="sd">    meta : DataFrame</span>
</span><span id="find_abs_id-136"><a href="#find_abs_id-136"><span class="linenos">136</span></a><span class="sd">        A pandas DataFrame of metadata from the ABS</span>
</span><span id="find_abs_id-137"><a href="#find_abs_id-137"><span class="linenos">137</span></a><span class="sd">        (via read_abs_cat() or read_abs_series()).</span>
</span><span id="find_abs_id-138"><a href="#find_abs_id-138"><span class="linenos">138</span></a><span class="sd">    search_terms : dict[str, str]</span>
</span><span id="find_abs_id-139"><a href="#find_abs_id-139"><span class="linenos">139</span></a><span class="sd">        A dictionary {search_phrase: meta_column_name, ...} of search terms.</span>
</span><span id="find_abs_id-140"><a href="#find_abs_id-140"><span class="linenos">140</span></a><span class="sd">        Note: the search terms must be unique, as a dictionary cannot hold the</span>
</span><span id="find_abs_id-141"><a href="#find_abs_id-141"><span class="linenos">141</span></a><span class="sd">        same search term to be applied to different columns.</span>
</span><span id="find_abs_id-142"><a href="#find_abs_id-142"><span class="linenos">142</span></a><span class="sd">    **kwargs : Any</span>
</span><span id="find_abs_id-143"><a href="#find_abs_id-143"><span class="linenos">143</span></a><span class="sd">        Additional keyword arguments. The only additional keyword argument</span>
</span><span id="find_abs_id-144"><a href="#find_abs_id-144"><span class="linenos">144</span></a><span class="sd">        that is used is validate_unique.</span>
</span><span id="find_abs_id-145"><a href="#find_abs_id-145"><span class="linenos">145</span></a><span class="sd">    validate_unique : bool = True</span>
</span><span id="find_abs_id-146"><a href="#find_abs_id-146"><span class="linenos">146</span></a><span class="sd">        Raise a ValueError if the search result is not a single</span>
</span><span id="find_abs_id-147"><a href="#find_abs_id-147"><span class="linenos">147</span></a><span class="sd">        unique match. Note: the default is True for safety.</span>
</span><span id="find_abs_id-148"><a href="#find_abs_id-148"><span class="linenos">148</span></a>
</span><span id="find_abs_id-149"><a href="#find_abs_id-149"><span class="linenos">149</span></a><span class="sd">    Returns</span>
</span><span id="find_abs_id-150"><a href="#find_abs_id-150"><span class="linenos">150</span></a><span class="sd">    -------</span>
</span><span id="find_abs_id-151"><a href="#find_abs_id-151"><span class="linenos">151</span></a><span class="sd">    tuple[str, str, str]</span>
</span><span id="find_abs_id-152"><a href="#find_abs_id-152"><span class="linenos">152</span></a><span class="sd">        A tuple of the table, series_id and units for the unique</span>
</span><span id="find_abs_id-153"><a href="#find_abs_id-153"><span class="linenos">153</span></a><span class="sd">        series_id that matches the search terms.</span>
</span><span id="find_abs_id-154"><a href="#find_abs_id-154"><span class="linenos">154</span></a>
</span><span id="find_abs_id-155"><a href="#find_abs_id-155"><span class="linenos">155</span></a><span class="sd">    Metacol</span>
</span><span id="find_abs_id-156"><a href="#find_abs_id-156"><span class="linenos">156</span></a><span class="sd">    -------</span>
</span><span id="find_abs_id-157"><a href="#find_abs_id-157"><span class="linenos">157</span></a><span class="sd">    Because the meta data is a DataFrame, the columns can be referenced by either</span>
</span><span id="find_abs_id-158"><a href="#find_abs_id-158"><span class="linenos">158</span></a><span class="sd">    their full textual name, or by the short name defined in the metacol object.</span>
</span><span id="find_abs_id-159"><a href="#find_abs_id-159"><span class="linenos">159</span></a><span class="sd">    For example, if metacol is imported as mc, to refer to the</span>
</span><span id="find_abs_id-160"><a href="#find_abs_id-160"><span class="linenos">160</span></a><span class="sd">    `Data Item Description` column, the user can refer to it as mc.did.</span>
</span><span id="find_abs_id-161"><a href="#find_abs_id-161"><span class="linenos">161</span></a>
</span><span id="find_abs_id-162"><a href="#find_abs_id-162"><span class="linenos">162</span></a><span class="sd">    Example</span>
</span><span id="find_abs_id-163"><a href="#find_abs_id-163"><span class="linenos">163</span></a><span class="sd">    -------</span>
</span><span id="find_abs_id-164"><a href="#find_abs_id-164"><span class="linenos">164</span></a><span class="sd">    ```python</span>
</span><span id="find_abs_id-165"><a href="#find_abs_id-165"><span class="linenos">165</span></a><span class="sd">    from readabs import metacol as mc  # alias for the ABS meta data column names</span>
</span><span id="find_abs_id-166"><a href="#find_abs_id-166"><span class="linenos">166</span></a><span class="sd">    from readabs import read_abs_cat, find_abs_id, recalibrate</span>
</span><span id="find_abs_id-167"><a href="#find_abs_id-167"><span class="linenos">167</span></a><span class="sd">    cat_num = &quot;6202.0&quot;  # The ABS labour force survey</span>
</span><span id="find_abs_id-168"><a href="#find_abs_id-168"><span class="linenos">168</span></a><span class="sd">    data, meta = read_abs_cat(cat_num)</span>
</span><span id="find_abs_id-169"><a href="#find_abs_id-169"><span class="linenos">169</span></a><span class="sd">    search_terms = {</span>
</span><span id="find_abs_id-170"><a href="#find_abs_id-170"><span class="linenos">170</span></a><span class="sd">        &quot;Employed total ;  Persons ;&quot;: mc.did,</span>
</span><span id="find_abs_id-171"><a href="#find_abs_id-171"><span class="linenos">171</span></a><span class="sd">        &quot;Seasonally Adjusted&quot;: mc.stype,</span>
</span><span id="find_abs_id-172"><a href="#find_abs_id-172"><span class="linenos">172</span></a><span class="sd">        &quot;6202001&quot;: mc.table,</span>
</span><span id="find_abs_id-173"><a href="#find_abs_id-173"><span class="linenos">173</span></a><span class="sd">    }</span>
</span><span id="find_abs_id-174"><a href="#find_abs_id-174"><span class="linenos">174</span></a><span class="sd">    table, series_id, units = find_abs_id(meta, search_terms)</span>
</span><span id="find_abs_id-175"><a href="#find_abs_id-175"><span class="linenos">175</span></a><span class="sd">    print(f&quot;Table: {table} Series ID: {series_id} Units: {units}&quot;)</span>
</span><span id="find_abs_id-176"><a href="#find_abs_id-176"><span class="linenos">176</span></a><span class="sd">    recal_series, recal_units = recalibrate(data[table][series_id], units)</span>
</span><span id="find_abs_id-177"><a href="#find_abs_id-177"><span class="linenos">177</span></a><span class="sd">    ```</span>
</span><span id="find_abs_id-178"><a href="#find_abs_id-178"><span class="linenos">178</span></a>
</span><span id="find_abs_id-179"><a href="#find_abs_id-179"><span class="linenos">179</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="find_abs_id-180"><a href="#find_abs_id-180"><span class="linenos">180</span></a>    <span class="n">validate_unique</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;validate_unique&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="find_abs_id-181"><a href="#find_abs_id-181"><span class="linenos">181</span></a>    <span class="n">found</span> <span class="o">=</span> <span class="n">search_abs_meta</span><span class="p">(</span><span class="n">meta</span><span class="p">,</span> <span class="n">search_terms</span><span class="p">,</span> <span class="n">validate_unique</span><span class="o">=</span><span class="n">validate_unique</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="find_abs_id-182"><a href="#find_abs_id-182"><span class="linenos">182</span></a>    <span class="n">table</span><span class="p">,</span> <span class="n">series_id</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="find_abs_id-183"><a href="#find_abs_id-183"><span class="linenos">183</span></a>        <span class="n">found</span><span class="p">[</span><span class="n">mc</span><span class="o">.</span><span class="n">table</span><span class="p">],</span>
</span><span id="find_abs_id-184"><a href="#find_abs_id-184"><span class="linenos">184</span></a>        <span class="n">found</span><span class="p">[</span><span class="n">mc</span><span class="o">.</span><span class="n">id</span><span class="p">],</span>
</span><span id="find_abs_id-185"><a href="#find_abs_id-185"><span class="linenos">185</span></a>        <span class="n">found</span><span class="p">[</span><span class="n">mc</span><span class="o">.</span><span class="n">unit</span><span class="p">],</span>
</span><span id="find_abs_id-186"><a href="#find_abs_id-186"><span class="linenos">186</span></a>    <span class="p">)</span>
</span><span id="find_abs_id-187"><a href="#find_abs_id-187"><span class="linenos">187</span></a>
</span><span id="find_abs_id-188"><a href="#find_abs_id-188"><span class="linenos">188</span></a>    <span class="k">return</span> <span class="n">table</span><span class="p">,</span> <span class="n">series_id</span><span class="p">,</span> <span class="n">units</span>
</span></pre></div>


            <div class="docstring"><p>Find a unique ABS series identifier in the ABS metadata.</p>

<h2 id="parameters">Parameters</h2>

<p>meta : DataFrame
    A pandas DataFrame of metadata from the ABS
    (via read_abs_cat() or read_abs_series()).
search_terms : dict[str, str]
    A dictionary {search_phrase: meta_column_name, ...} of search terms.
    Note: the search terms must be unique, as a dictionary cannot hold the
    same search term to be applied to different columns.
**kwargs : Any
    Additional keyword arguments. The only additional keyword argument
    that is used is validate_unique.
validate_unique : bool = True
    Raise a ValueError if the search result is not a single
    unique match. Note: the default is True for safety.</p>

<h2 id="returns">Returns</h2>

<p>tuple[str, str, str]
    A tuple of the table, series_id and units for the unique
    series_id that matches the search terms.</p>

<h2 id="metacol">Metacol</h2>

<p>Because the meta data is a DataFrame, the columns can be referenced by either
their full textual name, or by the short name defined in the metacol object.
For example, if metacol is imported as mc, to refer to the
<code>Data Item Description</code> column, the user can refer to it as mc.did.</p>

<h2 id="example">Example</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">readabs</span><span class="w"> </span><span class="kn">import</span> <span class="n">metacol</span> <span class="k">as</span> <span class="n">mc</span>  <span class="c1"># alias for the ABS meta data column names</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">readabs</span><span class="w"> </span><span class="kn">import</span> <span class="n">read_abs_cat</span><span class="p">,</span> <span class="n">find_abs_id</span><span class="p">,</span> <span class="n">recalibrate</span>
<span class="n">cat_num</span> <span class="o">=</span> <span class="s2">&quot;6202.0&quot;</span>  <span class="c1"># The ABS labour force survey</span>
<span class="n">data</span><span class="p">,</span> <span class="n">meta</span> <span class="o">=</span> <span class="n">read_abs_cat</span><span class="p">(</span><span class="n">cat_num</span><span class="p">)</span>
<span class="n">search_terms</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Employed total ;  Persons ;&quot;</span><span class="p">:</span> <span class="n">mc</span><span class="o">.</span><span class="n">did</span><span class="p">,</span>
    <span class="s2">&quot;Seasonally Adjusted&quot;</span><span class="p">:</span> <span class="n">mc</span><span class="o">.</span><span class="n">stype</span><span class="p">,</span>
    <span class="s2">&quot;6202001&quot;</span><span class="p">:</span> <span class="n">mc</span><span class="o">.</span><span class="n">table</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">table</span><span class="p">,</span> <span class="n">series_id</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">find_abs_id</span><span class="p">(</span><span class="n">meta</span><span class="p">,</span> <span class="n">search_terms</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Table: </span><span class="si">{</span><span class="n">table</span><span class="si">}</span><span class="s2"> Series ID: </span><span class="si">{</span><span class="n">series_id</span><span class="si">}</span><span class="s2"> Units: </span><span class="si">{</span><span class="n">units</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">recal_series</span><span class="p">,</span> <span class="n">recal_units</span> <span class="o">=</span> <span class="n">recalibrate</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">table</span><span class="p">][</span><span class="n">series_id</span><span class="p">],</span> <span class="n">units</span><span class="p">)</span>
</code></pre>
</div>
</div>


                </section>
                <section id="grab_abs_url">
                            <input id="grab_abs_url-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-cache">@cache</div>

        <span class="def">def</span>
        <span class="name">grab_abs_url</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">cat</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>,</span><span class="param">	<span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n"><a href="#ReadArgs">ReadArgs</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="grab_abs_url-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#grab_abs_url"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="grab_abs_url-37"><a href="#grab_abs_url-37"><span class="linenos">37</span></a><span class="nd">@cache</span>  <span class="c1"># minimise slowness with repeat business</span>
</span><span id="grab_abs_url-38"><a href="#grab_abs_url-38"><span class="linenos">38</span></a><span class="k">def</span><span class="w"> </span><span class="nf">grab_abs_url</span><span class="p">(</span>
</span><span id="grab_abs_url-39"><a href="#grab_abs_url-39"><span class="linenos">39</span></a>    <span class="n">cat</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="grab_abs_url-40"><a href="#grab_abs_url-40"><span class="linenos">40</span></a>    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="grab_abs_url-41"><a href="#grab_abs_url-41"><span class="linenos">41</span></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">ReadArgs</span><span class="p">],</span>
</span><span id="grab_abs_url-42"><a href="#grab_abs_url-42"><span class="linenos">42</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">]:</span>
</span><span id="grab_abs_url-43"><a href="#grab_abs_url-43"><span class="linenos">43</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;For a given URL, extract the data from the Excel and ZIP file links found on that page.</span>
</span><span id="grab_abs_url-44"><a href="#grab_abs_url-44"><span class="linenos">44</span></a>
</span><span id="grab_abs_url-45"><a href="#grab_abs_url-45"><span class="linenos">45</span></a><span class="sd">    The data is returned as a dictionary of DataFrames. The Excel files are converted</span>
</span><span id="grab_abs_url-46"><a href="#grab_abs_url-46"><span class="linenos">46</span></a><span class="sd">    into DataFrames, with each sheet in each Excel file becoming a separate DataFrame.</span>
</span><span id="grab_abs_url-47"><a href="#grab_abs_url-47"><span class="linenos">47</span></a><span class="sd">    ZIP files are examined for Excel files, which are similarly converted into</span>
</span><span id="grab_abs_url-48"><a href="#grab_abs_url-48"><span class="linenos">48</span></a><span class="sd">    DataFrames. The dictionary of DataFrames is returned.</span>
</span><span id="grab_abs_url-49"><a href="#grab_abs_url-49"><span class="linenos">49</span></a>
</span><span id="grab_abs_url-50"><a href="#grab_abs_url-50"><span class="linenos">50</span></a><span class="sd">    The preferred mechanism for reading ABS data is to use the `read_abs_cat()`</span>
</span><span id="grab_abs_url-51"><a href="#grab_abs_url-51"><span class="linenos">51</span></a><span class="sd">    or `read_abs_series()` functions. This function is provided for those</span>
</span><span id="grab_abs_url-52"><a href="#grab_abs_url-52"><span class="linenos">52</span></a><span class="sd">    cases where the data is not available in the ABS catalogue, where the</span>
</span><span id="grab_abs_url-53"><a href="#grab_abs_url-53"><span class="linenos">53</span></a><span class="sd">    data is not a timeseries, or where the user wants to extract data from</span>
</span><span id="grab_abs_url-54"><a href="#grab_abs_url-54"><span class="linenos">54</span></a><span class="sd">    a specific ABS landingpage.</span>
</span><span id="grab_abs_url-55"><a href="#grab_abs_url-55"><span class="linenos">55</span></a>
</span><span id="grab_abs_url-56"><a href="#grab_abs_url-56"><span class="linenos">56</span></a>
</span><span id="grab_abs_url-57"><a href="#grab_abs_url-57"><span class="linenos">57</span></a><span class="sd">    Parameters</span>
</span><span id="grab_abs_url-58"><a href="#grab_abs_url-58"><span class="linenos">58</span></a><span class="sd">    ----------</span>
</span><span id="grab_abs_url-59"><a href="#grab_abs_url-59"><span class="linenos">59</span></a><span class="sd">    url : str = &quot;&quot;</span>
</span><span id="grab_abs_url-60"><a href="#grab_abs_url-60"><span class="linenos">60</span></a><span class="sd">        A URL for an ABS Catalogue landing page. Either a url or</span>
</span><span id="grab_abs_url-61"><a href="#grab_abs_url-61"><span class="linenos">61</span></a><span class="sd">        a catalogue number must be provided. If both are provided, the</span>
</span><span id="grab_abs_url-62"><a href="#grab_abs_url-62"><span class="linenos">62</span></a><span class="sd">        URL will be used.</span>
</span><span id="grab_abs_url-63"><a href="#grab_abs_url-63"><span class="linenos">63</span></a>
</span><span id="grab_abs_url-64"><a href="#grab_abs_url-64"><span class="linenos">64</span></a><span class="sd">    cat : str = &quot;&quot;</span>
</span><span id="grab_abs_url-65"><a href="#grab_abs_url-65"><span class="linenos">65</span></a><span class="sd">        An ABS Catalogue number. If provided, and the URL is not</span>
</span><span id="grab_abs_url-66"><a href="#grab_abs_url-66"><span class="linenos">66</span></a><span class="sd">        provided, then the Catalogue number will be used to get the URL.</span>
</span><span id="grab_abs_url-67"><a href="#grab_abs_url-67"><span class="linenos">67</span></a>
</span><span id="grab_abs_url-68"><a href="#grab_abs_url-68"><span class="linenos">68</span></a><span class="sd">    **kwargs : Unpack[ReadArgs]</span>
</span><span id="grab_abs_url-69"><a href="#grab_abs_url-69"><span class="linenos">69</span></a><span class="sd">        Accepts the same keyword arguments as `read_abs_cat()`.</span>
</span><span id="grab_abs_url-70"><a href="#grab_abs_url-70"><span class="linenos">70</span></a>
</span><span id="grab_abs_url-71"><a href="#grab_abs_url-71"><span class="linenos">71</span></a><span class="sd">    Returns</span>
</span><span id="grab_abs_url-72"><a href="#grab_abs_url-72"><span class="linenos">72</span></a><span class="sd">    -------</span>
</span><span id="grab_abs_url-73"><a href="#grab_abs_url-73"><span class="linenos">73</span></a><span class="sd">    dict[str, DataFrame]</span>
</span><span id="grab_abs_url-74"><a href="#grab_abs_url-74"><span class="linenos">74</span></a><span class="sd">        A dictionary of DataFrames.</span>
</span><span id="grab_abs_url-75"><a href="#grab_abs_url-75"><span class="linenos">75</span></a>
</span><span id="grab_abs_url-76"><a href="#grab_abs_url-76"><span class="linenos">76</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="grab_abs_url-77"><a href="#grab_abs_url-77"><span class="linenos">77</span></a>    <span class="c1"># check/get the keyword arguments</span>
</span><span id="grab_abs_url-78"><a href="#grab_abs_url-78"><span class="linenos">78</span></a>    <span class="n">url</span> <span class="o">=</span> <span class="n">_get_url</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">cat</span><span class="p">)</span>
</span><span id="grab_abs_url-79"><a href="#grab_abs_url-79"><span class="linenos">79</span></a>    <span class="n">check_kwargs</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;grab_abs_url&quot;</span><span class="p">)</span>  <span class="c1"># warn if invalid kwargs</span>
</span><span id="grab_abs_url-80"><a href="#grab_abs_url-80"><span class="linenos">80</span></a>    <span class="n">args</span> <span class="o">=</span> <span class="n">get_args</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;grab_abs_url&quot;</span><span class="p">)</span>  <span class="c1"># get the valid kwargs</span>
</span><span id="grab_abs_url-81"><a href="#grab_abs_url-81"><span class="linenos">81</span></a>    <span class="k">if</span> <span class="n">verbose</span> <span class="o">:=</span> <span class="n">args</span><span class="p">[</span><span class="s2">&quot;verbose&quot;</span><span class="p">]:</span>
</span><span id="grab_abs_url-82"><a href="#grab_abs_url-82"><span class="linenos">82</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;grab_abs_url(): </span><span class="si">{</span><span class="n">url</span><span class="si">=}</span><span class="s2">, </span><span class="si">{</span><span class="n">args</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="grab_abs_url-83"><a href="#grab_abs_url-83"><span class="linenos">83</span></a>
</span><span id="grab_abs_url-84"><a href="#grab_abs_url-84"><span class="linenos">84</span></a>    <span class="c1"># get the URL links to the relevant ABS data files on that webpage</span>
</span><span id="grab_abs_url-85"><a href="#grab_abs_url-85"><span class="linenos">85</span></a>    <span class="n">links</span> <span class="o">=</span> <span class="n">get_abs_links</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span>
</span><span id="grab_abs_url-86"><a href="#grab_abs_url-86"><span class="linenos">86</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">links</span><span class="p">:</span>
</span><span id="grab_abs_url-87"><a href="#grab_abs_url-87"><span class="linenos">87</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No data files found at URL: </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="grab_abs_url-88"><a href="#grab_abs_url-88"><span class="linenos">88</span></a>        <span class="k">return</span> <span class="p">{}</span>  <span class="c1"># return an empty Dictionary</span>
</span><span id="grab_abs_url-89"><a href="#grab_abs_url-89"><span class="linenos">89</span></a>
</span><span id="grab_abs_url-90"><a href="#grab_abs_url-90"><span class="linenos">90</span></a>    <span class="c1"># read the data files into a dictionary of DataFrames</span>
</span><span id="grab_abs_url-91"><a href="#grab_abs_url-91"><span class="linenos">91</span></a>    <span class="n">abs_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="grab_abs_url-92"><a href="#grab_abs_url-92"><span class="linenos">92</span></a>
</span><span id="grab_abs_url-93"><a href="#grab_abs_url-93"><span class="linenos">93</span></a>    <span class="c1"># Process single file requests first</span>
</span><span id="grab_abs_url-94"><a href="#grab_abs_url-94"><span class="linenos">94</span></a>    <span class="n">abs_dict</span> <span class="o">=</span> <span class="n">_process_single_files</span><span class="p">(</span><span class="n">abs_dict</span><span class="p">,</span> <span class="n">links</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</span><span id="grab_abs_url-95"><a href="#grab_abs_url-95"><span class="linenos">95</span></a>    <span class="k">if</span> <span class="n">abs_dict</span><span class="p">:</span>  <span class="c1"># If single file was found and processed, return it</span>
</span><span id="grab_abs_url-96"><a href="#grab_abs_url-96"><span class="linenos">96</span></a>        <span class="k">return</span> <span class="n">abs_dict</span>
</span><span id="grab_abs_url-97"><a href="#grab_abs_url-97"><span class="linenos">97</span></a>
</span><span id="grab_abs_url-98"><a href="#grab_abs_url-98"><span class="linenos">98</span></a>    <span class="c1"># Process all files based on configuration</span>
</span><span id="grab_abs_url-99"><a href="#grab_abs_url-99"><span class="linenos">99</span></a>    <span class="k">return</span> <span class="n">_process_all_files</span><span class="p">(</span><span class="n">abs_dict</span><span class="p">,</span> <span class="n">links</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>For a given URL, extract the data from the Excel and ZIP file links found on that page.</p>

<p>The data is returned as a dictionary of DataFrames. The Excel files are converted
into DataFrames, with each sheet in each Excel file becoming a separate DataFrame.
ZIP files are examined for Excel files, which are similarly converted into
DataFrames. The dictionary of DataFrames is returned.</p>

<p>The preferred mechanism for reading ABS data is to use the <code><a href="#read_abs_cat">read_abs_cat()</a></code>
or <code><a href="#read_abs_series">read_abs_series()</a></code> functions. This function is provided for those
cases where the data is not available in the ABS catalogue, where the
data is not a timeseries, or where the user wants to extract data from
a specific ABS landingpage.</p>

<h2 id="parameters">Parameters</h2>

<p>url : str = ""
    A URL for an ABS Catalogue landing page. Either a url or
    a catalogue number must be provided. If both are provided, the
    URL will be used.</p>

<p>cat : str = ""
    An ABS Catalogue number. If provided, and the URL is not
    provided, then the Catalogue number will be used to get the URL.</p>

<p>**kwargs : Unpack[ReadArgs]
    Accepts the same keyword arguments as <code><a href="#read_abs_cat">read_abs_cat()</a></code>.</p>

<h2 id="returns">Returns</h2>

<p>dict[str, DataFrame]
    A dictionary of DataFrames.</p>
</div>


                </section>
                <section id="grab_abs_zip">
                            <input id="grab_abs_zip-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">grab_abs_zip</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">zip_path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n"><a href="#ReadArgs">ReadArgs</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="grab_abs_zip-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#grab_abs_zip"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="grab_abs_zip-102"><a href="#grab_abs_zip-102"><span class="linenos">102</span></a><span class="k">def</span><span class="w"> </span><span class="nf">grab_abs_zip</span><span class="p">(</span>
</span><span id="grab_abs_zip-103"><a href="#grab_abs_zip-103"><span class="linenos">103</span></a>    <span class="n">zip_path</span><span class="p">:</span> <span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="grab_abs_zip-104"><a href="#grab_abs_zip-104"><span class="linenos">104</span></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">ReadArgs</span><span class="p">]</span>
</span><span id="grab_abs_zip-105"><a href="#grab_abs_zip-105"><span class="linenos">105</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">]:</span>
</span><span id="grab_abs_zip-106"><a href="#grab_abs_zip-106"><span class="linenos">106</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Grab and process a single ABS ZIP file from a file system location.</span>
</span><span id="grab_abs_zip-107"><a href="#grab_abs_zip-107"><span class="linenos">107</span></a>
</span><span id="grab_abs_zip-108"><a href="#grab_abs_zip-108"><span class="linenos">108</span></a><span class="sd">    This is a convenience function that opens an ABS ZIP file from a local</span>
</span><span id="grab_abs_zip-109"><a href="#grab_abs_zip-109"><span class="linenos">109</span></a><span class="sd">    filesystem path. Expect to be used rarely.</span>
</span><span id="grab_abs_zip-110"><a href="#grab_abs_zip-110"><span class="linenos">110</span></a>
</span><span id="grab_abs_zip-111"><a href="#grab_abs_zip-111"><span class="linenos">111</span></a><span class="sd">    Parameters</span>
</span><span id="grab_abs_zip-112"><a href="#grab_abs_zip-112"><span class="linenos">112</span></a><span class="sd">    ----------</span>
</span><span id="grab_abs_zip-113"><a href="#grab_abs_zip-113"><span class="linenos">113</span></a><span class="sd">    zip_path : Path | str</span>
</span><span id="grab_abs_zip-114"><a href="#grab_abs_zip-114"><span class="linenos">114</span></a><span class="sd">        The local filesystem path of the ABS ZIP file to open and process.</span>
</span><span id="grab_abs_zip-115"><a href="#grab_abs_zip-115"><span class="linenos">115</span></a>
</span><span id="grab_abs_zip-116"><a href="#grab_abs_zip-116"><span class="linenos">116</span></a><span class="sd">    **kwargs : Unpack[ReadArgs]</span>
</span><span id="grab_abs_zip-117"><a href="#grab_abs_zip-117"><span class="linenos">117</span></a><span class="sd">        Additional keyword arguments for file retrieval and processing.</span>
</span><span id="grab_abs_zip-118"><a href="#grab_abs_zip-118"><span class="linenos">118</span></a>
</span><span id="grab_abs_zip-119"><a href="#grab_abs_zip-119"><span class="linenos">119</span></a><span class="sd">    Returns</span>
</span><span id="grab_abs_zip-120"><a href="#grab_abs_zip-120"><span class="linenos">120</span></a><span class="sd">    -------</span>
</span><span id="grab_abs_zip-121"><a href="#grab_abs_zip-121"><span class="linenos">121</span></a><span class="sd">    dict[str, DataFrame]</span>
</span><span id="grab_abs_zip-122"><a href="#grab_abs_zip-122"><span class="linenos">122</span></a><span class="sd">        A dictionary of DataFrames extracted from the ZIP file.</span>
</span><span id="grab_abs_zip-123"><a href="#grab_abs_zip-123"><span class="linenos">123</span></a>
</span><span id="grab_abs_zip-124"><a href="#grab_abs_zip-124"><span class="linenos">124</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="grab_abs_zip-125"><a href="#grab_abs_zip-125"><span class="linenos">125</span></a>    <span class="n">check_kwargs</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;grab_abs_zip&quot;</span><span class="p">)</span>  <span class="c1"># warn if invalid kwargs</span>
</span><span id="grab_abs_zip-126"><a href="#grab_abs_zip-126"><span class="linenos">126</span></a>    <span class="n">args</span> <span class="o">=</span> <span class="n">get_args</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;grab_abs_zip&quot;</span><span class="p">)</span>  <span class="c1"># get the valid kwargs</span>
</span><span id="grab_abs_zip-127"><a href="#grab_abs_zip-127"><span class="linenos">127</span></a>
</span><span id="grab_abs_zip-128"><a href="#grab_abs_zip-128"><span class="linenos">128</span></a>    <span class="n">zp</span><span class="p">:</span> <span class="n">Path</span> <span class="o">=</span> <span class="n">zip_path</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">zip_path</span><span class="p">,</span> <span class="n">Path</span><span class="p">)</span> <span class="k">else</span> <span class="n">Path</span><span class="p">(</span><span class="n">zip_path</span><span class="p">)</span>
</span><span id="grab_abs_zip-129"><a href="#grab_abs_zip-129"><span class="linenos">129</span></a>    <span class="n">zip_bytes</span> <span class="o">=</span> <span class="n">zp</span><span class="o">.</span><span class="n">read_bytes</span><span class="p">()</span>
</span><span id="grab_abs_zip-130"><a href="#grab_abs_zip-130"><span class="linenos">130</span></a>    <span class="n">abs_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="grab_abs_zip-131"><a href="#grab_abs_zip-131"><span class="linenos">131</span></a>    <span class="k">return</span> <span class="n">_process_zip</span><span class="p">(</span><span class="n">abs_dict</span><span class="p">,</span> <span class="n">zip_bytes</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Grab and process a single ABS ZIP file from a file system location.</p>

<p>This is a convenience function that opens an ABS ZIP file from a local
filesystem path. Expect to be used rarely.</p>

<h2 id="parameters">Parameters</h2>

<p>zip_path : Path | str
    The local filesystem path of the ABS ZIP file to open and process.</p>

<p>**kwargs : Unpack[ReadArgs]
    Additional keyword arguments for file retrieval and processing.</p>

<h2 id="returns">Returns</h2>

<p>dict[str, DataFrame]
    A dictionary of DataFrames extracted from the ZIP file.</p>
</div>


                </section>
                <section id="metacol">
                    <div class="attr variable">
            <span class="name">metacol</span>        =
<input id="metacol-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="metacol-view-value"></label><span class="default_value">Metacol(did=&#39;Data Item Description&#39;, stype=&#39;Series Type&#39;, id=&#39;Series ID&#39;, start=&#39;Series Start&#39;, end=&#39;Series End&#39;, num=&#39;No. Obs.&#39;, unit=&#39;Unit&#39;, dtype=&#39;Data Type&#39;, freq=&#39;Freq.&#39;, cmonth=&#39;Collection Month&#39;, table=&#39;Table&#39;, tdesc=&#39;Table Description&#39;, cat=&#39;Catalogue number&#39;)</span>

        
    </div>
    <a class="headerlink" href="#metacol"></a>
    
    

                </section>
                <section id="monthly_to_qtly">
                            <input id="monthly_to_qtly-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">monthly_to_qtly</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">Datatype</span>, </span><span class="param"><span class="n">q_ending</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;DEC&#39;</span>, </span><span class="param"><span class="n">f</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;mean&#39;</span></span><span class="return-annotation">) -> <span class="o">~</span><span class="n">Datatype</span>:</span></span>

                <label class="view-source-button" for="monthly_to_qtly-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#monthly_to_qtly"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="monthly_to_qtly-194"><a href="#monthly_to_qtly-194"><span class="linenos">194</span></a><span class="k">def</span><span class="w"> </span><span class="nf">monthly_to_qtly</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span> <span class="n">q_ending</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;DEC&quot;</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mean&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataT</span><span class="p">:</span>
</span><span id="monthly_to_qtly-195"><a href="#monthly_to_qtly-195"><span class="linenos">195</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert monthly data to quarterly data.</span>
</span><span id="monthly_to_qtly-196"><a href="#monthly_to_qtly-196"><span class="linenos">196</span></a>
</span><span id="monthly_to_qtly-197"><a href="#monthly_to_qtly-197"><span class="linenos">197</span></a><span class="sd">    This is done by taking the mean (or sum) of the three months in each quarter.</span>
</span><span id="monthly_to_qtly-198"><a href="#monthly_to_qtly-198"><span class="linenos">198</span></a><span class="sd">    Ignore quarters with less than or more than three months data. Drop NA items.</span>
</span><span id="monthly_to_qtly-199"><a href="#monthly_to_qtly-199"><span class="linenos">199</span></a><span class="sd">    Change f to &quot;sum&quot; for a quarterly sum.</span>
</span><span id="monthly_to_qtly-200"><a href="#monthly_to_qtly-200"><span class="linenos">200</span></a>
</span><span id="monthly_to_qtly-201"><a href="#monthly_to_qtly-201"><span class="linenos">201</span></a><span class="sd">    Args:</span>
</span><span id="monthly_to_qtly-202"><a href="#monthly_to_qtly-202"><span class="linenos">202</span></a><span class="sd">        data : pandas Series or DataFrame</span>
</span><span id="monthly_to_qtly-203"><a href="#monthly_to_qtly-203"><span class="linenos">203</span></a><span class="sd">            The data to convert to quarterly frequency.</span>
</span><span id="monthly_to_qtly-204"><a href="#monthly_to_qtly-204"><span class="linenos">204</span></a><span class="sd">        q_ending : str, default &quot;DEC&quot;</span>
</span><span id="monthly_to_qtly-205"><a href="#monthly_to_qtly-205"><span class="linenos">205</span></a><span class="sd">            The month in which the quarter ends. For example, &quot;DEC&quot; for December.</span>
</span><span id="monthly_to_qtly-206"><a href="#monthly_to_qtly-206"><span class="linenos">206</span></a><span class="sd">        f : str, default &quot;mean&quot;</span>
</span><span id="monthly_to_qtly-207"><a href="#monthly_to_qtly-207"><span class="linenos">207</span></a><span class="sd">            The function to apply to the three months in each quarter.</span>
</span><span id="monthly_to_qtly-208"><a href="#monthly_to_qtly-208"><span class="linenos">208</span></a><span class="sd">            Change to &quot;sum&quot; for a quarterly sum. The default is a</span>
</span><span id="monthly_to_qtly-209"><a href="#monthly_to_qtly-209"><span class="linenos">209</span></a><span class="sd">            quarterly mean.</span>
</span><span id="monthly_to_qtly-210"><a href="#monthly_to_qtly-210"><span class="linenos">210</span></a>
</span><span id="monthly_to_qtly-211"><a href="#monthly_to_qtly-211"><span class="linenos">211</span></a><span class="sd">    Returns:</span>
</span><span id="monthly_to_qtly-212"><a href="#monthly_to_qtly-212"><span class="linenos">212</span></a><span class="sd">        pandas Series or DataFrame</span>
</span><span id="monthly_to_qtly-213"><a href="#monthly_to_qtly-213"><span class="linenos">213</span></a><span class="sd">            The data with a quarterly PeriodIndex. If a quarter has less than</span>
</span><span id="monthly_to_qtly-214"><a href="#monthly_to_qtly-214"><span class="linenos">214</span></a><span class="sd">            three months data, the quarter is dropped. If the quarter has more</span>
</span><span id="monthly_to_qtly-215"><a href="#monthly_to_qtly-215"><span class="linenos">215</span></a><span class="sd">            than three months data, the quarter is dropped. Any NA data is removed.</span>
</span><span id="monthly_to_qtly-216"><a href="#monthly_to_qtly-216"><span class="linenos">216</span></a><span class="sd">        For DataFrame input, the function is applied to each column.</span>
</span><span id="monthly_to_qtly-217"><a href="#monthly_to_qtly-217"><span class="linenos">217</span></a>
</span><span id="monthly_to_qtly-218"><a href="#monthly_to_qtly-218"><span class="linenos">218</span></a><span class="sd">    Raises:</span>
</span><span id="monthly_to_qtly-219"><a href="#monthly_to_qtly-219"><span class="linenos">219</span></a><span class="sd">        InvalidDataError - If data is not a Series or DataFrame.</span>
</span><span id="monthly_to_qtly-220"><a href="#monthly_to_qtly-220"><span class="linenos">220</span></a><span class="sd">        InvalidParameterError - If q_ending or f parameters are invalid.</span>
</span><span id="monthly_to_qtly-221"><a href="#monthly_to_qtly-221"><span class="linenos">221</span></a>
</span><span id="monthly_to_qtly-222"><a href="#monthly_to_qtly-222"><span class="linenos">222</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="monthly_to_qtly-223"><a href="#monthly_to_qtly-223"><span class="linenos">223</span></a>    <span class="c1"># Validate inputs</span>
</span><span id="monthly_to_qtly-224"><a href="#monthly_to_qtly-224"><span class="linenos">224</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">Series</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">)):</span>
</span><span id="monthly_to_qtly-225"><a href="#monthly_to_qtly-225"><span class="linenos">225</span></a>        <span class="k">raise</span> <span class="n">InvalidDataError</span><span class="p">(</span><span class="s2">&quot;data must be a pandas Series or DataFrame&quot;</span><span class="p">)</span>
</span><span id="monthly_to_qtly-226"><a href="#monthly_to_qtly-226"><span class="linenos">226</span></a>
</span><span id="monthly_to_qtly-227"><a href="#monthly_to_qtly-227"><span class="linenos">227</span></a>    <span class="n">valid_endings</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;JAN&quot;</span><span class="p">,</span> <span class="s2">&quot;FEB&quot;</span><span class="p">,</span> <span class="s2">&quot;MAR&quot;</span><span class="p">,</span> <span class="s2">&quot;APR&quot;</span><span class="p">,</span> <span class="s2">&quot;MAY&quot;</span><span class="p">,</span> <span class="s2">&quot;JUN&quot;</span><span class="p">,</span> <span class="s2">&quot;JUL&quot;</span><span class="p">,</span> <span class="s2">&quot;AUG&quot;</span><span class="p">,</span> <span class="s2">&quot;SEP&quot;</span><span class="p">,</span> <span class="s2">&quot;OCT&quot;</span><span class="p">,</span> <span class="s2">&quot;NOV&quot;</span><span class="p">,</span> <span class="s2">&quot;DEC&quot;</span><span class="p">]</span>
</span><span id="monthly_to_qtly-228"><a href="#monthly_to_qtly-228"><span class="linenos">228</span></a>    <span class="k">if</span> <span class="n">q_ending</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_endings</span><span class="p">:</span>
</span><span id="monthly_to_qtly-229"><a href="#monthly_to_qtly-229"><span class="linenos">229</span></a>        <span class="k">raise</span> <span class="n">InvalidParameterError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;q_ending must be one of </span><span class="si">{</span><span class="n">valid_endings</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="monthly_to_qtly-230"><a href="#monthly_to_qtly-230"><span class="linenos">230</span></a>
</span><span id="monthly_to_qtly-231"><a href="#monthly_to_qtly-231"><span class="linenos">231</span></a>    <span class="n">valid_aggregations</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mean&quot;</span><span class="p">,</span> <span class="s2">&quot;sum&quot;</span><span class="p">,</span> <span class="s2">&quot;min&quot;</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">,</span> <span class="s2">&quot;std&quot;</span><span class="p">,</span> <span class="s2">&quot;var&quot;</span><span class="p">]</span>
</span><span id="monthly_to_qtly-232"><a href="#monthly_to_qtly-232"><span class="linenos">232</span></a>    <span class="k">if</span> <span class="n">f</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_aggregations</span><span class="p">:</span>
</span><span id="monthly_to_qtly-233"><a href="#monthly_to_qtly-233"><span class="linenos">233</span></a>        <span class="k">raise</span> <span class="n">InvalidParameterError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;f must be one of </span><span class="si">{</span><span class="n">valid_aggregations</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="monthly_to_qtly-234"><a href="#monthly_to_qtly-234"><span class="linenos">234</span></a>
</span><span id="monthly_to_qtly-235"><a href="#monthly_to_qtly-235"><span class="linenos">235</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="monthly_to_qtly-236"><a href="#monthly_to_qtly-236"><span class="linenos">236</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Series</span><span class="p">):</span>
</span><span id="monthly_to_qtly-237"><a href="#monthly_to_qtly-237"><span class="linenos">237</span></a>            <span class="k">return</span> <span class="n">_monthly_to_qtly_series</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">q_ending</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</span><span id="monthly_to_qtly-238"><a href="#monthly_to_qtly-238"><span class="linenos">238</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">):</span>
</span><span id="monthly_to_qtly-239"><a href="#monthly_to_qtly-239"><span class="linenos">239</span></a>            <span class="n">result_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="monthly_to_qtly-240"><a href="#monthly_to_qtly-240"><span class="linenos">240</span></a>            <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
</span><span id="monthly_to_qtly-241"><a href="#monthly_to_qtly-241"><span class="linenos">241</span></a>                <span class="n">result_dict</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">_monthly_to_qtly_series</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">q_ending</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</span><span id="monthly_to_qtly-242"><a href="#monthly_to_qtly-242"><span class="linenos">242</span></a>            <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span><span class="n">result_dict</span><span class="p">)</span>
</span><span id="monthly_to_qtly-243"><a href="#monthly_to_qtly-243"><span class="linenos">243</span></a>        <span class="c1"># This should never be reached due to validation above</span>
</span><span id="monthly_to_qtly-244"><a href="#monthly_to_qtly-244"><span class="linenos">244</span></a>        <span class="k">raise</span> <span class="n">InvalidDataError</span><span class="p">(</span><span class="s2">&quot;Unexpected data type&quot;</span><span class="p">)</span>  <span class="c1"># noqa: TRY301</span>
</span><span id="monthly_to_qtly-245"><a href="#monthly_to_qtly-245"><span class="linenos">245</span></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="monthly_to_qtly-246"><a href="#monthly_to_qtly-246"><span class="linenos">246</span></a>        <span class="k">raise</span> <span class="n">InvalidDataError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error converting monthly to quarterly data: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
</span></pre></div>


            <div class="docstring"><p>Convert monthly data to quarterly data.</p>

<p>This is done by taking the mean (or sum) of the three months in each quarter.
Ignore quarters with less than or more than three months data. Drop NA items.
Change f to "sum" for a quarterly sum.</p>

<p>Args:
    data : pandas Series or DataFrame
        The data to convert to quarterly frequency.
    q_ending : str, default "DEC"
        The month in which the quarter ends. For example, "DEC" for December.
    f : str, default "mean"
        The function to apply to the three months in each quarter.
        Change to "sum" for a quarterly sum. The default is a
        quarterly mean.</p>

<p>Returns:
    pandas Series or DataFrame
        The data with a quarterly PeriodIndex. If a quarter has less than
        three months data, the quarter is dropped. If the quarter has more
        than three months data, the quarter is dropped. Any NA data is removed.
    For DataFrame input, the function is applied to each column.</p>

<p>Raises:
    InvalidDataError - If data is not a Series or DataFrame.
    InvalidParameterError - If q_ending or f parameters are invalid.</p>
</div>


                </section>
                <section id="percent_change">
                            <input id="percent_change-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">percent_change</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">Datatype</span>, </span><span class="param"><span class="n">n_periods</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="o">~</span><span class="n">Datatype</span>:</span></span>

                <label class="view-source-button" for="percent_change-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#percent_change"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="percent_change-31"><a href="#percent_change-31"><span class="linenos">31</span></a><span class="k">def</span><span class="w"> </span><span class="nf">percent_change</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span> <span class="n">n_periods</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataT</span><span class="p">:</span>
</span><span id="percent_change-32"><a href="#percent_change-32"><span class="linenos">32</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate a percentage change in a contiguous, ordered series over n_periods.</span>
</span><span id="percent_change-33"><a href="#percent_change-33"><span class="linenos">33</span></a>
</span><span id="percent_change-34"><a href="#percent_change-34"><span class="linenos">34</span></a><span class="sd">    Args:</span>
</span><span id="percent_change-35"><a href="#percent_change-35"><span class="linenos">35</span></a><span class="sd">        data : pandas Series or DataFrame</span>
</span><span id="percent_change-36"><a href="#percent_change-36"><span class="linenos">36</span></a><span class="sd">            The data to calculate the percentage change for.</span>
</span><span id="percent_change-37"><a href="#percent_change-37"><span class="linenos">37</span></a><span class="sd">        n_periods : int</span>
</span><span id="percent_change-38"><a href="#percent_change-38"><span class="linenos">38</span></a><span class="sd">            The number of periods to calculate the percentage change over.</span>
</span><span id="percent_change-39"><a href="#percent_change-39"><span class="linenos">39</span></a><span class="sd">            Typically 4 for quarterly data, and 12 for monthly data.</span>
</span><span id="percent_change-40"><a href="#percent_change-40"><span class="linenos">40</span></a>
</span><span id="percent_change-41"><a href="#percent_change-41"><span class="linenos">41</span></a><span class="sd">    Returns:</span>
</span><span id="percent_change-42"><a href="#percent_change-42"><span class="linenos">42</span></a><span class="sd">        pandas Series or DataFrame - The percentage change in the data over n_periods.</span>
</span><span id="percent_change-43"><a href="#percent_change-43"><span class="linenos">43</span></a><span class="sd">            For DataFrame input, the percentage change is calculated for each column.</span>
</span><span id="percent_change-44"><a href="#percent_change-44"><span class="linenos">44</span></a>
</span><span id="percent_change-45"><a href="#percent_change-45"><span class="linenos">45</span></a><span class="sd">    Raises:</span>
</span><span id="percent_change-46"><a href="#percent_change-46"><span class="linenos">46</span></a><span class="sd">        InvalidParameterError - If n_periods is not a positive integer.</span>
</span><span id="percent_change-47"><a href="#percent_change-47"><span class="linenos">47</span></a><span class="sd">        InvalidDataError - If data is not a Series or DataFrame.</span>
</span><span id="percent_change-48"><a href="#percent_change-48"><span class="linenos">48</span></a>
</span><span id="percent_change-49"><a href="#percent_change-49"><span class="linenos">49</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="percent_change-50"><a href="#percent_change-50"><span class="linenos">50</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n_periods</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">n_periods</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="percent_change-51"><a href="#percent_change-51"><span class="linenos">51</span></a>        <span class="k">raise</span> <span class="n">InvalidParameterError</span><span class="p">(</span><span class="s2">&quot;n_periods must be a positive integer&quot;</span><span class="p">)</span>
</span><span id="percent_change-52"><a href="#percent_change-52"><span class="linenos">52</span></a>
</span><span id="percent_change-53"><a href="#percent_change-53"><span class="linenos">53</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">Series</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">)):</span>
</span><span id="percent_change-54"><a href="#percent_change-54"><span class="linenos">54</span></a>        <span class="k">raise</span> <span class="n">InvalidDataError</span><span class="p">(</span><span class="s2">&quot;data must be a pandas Series or DataFrame&quot;</span><span class="p">)</span>
</span><span id="percent_change-55"><a href="#percent_change-55"><span class="linenos">55</span></a>
</span><span id="percent_change-56"><a href="#percent_change-56"><span class="linenos">56</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="percent_change-57"><a href="#percent_change-57"><span class="linenos">57</span></a>        <span class="k">return</span> <span class="p">(</span><span class="n">data</span> <span class="o">/</span> <span class="n">data</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="n">n_periods</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
</span><span id="percent_change-58"><a href="#percent_change-58"><span class="linenos">58</span></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="percent_change-59"><a href="#percent_change-59"><span class="linenos">59</span></a>        <span class="k">raise</span> <span class="n">InvalidDataError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error calculating percentage change: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
</span></pre></div>


            <div class="docstring"><p>Calculate a percentage change in a contiguous, ordered series over n_periods.</p>

<p>Args:
    data : pandas Series or DataFrame
        The data to calculate the percentage change for.
    n_periods : int
        The number of periods to calculate the percentage change over.
        Typically 4 for quarterly data, and 12 for monthly data.</p>

<p>Returns:
    pandas Series or DataFrame - The percentage change in the data over n_periods.
        For DataFrame input, the percentage change is calculated for each column.</p>

<p>Raises:
    InvalidParameterError - If n_periods is not a positive integer.
    InvalidDataError - If data is not a Series or DataFrame.</p>
</div>


                </section>
                <section id="print_abs_catalogue">
                            <input id="print_abs_catalogue-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">print_abs_catalogue</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">*</span>, </span><span class="param"><span class="n">cache_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="print_abs_catalogue-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#print_abs_catalogue"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="print_abs_catalogue-11"><a href="#print_abs_catalogue-11"><span class="linenos">11</span></a><span class="k">def</span><span class="w"> </span><span class="nf">print_abs_catalogue</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">cache_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="print_abs_catalogue-12"><a href="#print_abs_catalogue-12"><span class="linenos">12</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Print a table of ABS Catalogue Numbers with their metadata.</span>
</span><span id="print_abs_catalogue-13"><a href="#print_abs_catalogue-13"><span class="linenos">13</span></a>
</span><span id="print_abs_catalogue-14"><a href="#print_abs_catalogue-14"><span class="linenos">14</span></a><span class="sd">    Displays catalogue numbers that contain time-series data along with</span>
</span><span id="print_abs_catalogue-15"><a href="#print_abs_catalogue-15"><span class="linenos">15</span></a><span class="sd">    their theme, parent topic, topic, and status information. The URL</span>
</span><span id="print_abs_catalogue-16"><a href="#print_abs_catalogue-16"><span class="linenos">16</span></a><span class="sd">    column is excluded from the display for readability.</span>
</span><span id="print_abs_catalogue-17"><a href="#print_abs_catalogue-17"><span class="linenos">17</span></a>
</span><span id="print_abs_catalogue-18"><a href="#print_abs_catalogue-18"><span class="linenos">18</span></a><span class="sd">    This is primarily a convenience function to help users identify the</span>
</span><span id="print_abs_catalogue-19"><a href="#print_abs_catalogue-19"><span class="linenos">19</span></a><span class="sd">    correct catalogue number for data retrieval functions.</span>
</span><span id="print_abs_catalogue-20"><a href="#print_abs_catalogue-20"><span class="linenos">20</span></a>
</span><span id="print_abs_catalogue-21"><a href="#print_abs_catalogue-21"><span class="linenos">21</span></a><span class="sd">    Parameters</span>
</span><span id="print_abs_catalogue-22"><a href="#print_abs_catalogue-22"><span class="linenos">22</span></a><span class="sd">    ----------</span>
</span><span id="print_abs_catalogue-23"><a href="#print_abs_catalogue-23"><span class="linenos">23</span></a><span class="sd">    cache_only : bool, default False</span>
</span><span id="print_abs_catalogue-24"><a href="#print_abs_catalogue-24"><span class="linenos">24</span></a><span class="sd">        If True, only use cached catalogue data.</span>
</span><span id="print_abs_catalogue-25"><a href="#print_abs_catalogue-25"><span class="linenos">25</span></a><span class="sd">    verbose : bool, default False</span>
</span><span id="print_abs_catalogue-26"><a href="#print_abs_catalogue-26"><span class="linenos">26</span></a><span class="sd">        If True, print progress messages during catalogue retrieval.</span>
</span><span id="print_abs_catalogue-27"><a href="#print_abs_catalogue-27"><span class="linenos">27</span></a>
</span><span id="print_abs_catalogue-28"><a href="#print_abs_catalogue-28"><span class="linenos">28</span></a><span class="sd">    Raises</span>
</span><span id="print_abs_catalogue-29"><a href="#print_abs_catalogue-29"><span class="linenos">29</span></a><span class="sd">    ------</span>
</span><span id="print_abs_catalogue-30"><a href="#print_abs_catalogue-30"><span class="linenos">30</span></a><span class="sd">    CatalogueError</span>
</span><span id="print_abs_catalogue-31"><a href="#print_abs_catalogue-31"><span class="linenos">31</span></a><span class="sd">        If the catalogue data cannot be retrieved or processed.</span>
</span><span id="print_abs_catalogue-32"><a href="#print_abs_catalogue-32"><span class="linenos">32</span></a><span class="sd">    HttpError</span>
</span><span id="print_abs_catalogue-33"><a href="#print_abs_catalogue-33"><span class="linenos">33</span></a><span class="sd">        If there&#39;s a network error downloading the catalogue.</span>
</span><span id="print_abs_catalogue-34"><a href="#print_abs_catalogue-34"><span class="linenos">34</span></a><span class="sd">    CacheError</span>
</span><span id="print_abs_catalogue-35"><a href="#print_abs_catalogue-35"><span class="linenos">35</span></a><span class="sd">        If cache_only=True but no cached data is available.</span>
</span><span id="print_abs_catalogue-36"><a href="#print_abs_catalogue-36"><span class="linenos">36</span></a>
</span><span id="print_abs_catalogue-37"><a href="#print_abs_catalogue-37"><span class="linenos">37</span></a><span class="sd">    Example</span>
</span><span id="print_abs_catalogue-38"><a href="#print_abs_catalogue-38"><span class="linenos">38</span></a><span class="sd">    -------</span>
</span><span id="print_abs_catalogue-39"><a href="#print_abs_catalogue-39"><span class="linenos">39</span></a><span class="sd">    &gt;&gt;&gt; import readabs as ra</span>
</span><span id="print_abs_catalogue-40"><a href="#print_abs_catalogue-40"><span class="linenos">40</span></a><span class="sd">    &gt;&gt;&gt; ra.print_abs_catalogue()</span>
</span><span id="print_abs_catalogue-41"><a href="#print_abs_catalogue-41"><span class="linenos">41</span></a>
</span><span id="print_abs_catalogue-42"><a href="#print_abs_catalogue-42"><span class="linenos">42</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="print_abs_catalogue-43"><a href="#print_abs_catalogue-43"><span class="linenos">43</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="print_abs_catalogue-44"><a href="#print_abs_catalogue-44"><span class="linenos">44</span></a>        <span class="c1"># Retrieve the catalogue data</span>
</span><span id="print_abs_catalogue-45"><a href="#print_abs_catalogue-45"><span class="linenos">45</span></a>        <span class="n">catalogue</span> <span class="o">=</span> <span class="n">abs_catalogue</span><span class="p">(</span><span class="n">cache_only</span><span class="o">=</span><span class="n">cache_only</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</span><span id="print_abs_catalogue-46"><a href="#print_abs_catalogue-46"><span class="linenos">46</span></a>
</span><span id="print_abs_catalogue-47"><a href="#print_abs_catalogue-47"><span class="linenos">47</span></a>        <span class="c1"># Validate catalogue is not empty</span>
</span><span id="print_abs_catalogue-48"><a href="#print_abs_catalogue-48"><span class="linenos">48</span></a>        <span class="k">if</span> <span class="n">catalogue</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
</span><span id="print_abs_catalogue-49"><a href="#print_abs_catalogue-49"><span class="linenos">49</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No catalogue data available.&quot;</span><span class="p">)</span>
</span><span id="print_abs_catalogue-50"><a href="#print_abs_catalogue-50"><span class="linenos">50</span></a>            <span class="k">return</span>
</span><span id="print_abs_catalogue-51"><a href="#print_abs_catalogue-51"><span class="linenos">51</span></a>
</span><span id="print_abs_catalogue-52"><a href="#print_abs_catalogue-52"><span class="linenos">52</span></a>        <span class="c1"># Select columns for display (exclude URL for readability)</span>
</span><span id="print_abs_catalogue-53"><a href="#print_abs_catalogue-53"><span class="linenos">53</span></a>        <span class="n">available_columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">DISPLAY_COLUMNS</span> <span class="k">if</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">catalogue</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
</span><span id="print_abs_catalogue-54"><a href="#print_abs_catalogue-54"><span class="linenos">54</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">available_columns</span><span class="p">:</span>
</span><span id="print_abs_catalogue-55"><a href="#print_abs_catalogue-55"><span class="linenos">55</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Catalogue data does not contain expected columns.&quot;</span><span class="p">)</span>
</span><span id="print_abs_catalogue-56"><a href="#print_abs_catalogue-56"><span class="linenos">56</span></a>            <span class="k">return</span>
</span><span id="print_abs_catalogue-57"><a href="#print_abs_catalogue-57"><span class="linenos">57</span></a>
</span><span id="print_abs_catalogue-58"><a href="#print_abs_catalogue-58"><span class="linenos">58</span></a>        <span class="n">display_data</span> <span class="o">=</span> <span class="n">catalogue</span><span class="p">[</span><span class="n">available_columns</span><span class="p">]</span>
</span><span id="print_abs_catalogue-59"><a href="#print_abs_catalogue-59"><span class="linenos">59</span></a>
</span><span id="print_abs_catalogue-60"><a href="#print_abs_catalogue-60"><span class="linenos">60</span></a>        <span class="c1"># Generate and print markdown table</span>
</span><span id="print_abs_catalogue-61"><a href="#print_abs_catalogue-61"><span class="linenos">61</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="print_abs_catalogue-62"><a href="#print_abs_catalogue-62"><span class="linenos">62</span></a>            <span class="n">markdown_output</span> <span class="o">=</span> <span class="n">display_data</span><span class="o">.</span><span class="n">to_markdown</span><span class="p">()</span>
</span><span id="print_abs_catalogue-63"><a href="#print_abs_catalogue-63"><span class="linenos">63</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">markdown_output</span><span class="p">)</span>
</span><span id="print_abs_catalogue-64"><a href="#print_abs_catalogue-64"><span class="linenos">64</span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>  <span class="c1"># noqa: BLE001</span>
</span><span id="print_abs_catalogue-65"><a href="#print_abs_catalogue-65"><span class="linenos">65</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">display_data</span><span class="o">.</span><span class="n">to_string</span><span class="p">())</span>
</span><span id="print_abs_catalogue-66"><a href="#print_abs_catalogue-66"><span class="linenos">66</span></a>
</span><span id="print_abs_catalogue-67"><a href="#print_abs_catalogue-67"><span class="linenos">67</span></a>    <span class="k">except</span> <span class="p">(</span><span class="n">CatalogueError</span><span class="p">,</span> <span class="n">HttpError</span><span class="p">,</span> <span class="n">CacheError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="print_abs_catalogue-68"><a href="#print_abs_catalogue-68"><span class="linenos">68</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error retrieving catalogue: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Print a table of ABS Catalogue Numbers with their metadata.</p>

<p>Displays catalogue numbers that contain time-series data along with
their theme, parent topic, topic, and status information. The URL
column is excluded from the display for readability.</p>

<p>This is primarily a convenience function to help users identify the
correct catalogue number for data retrieval functions.</p>

<h2 id="parameters">Parameters</h2>

<p>cache_only : bool, default False
    If True, only use cached catalogue data.
verbose : bool, default False
    If True, print progress messages during catalogue retrieval.</p>

<h2 id="raises">Raises</h2>

<p>CatalogueError
    If the catalogue data cannot be retrieved or processed.
HttpError
    If there's a network error downloading the catalogue.
CacheError
    If cache_only=True but no cached data is available.</p>

<h2 id="example">Example</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">readabs</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ra</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ra</span><span class="o">.</span><span class="n">print_abs_catalogue</span><span class="p">()</span>
</code></pre>
</div>
</div>


                </section>
                <section id="print_rba_catalogue">
                            <input id="print_rba_catalogue-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">print_rba_catalogue</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">*</span>, </span><span class="param"><span class="n">cache_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="print_rba_catalogue-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#print_rba_catalogue"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="print_rba_catalogue-47"><a href="#print_rba_catalogue-47"><span class="linenos">47</span></a><span class="k">def</span><span class="w"> </span><span class="nf">print_rba_catalogue</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">cache_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="print_rba_catalogue-48"><a href="#print_rba_catalogue-48"><span class="linenos">48</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Print to standard output a table of the RBA Catalogue Numbers.</span>
</span><span id="print_rba_catalogue-49"><a href="#print_rba_catalogue-49"><span class="linenos">49</span></a>
</span><span id="print_rba_catalogue-50"><a href="#print_rba_catalogue-50"><span class="linenos">50</span></a><span class="sd">    This function prints a formatted table of RBA catalogue numbers</span>
</span><span id="print_rba_catalogue-51"><a href="#print_rba_catalogue-51"><span class="linenos">51</span></a><span class="sd">    to standard output.</span>
</span><span id="print_rba_catalogue-52"><a href="#print_rba_catalogue-52"><span class="linenos">52</span></a>
</span><span id="print_rba_catalogue-53"><a href="#print_rba_catalogue-53"><span class="linenos">53</span></a><span class="sd">    Parameters</span>
</span><span id="print_rba_catalogue-54"><a href="#print_rba_catalogue-54"><span class="linenos">54</span></a><span class="sd">    ----------</span>
</span><span id="print_rba_catalogue-55"><a href="#print_rba_catalogue-55"><span class="linenos">55</span></a><span class="sd">    cache_only : bool = False</span>
</span><span id="print_rba_catalogue-56"><a href="#print_rba_catalogue-56"><span class="linenos">56</span></a><span class="sd">        If True, only use the cache.</span>
</span><span id="print_rba_catalogue-57"><a href="#print_rba_catalogue-57"><span class="linenos">57</span></a><span class="sd">    verbose : bool = False</span>
</span><span id="print_rba_catalogue-58"><a href="#print_rba_catalogue-58"><span class="linenos">58</span></a><span class="sd">        If True, print progress messages.</span>
</span><span id="print_rba_catalogue-59"><a href="#print_rba_catalogue-59"><span class="linenos">59</span></a>
</span><span id="print_rba_catalogue-60"><a href="#print_rba_catalogue-60"><span class="linenos">60</span></a><span class="sd">    Returns</span>
</span><span id="print_rba_catalogue-61"><a href="#print_rba_catalogue-61"><span class="linenos">61</span></a><span class="sd">    -------</span>
</span><span id="print_rba_catalogue-62"><a href="#print_rba_catalogue-62"><span class="linenos">62</span></a><span class="sd">    None</span>
</span><span id="print_rba_catalogue-63"><a href="#print_rba_catalogue-63"><span class="linenos">63</span></a><span class="sd">        This function does not return anything.</span>
</span><span id="print_rba_catalogue-64"><a href="#print_rba_catalogue-64"><span class="linenos">64</span></a>
</span><span id="print_rba_catalogue-65"><a href="#print_rba_catalogue-65"><span class="linenos">65</span></a><span class="sd">    Example</span>
</span><span id="print_rba_catalogue-66"><a href="#print_rba_catalogue-66"><span class="linenos">66</span></a><span class="sd">    -------</span>
</span><span id="print_rba_catalogue-67"><a href="#print_rba_catalogue-67"><span class="linenos">67</span></a>
</span><span id="print_rba_catalogue-68"><a href="#print_rba_catalogue-68"><span class="linenos">68</span></a><span class="sd">    ```python</span>
</span><span id="print_rba_catalogue-69"><a href="#print_rba_catalogue-69"><span class="linenos">69</span></a><span class="sd">    import readabs as ra</span>
</span><span id="print_rba_catalogue-70"><a href="#print_rba_catalogue-70"><span class="linenos">70</span></a><span class="sd">    ra.print_rba_catalogue()</span>
</span><span id="print_rba_catalogue-71"><a href="#print_rba_catalogue-71"><span class="linenos">71</span></a><span class="sd">    ```</span>
</span><span id="print_rba_catalogue-72"><a href="#print_rba_catalogue-72"><span class="linenos">72</span></a>
</span><span id="print_rba_catalogue-73"><a href="#print_rba_catalogue-73"><span class="linenos">73</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="print_rba_catalogue-74"><a href="#print_rba_catalogue-74"><span class="linenos">74</span></a>    <span class="n">rba_catalog</span> <span class="o">=</span> <span class="n">rba_catalogue</span><span class="p">(</span><span class="n">cache_only</span><span class="o">=</span><span class="n">cache_only</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</span><span id="print_rba_catalogue-75"><a href="#print_rba_catalogue-75"><span class="linenos">75</span></a>    <span class="nb">print</span><span class="p">(</span><span class="n">rba_catalog</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">rba_catalog</span><span class="o">.</span><span class="n">columns</span> <span class="o">!=</span> <span class="s2">&quot;URL&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">to_markdown</span><span class="p">())</span>
</span></pre></div>


            <div class="docstring"><p>Print to standard output a table of the RBA Catalogue Numbers.</p>

<p>This function prints a formatted table of RBA catalogue numbers
to standard output.</p>

<h2 id="parameters">Parameters</h2>

<p>cache_only : bool = False
    If True, only use the cache.
verbose : bool = False
    If True, print progress messages.</p>

<h2 id="returns">Returns</h2>

<p>None
    This function does not return anything.</p>

<h2 id="example">Example</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">readabs</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ra</span>
<span class="n">ra</span><span class="o">.</span><span class="n">print_rba_catalogue</span><span class="p">()</span>
</code></pre>
</div>
</div>


                </section>
                <section id="qtly_to_monthly">
                            <input id="qtly_to_monthly-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">qtly_to_monthly</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">Datatype</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">interpolate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="mi">2</span>,</span><span class="param">	<span class="n">dropna</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="o">~</span><span class="n">Datatype</span>:</span></span>

                <label class="view-source-button" for="qtly_to_monthly-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#qtly_to_monthly"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="qtly_to_monthly-127"><a href="#qtly_to_monthly-127"><span class="linenos">127</span></a><span class="k">def</span><span class="w"> </span><span class="nf">qtly_to_monthly</span><span class="p">(</span>
</span><span id="qtly_to_monthly-128"><a href="#qtly_to_monthly-128"><span class="linenos">128</span></a>    <span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span>
</span><span id="qtly_to_monthly-129"><a href="#qtly_to_monthly-129"><span class="linenos">129</span></a>    <span class="o">*</span><span class="p">,</span>
</span><span id="qtly_to_monthly-130"><a href="#qtly_to_monthly-130"><span class="linenos">130</span></a>    <span class="n">interpolate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="qtly_to_monthly-131"><a href="#qtly_to_monthly-131"><span class="linenos">131</span></a>    <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>  <span class="c1"># only used if interpolate is True</span>
</span><span id="qtly_to_monthly-132"><a href="#qtly_to_monthly-132"><span class="linenos">132</span></a>    <span class="n">dropna</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="qtly_to_monthly-133"><a href="#qtly_to_monthly-133"><span class="linenos">133</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataT</span><span class="p">:</span>
</span><span id="qtly_to_monthly-134"><a href="#qtly_to_monthly-134"><span class="linenos">134</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert data from Quarterly PeriodIndex to a Monthly PeriodIndex.</span>
</span><span id="qtly_to_monthly-135"><a href="#qtly_to_monthly-135"><span class="linenos">135</span></a>
</span><span id="qtly_to_monthly-136"><a href="#qtly_to_monthly-136"><span class="linenos">136</span></a><span class="sd">    Args:</span>
</span><span id="qtly_to_monthly-137"><a href="#qtly_to_monthly-137"><span class="linenos">137</span></a><span class="sd">        data: Series or DataFrame with quarterly PeriodIndex. Assumes the index is unique.</span>
</span><span id="qtly_to_monthly-138"><a href="#qtly_to_monthly-138"><span class="linenos">138</span></a><span class="sd">            The data to convert to monthly frequency.</span>
</span><span id="qtly_to_monthly-139"><a href="#qtly_to_monthly-139"><span class="linenos">139</span></a><span class="sd">        interpolate: bool, default True</span>
</span><span id="qtly_to_monthly-140"><a href="#qtly_to_monthly-140"><span class="linenos">140</span></a><span class="sd">            Whether to interpolate the missing monthly data.</span>
</span><span id="qtly_to_monthly-141"><a href="#qtly_to_monthly-141"><span class="linenos">141</span></a><span class="sd">        limit: int, default 2 - The maximum number of consecutive missing months</span>
</span><span id="qtly_to_monthly-142"><a href="#qtly_to_monthly-142"><span class="linenos">142</span></a><span class="sd">            to interpolate.</span>
</span><span id="qtly_to_monthly-143"><a href="#qtly_to_monthly-143"><span class="linenos">143</span></a><span class="sd">        dropna: bool, default True - Whether to drop NA data</span>
</span><span id="qtly_to_monthly-144"><a href="#qtly_to_monthly-144"><span class="linenos">144</span></a>
</span><span id="qtly_to_monthly-145"><a href="#qtly_to_monthly-145"><span class="linenos">145</span></a><span class="sd">    Returns:</span>
</span><span id="qtly_to_monthly-146"><a href="#qtly_to_monthly-146"><span class="linenos">146</span></a><span class="sd">        pandas Series or DataFrame - The data with a Monthly PeriodIndex.</span>
</span><span id="qtly_to_monthly-147"><a href="#qtly_to_monthly-147"><span class="linenos">147</span></a><span class="sd">            If interpolate is True, the missing monthly data is interpolated.</span>
</span><span id="qtly_to_monthly-148"><a href="#qtly_to_monthly-148"><span class="linenos">148</span></a><span class="sd">            If dropna is True, any NA data is removed.</span>
</span><span id="qtly_to_monthly-149"><a href="#qtly_to_monthly-149"><span class="linenos">149</span></a>
</span><span id="qtly_to_monthly-150"><a href="#qtly_to_monthly-150"><span class="linenos">150</span></a><span class="sd">    Raises:</span>
</span><span id="qtly_to_monthly-151"><a href="#qtly_to_monthly-151"><span class="linenos">151</span></a><span class="sd">        InvalidDataError - If data index is not a quarterly PeriodIndex or has issues.</span>
</span><span id="qtly_to_monthly-152"><a href="#qtly_to_monthly-152"><span class="linenos">152</span></a><span class="sd">        InvalidParameterError - If limit parameter is invalid.</span>
</span><span id="qtly_to_monthly-153"><a href="#qtly_to_monthly-153"><span class="linenos">153</span></a>
</span><span id="qtly_to_monthly-154"><a href="#qtly_to_monthly-154"><span class="linenos">154</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="qtly_to_monthly-155"><a href="#qtly_to_monthly-155"><span class="linenos">155</span></a>    <span class="c1"># Validate input data</span>
</span><span id="qtly_to_monthly-156"><a href="#qtly_to_monthly-156"><span class="linenos">156</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">Series</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">)):</span>
</span><span id="qtly_to_monthly-157"><a href="#qtly_to_monthly-157"><span class="linenos">157</span></a>        <span class="k">raise</span> <span class="n">InvalidDataError</span><span class="p">(</span><span class="s2">&quot;data must be a pandas Series or DataFrame&quot;</span><span class="p">)</span>
</span><span id="qtly_to_monthly-158"><a href="#qtly_to_monthly-158"><span class="linenos">158</span></a>
</span><span id="qtly_to_monthly-159"><a href="#qtly_to_monthly-159"><span class="linenos">159</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">PeriodIndex</span><span class="p">):</span>
</span><span id="qtly_to_monthly-160"><a href="#qtly_to_monthly-160"><span class="linenos">160</span></a>        <span class="k">raise</span> <span class="n">InvalidDataError</span><span class="p">(</span><span class="s2">&quot;data index must be a PeriodIndex&quot;</span><span class="p">)</span>
</span><span id="qtly_to_monthly-161"><a href="#qtly_to_monthly-161"><span class="linenos">161</span></a>
</span><span id="qtly_to_monthly-162"><a href="#qtly_to_monthly-162"><span class="linenos">162</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">freqstr</span> <span class="ow">and</span> <span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">freqstr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Q&quot;</span><span class="p">):</span>
</span><span id="qtly_to_monthly-163"><a href="#qtly_to_monthly-163"><span class="linenos">163</span></a>        <span class="k">raise</span> <span class="n">InvalidDataError</span><span class="p">(</span><span class="s2">&quot;data index must have quarterly frequency&quot;</span><span class="p">)</span>
</span><span id="qtly_to_monthly-164"><a href="#qtly_to_monthly-164"><span class="linenos">164</span></a>
</span><span id="qtly_to_monthly-165"><a href="#qtly_to_monthly-165"><span class="linenos">165</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">is_unique</span><span class="p">:</span>
</span><span id="qtly_to_monthly-166"><a href="#qtly_to_monthly-166"><span class="linenos">166</span></a>        <span class="k">raise</span> <span class="n">InvalidDataError</span><span class="p">(</span><span class="s2">&quot;data index must be unique&quot;</span><span class="p">)</span>
</span><span id="qtly_to_monthly-167"><a href="#qtly_to_monthly-167"><span class="linenos">167</span></a>
</span><span id="qtly_to_monthly-168"><a href="#qtly_to_monthly-168"><span class="linenos">168</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">is_monotonic_increasing</span><span class="p">:</span>
</span><span id="qtly_to_monthly-169"><a href="#qtly_to_monthly-169"><span class="linenos">169</span></a>        <span class="k">raise</span> <span class="n">InvalidDataError</span><span class="p">(</span><span class="s2">&quot;data index must be monotonic increasing&quot;</span><span class="p">)</span>
</span><span id="qtly_to_monthly-170"><a href="#qtly_to_monthly-170"><span class="linenos">170</span></a>
</span><span id="qtly_to_monthly-171"><a href="#qtly_to_monthly-171"><span class="linenos">171</span></a>    <span class="k">if</span> <span class="n">limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">limit</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">limit</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="qtly_to_monthly-172"><a href="#qtly_to_monthly-172"><span class="linenos">172</span></a>        <span class="k">raise</span> <span class="n">InvalidParameterError</span><span class="p">(</span><span class="s2">&quot;limit must be a non-negative integer or None&quot;</span><span class="p">)</span>
</span><span id="qtly_to_monthly-173"><a href="#qtly_to_monthly-173"><span class="linenos">173</span></a>
</span><span id="qtly_to_monthly-174"><a href="#qtly_to_monthly-174"><span class="linenos">174</span></a>    <span class="c1"># do the heavy lifting</span>
</span><span id="qtly_to_monthly-175"><a href="#qtly_to_monthly-175"><span class="linenos">175</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="qtly_to_monthly-176"><a href="#qtly_to_monthly-176"><span class="linenos">176</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="qtly_to_monthly-177"><a href="#qtly_to_monthly-177"><span class="linenos">177</span></a>            <span class="n">data</span><span class="o">.</span><span class="n">set_axis</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">to_timestamp</span><span class="p">(</span><span class="n">how</span><span class="o">=</span><span class="s2">&quot;end&quot;</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="qtly_to_monthly-178"><a href="#qtly_to_monthly-178"><span class="linenos">178</span></a>            <span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="n">rule</span><span class="o">=</span><span class="s2">&quot;ME&quot;</span><span class="p">)</span>  <span class="c1"># adds in every missing month</span>
</span><span id="qtly_to_monthly-179"><a href="#qtly_to_monthly-179"><span class="linenos">179</span></a>            <span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">min_count</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># generates nans for new months</span>
</span><span id="qtly_to_monthly-180"><a href="#qtly_to_monthly-180"><span class="linenos">180</span></a>            <span class="c1"># assumes only one value per quarter (ie. unique index)</span>
</span><span id="qtly_to_monthly-181"><a href="#qtly_to_monthly-181"><span class="linenos">181</span></a>            <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">_set_axis_monthly_periods</span><span class="p">)</span>
</span><span id="qtly_to_monthly-182"><a href="#qtly_to_monthly-182"><span class="linenos">182</span></a>        <span class="p">)</span>
</span><span id="qtly_to_monthly-183"><a href="#qtly_to_monthly-183"><span class="linenos">183</span></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="qtly_to_monthly-184"><a href="#qtly_to_monthly-184"><span class="linenos">184</span></a>        <span class="k">raise</span> <span class="n">InvalidDataError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error in quarterly to monthly conversion: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
</span><span id="qtly_to_monthly-185"><a href="#qtly_to_monthly-185"><span class="linenos">185</span></a>
</span><span id="qtly_to_monthly-186"><a href="#qtly_to_monthly-186"><span class="linenos">186</span></a>    <span class="k">if</span> <span class="n">interpolate</span><span class="p">:</span>
</span><span id="qtly_to_monthly-187"><a href="#qtly_to_monthly-187"><span class="linenos">187</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">limit_area</span><span class="o">=</span><span class="s2">&quot;inside&quot;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">)</span>
</span><span id="qtly_to_monthly-188"><a href="#qtly_to_monthly-188"><span class="linenos">188</span></a>    <span class="k">if</span> <span class="n">dropna</span><span class="p">:</span>
</span><span id="qtly_to_monthly-189"><a href="#qtly_to_monthly-189"><span class="linenos">189</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
</span><span id="qtly_to_monthly-190"><a href="#qtly_to_monthly-190"><span class="linenos">190</span></a>
</span><span id="qtly_to_monthly-191"><a href="#qtly_to_monthly-191"><span class="linenos">191</span></a>    <span class="k">return</span> <span class="n">data</span>
</span></pre></div>


            <div class="docstring"><p>Convert data from Quarterly PeriodIndex to a Monthly PeriodIndex.</p>

<p>Args:
    data: Series or DataFrame with quarterly PeriodIndex. Assumes the index is unique.
        The data to convert to monthly frequency.
    interpolate: bool, default True
        Whether to interpolate the missing monthly data.
    limit: int, default 2 - The maximum number of consecutive missing months
        to interpolate.
    dropna: bool, default True - Whether to drop NA data</p>

<p>Returns:
    pandas Series or DataFrame - The data with a Monthly PeriodIndex.
        If interpolate is True, the missing monthly data is interpolated.
        If dropna is True, any NA data is removed.</p>

<p>Raises:
    InvalidDataError - If data index is not a quarterly PeriodIndex or has issues.
    InvalidParameterError - If limit parameter is invalid.</p>
</div>


                </section>
                <section id="rba_catalogue">
                            <input id="rba_catalogue-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-cache">@cache</div>

        <span class="def">def</span>
        <span class="name">rba_catalogue</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">cache_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>:</span></span>

                <label class="view-source-button" for="rba_catalogue-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#rba_catalogue"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="rba_catalogue-17"><a href="#rba_catalogue-17"><span class="linenos">17</span></a><span class="nd">@cache</span>
</span><span id="rba_catalogue-18"><a href="#rba_catalogue-18"><span class="linenos">18</span></a><span class="k">def</span><span class="w"> </span><span class="nf">rba_catalogue</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">cache_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataFrame</span><span class="p">:</span>
</span><span id="rba_catalogue-19"><a href="#rba_catalogue-19"><span class="linenos">19</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a DataFrame of RBA Catalogue numbers.</span>
</span><span id="rba_catalogue-20"><a href="#rba_catalogue-20"><span class="linenos">20</span></a>
</span><span id="rba_catalogue-21"><a href="#rba_catalogue-21"><span class="linenos">21</span></a><span class="sd">    In the first instance, this is downloaded from the RBA website, and</span>
</span><span id="rba_catalogue-22"><a href="#rba_catalogue-22"><span class="linenos">22</span></a><span class="sd">    cached for future use.</span>
</span><span id="rba_catalogue-23"><a href="#rba_catalogue-23"><span class="linenos">23</span></a>
</span><span id="rba_catalogue-24"><a href="#rba_catalogue-24"><span class="linenos">24</span></a><span class="sd">    Parameters</span>
</span><span id="rba_catalogue-25"><a href="#rba_catalogue-25"><span class="linenos">25</span></a><span class="sd">    ----------</span>
</span><span id="rba_catalogue-26"><a href="#rba_catalogue-26"><span class="linenos">26</span></a><span class="sd">    cache_only : bool = False</span>
</span><span id="rba_catalogue-27"><a href="#rba_catalogue-27"><span class="linenos">27</span></a><span class="sd">        If True, only use the cache.</span>
</span><span id="rba_catalogue-28"><a href="#rba_catalogue-28"><span class="linenos">28</span></a><span class="sd">    verbose : bool = False</span>
</span><span id="rba_catalogue-29"><a href="#rba_catalogue-29"><span class="linenos">29</span></a><span class="sd">        If True, print progress messages.</span>
</span><span id="rba_catalogue-30"><a href="#rba_catalogue-30"><span class="linenos">30</span></a>
</span><span id="rba_catalogue-31"><a href="#rba_catalogue-31"><span class="linenos">31</span></a><span class="sd">    Returns</span>
</span><span id="rba_catalogue-32"><a href="#rba_catalogue-32"><span class="linenos">32</span></a><span class="sd">    -------</span>
</span><span id="rba_catalogue-33"><a href="#rba_catalogue-33"><span class="linenos">33</span></a><span class="sd">    DataFrame</span>
</span><span id="rba_catalogue-34"><a href="#rba_catalogue-34"><span class="linenos">34</span></a><span class="sd">        A DataFrame of RBA Catalogue numbers.</span>
</span><span id="rba_catalogue-35"><a href="#rba_catalogue-35"><span class="linenos">35</span></a>
</span><span id="rba_catalogue-36"><a href="#rba_catalogue-36"><span class="linenos">36</span></a><span class="sd">    Example</span>
</span><span id="rba_catalogue-37"><a href="#rba_catalogue-37"><span class="linenos">37</span></a><span class="sd">    -------</span>
</span><span id="rba_catalogue-38"><a href="#rba_catalogue-38"><span class="linenos">38</span></a><span class="sd">    ```python</span>
</span><span id="rba_catalogue-39"><a href="#rba_catalogue-39"><span class="linenos">39</span></a><span class="sd">    import readabs as ra</span>
</span><span id="rba_catalogue-40"><a href="#rba_catalogue-40"><span class="linenos">40</span></a><span class="sd">    catalogue = ra.rba_catalogue()</span>
</span><span id="rba_catalogue-41"><a href="#rba_catalogue-41"><span class="linenos">41</span></a><span class="sd">    ```</span>
</span><span id="rba_catalogue-42"><a href="#rba_catalogue-42"><span class="linenos">42</span></a>
</span><span id="rba_catalogue-43"><a href="#rba_catalogue-43"><span class="linenos">43</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="rba_catalogue-44"><a href="#rba_catalogue-44"><span class="linenos">44</span></a>    <span class="k">return</span> <span class="n">_get_rba_links</span><span class="p">(</span><span class="n">cache_only</span><span class="o">=</span><span class="n">cache_only</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return a DataFrame of RBA Catalogue numbers.</p>

<p>In the first instance, this is downloaded from the RBA website, and
cached for future use.</p>

<h2 id="parameters">Parameters</h2>

<p>cache_only : bool = False
    If True, only use the cache.
verbose : bool = False
    If True, print progress messages.</p>

<h2 id="returns">Returns</h2>

<p>DataFrame
    A DataFrame of RBA Catalogue numbers.</p>

<h2 id="example">Example</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">readabs</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ra</span>
<span class="n">catalogue</span> <span class="o">=</span> <span class="n">ra</span><span class="o">.</span><span class="n">rba_catalogue</span><span class="p">()</span>
</code></pre>
</div>
</div>


                </section>
                <section id="rba_metacol">
                    <div class="attr variable">
            <span class="name">rba_metacol</span>        =
<input id="rba_metacol-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="rba_metacol-view-value"></label><span class="default_value">_RbaMetacol(title=&#39;Title&#39;, desc=&#39;Description&#39;, freq=&#39;Frequency&#39;, type=&#39;Type&#39;, unit=&#39;Units&#39;, src=&#39;Source&#39;, pub=&#39;Publication date&#39;, id=&#39;Series ID&#39;, table=&#39;Table&#39;, tdesc=&#39;Table Description&#39;)</span>

        
    </div>
    <a class="headerlink" href="#rba_metacol"></a>
    
    

                </section>
                <section id="read_abs_by_desc">
                            <input id="read_abs_by_desc-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">read_abs_by_desc</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">wanted</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">Series</span><span class="p">],</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="read_abs_by_desc-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#read_abs_by_desc"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="read_abs_by_desc-143"><a href="#read_abs_by_desc-143"><span class="linenos">143</span></a><span class="k">def</span><span class="w"> </span><span class="nf">read_abs_by_desc</span><span class="p">(</span>
</span><span id="read_abs_by_desc-144"><a href="#read_abs_by_desc-144"><span class="linenos">144</span></a>    <span class="n">wanted</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
</span><span id="read_abs_by_desc-145"><a href="#read_abs_by_desc-145"><span class="linenos">145</span></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="read_abs_by_desc-146"><a href="#read_abs_by_desc-146"><span class="linenos">146</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">],</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]:</span>
</span><span id="read_abs_by_desc-147"><a href="#read_abs_by_desc-147"><span class="linenos">147</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get specific ABS data series by searching the ABS meta data.</span>
</span><span id="read_abs_by_desc-148"><a href="#read_abs_by_desc-148"><span class="linenos">148</span></a>
</span><span id="read_abs_by_desc-149"><a href="#read_abs_by_desc-149"><span class="linenos">149</span></a><span class="sd">    Parameters</span>
</span><span id="read_abs_by_desc-150"><a href="#read_abs_by_desc-150"><span class="linenos">150</span></a><span class="sd">    ----------</span>
</span><span id="read_abs_by_desc-151"><a href="#read_abs_by_desc-151"><span class="linenos">151</span></a><span class="sd">    wanted : list of str, dict of str:str, or dict of str:dict</span>
</span><span id="read_abs_by_desc-152"><a href="#read_abs_by_desc-152"><span class="linenos">152</span></a><span class="sd">        The data</span>
</span><span id="read_abs_by_desc-153"><a href="#read_abs_by_desc-153"><span class="linenos">153</span></a><span class="sd">        item descriptions to search for. If a list, it will be a list of</span>
</span><span id="read_abs_by_desc-154"><a href="#read_abs_by_desc-154"><span class="linenos">154</span></a><span class="sd">        descriptions to search for. If a dictionary, the keys will a name.</span>
</span><span id="read_abs_by_desc-155"><a href="#read_abs_by_desc-155"><span class="linenos">155</span></a><span class="sd">        The dictionary values can be either a string (the data item</span>
</span><span id="read_abs_by_desc-156"><a href="#read_abs_by_desc-156"><span class="linenos">156</span></a><span class="sd">        description to search for) or a dictionary of keyword arguments, one of</span>
</span><span id="read_abs_by_desc-157"><a href="#read_abs_by_desc-157"><span class="linenos">157</span></a><span class="sd">        which would be the data item description to search for.</span>
</span><span id="read_abs_by_desc-158"><a href="#read_abs_by_desc-158"><span class="linenos">158</span></a><span class="sd">    **kwargs : Any</span>
</span><span id="read_abs_by_desc-159"><a href="#read_abs_by_desc-159"><span class="linenos">159</span></a><span class="sd">        Keyword arguments to control the data retrieval.</span>
</span><span id="read_abs_by_desc-160"><a href="#read_abs_by_desc-160"><span class="linenos">160</span></a><span class="sd">        The keyword arguments can include the following:</span>
</span><span id="read_abs_by_desc-161"><a href="#read_abs_by_desc-161"><span class="linenos">161</span></a><span class="sd">        - abs_dict : dict - the dictionary of ABS data to search (from</span>
</span><span id="read_abs_by_desc-162"><a href="#read_abs_by_desc-162"><span class="linenos">162</span></a><span class="sd">            read_abs_cat()).</span>
</span><span id="read_abs_by_desc-163"><a href="#read_abs_by_desc-163"><span class="linenos">163</span></a><span class="sd">        - abs_meta : DataFrame - the metadata for the ABS data (from</span>
</span><span id="read_abs_by_desc-164"><a href="#read_abs_by_desc-164"><span class="linenos">164</span></a><span class="sd">            read_abs_cat()).</span>
</span><span id="read_abs_by_desc-165"><a href="#read_abs_by_desc-165"><span class="linenos">165</span></a><span class="sd">        - for the retrieval of data, the &quot;cat&quot; argument must be present.</span>
</span><span id="read_abs_by_desc-166"><a href="#read_abs_by_desc-166"><span class="linenos">166</span></a><span class="sd">            The following arguments, if present, will also be used (ie.</span>
</span><span id="read_abs_by_desc-167"><a href="#read_abs_by_desc-167"><span class="linenos">167</span></a><span class="sd">            passed to read_abs_cat()): [&quot;ignore_errors&quot;, &quot;get_zip&quot;,</span>
</span><span id="read_abs_by_desc-168"><a href="#read_abs_by_desc-168"><span class="linenos">168</span></a><span class="sd">            &quot;get_excel_if_no_zip&quot;, &quot;get_excel&quot;, &quot;cache_only&quot;,</span>
</span><span id="read_abs_by_desc-169"><a href="#read_abs_by_desc-169"><span class="linenos">169</span></a><span class="sd">            &quot;single_excel_only&quot;, &quot;single_zip_only&quot;, &quot;verbose&quot;].</span>
</span><span id="read_abs_by_desc-170"><a href="#read_abs_by_desc-170"><span class="linenos">170</span></a><span class="sd">        - for the selection of data, the following metacol names, if present,</span>
</span><span id="read_abs_by_desc-171"><a href="#read_abs_by_desc-171"><span class="linenos">171</span></a><span class="sd">            will be used to construct the selector: &quot;cat&quot;, &quot;did&quot;</span>
</span><span id="read_abs_by_desc-172"><a href="#read_abs_by_desc-172"><span class="linenos">172</span></a><span class="sd">            &quot;stype&quot;, &quot;id&quot;, &quot;start&quot;, &quot;end&quot;, &quot;num&quot;, &quot;unit&quot;, &quot;dtype&quot;, &quot;freq&quot;,</span>
</span><span id="read_abs_by_desc-173"><a href="#read_abs_by_desc-173"><span class="linenos">173</span></a><span class="sd">            &quot;cmonth&quot;, &quot;table&quot;, &quot;tdesc&quot;.</span>
</span><span id="read_abs_by_desc-174"><a href="#read_abs_by_desc-174"><span class="linenos">174</span></a><span class="sd">        - finally, the following arguments will be passed to the find_abs_id()</span>
</span><span id="read_abs_by_desc-175"><a href="#read_abs_by_desc-175"><span class="linenos">175</span></a><span class="sd">            and search_abs_meta() functions: [&quot;validate_unique&quot;, &quot;exact_match&quot;,</span>
</span><span id="read_abs_by_desc-176"><a href="#read_abs_by_desc-176"><span class="linenos">176</span></a><span class="sd">            &quot;regex&quot;, &quot;verbose&quot;].</span>
</span><span id="read_abs_by_desc-177"><a href="#read_abs_by_desc-177"><span class="linenos">177</span></a>
</span><span id="read_abs_by_desc-178"><a href="#read_abs_by_desc-178"><span class="linenos">178</span></a><span class="sd">    Notes</span>
</span><span id="read_abs_by_desc-179"><a href="#read_abs_by_desc-179"><span class="linenos">179</span></a><span class="sd">    -----</span>
</span><span id="read_abs_by_desc-180"><a href="#read_abs_by_desc-180"><span class="linenos">180</span></a><span class="sd">    - if &quot;wanted&quot; is of type list[str] or dict[str, str], the kwargs should</span>
</span><span id="read_abs_by_desc-181"><a href="#read_abs_by_desc-181"><span class="linenos">181</span></a><span class="sd">        include sufficient keys from the metacol dataclass to get the data.</span>
</span><span id="read_abs_by_desc-182"><a href="#read_abs_by_desc-182"><span class="linenos">182</span></a><span class="sd">        Typically, the &quot;cat&quot; key, the &quot;table&quot; key, and the &quot;stype&quot; key would</span>
</span><span id="read_abs_by_desc-183"><a href="#read_abs_by_desc-183"><span class="linenos">183</span></a><span class="sd">        be required. The did key would taken from the wanted list or</span>
</span><span id="read_abs_by_desc-184"><a href="#read_abs_by_desc-184"><span class="linenos">184</span></a><span class="sd">        dictionary.</span>
</span><span id="read_abs_by_desc-185"><a href="#read_abs_by_desc-185"><span class="linenos">185</span></a><span class="sd">    if wanted is of type dict[str, dict[str, Any]], the inner dictionary</span>
</span><span id="read_abs_by_desc-186"><a href="#read_abs_by_desc-186"><span class="linenos">186</span></a><span class="sd">        must contain a &quot;did&quot; key. The other keys that can be used for the</span>
</span><span id="read_abs_by_desc-187"><a href="#read_abs_by_desc-187"><span class="linenos">187</span></a><span class="sd">        data retrieval are the same as the metacol dataclass fileds, namely:</span>
</span><span id="read_abs_by_desc-188"><a href="#read_abs_by_desc-188"><span class="linenos">188</span></a><span class="sd">        &quot;cat&quot;, &quot;stype&quot;, &quot;id&quot;, &quot;start&quot;, &quot;end&quot;, &quot;num&quot;, &quot;unit&quot;, &quot;dtype&quot;, &quot;freq&quot;,</span>
</span><span id="read_abs_by_desc-189"><a href="#read_abs_by_desc-189"><span class="linenos">189</span></a><span class="sd">        &quot;cmonth&quot;, &quot;table&quot;, &quot;tdesc&quot;.</span>
</span><span id="read_abs_by_desc-190"><a href="#read_abs_by_desc-190"><span class="linenos">190</span></a><span class="sd">    - if abs_dict and abs_meta are provided within the kwargs, they will be</span>
</span><span id="read_abs_by_desc-191"><a href="#read_abs_by_desc-191"><span class="linenos">191</span></a><span class="sd">        used to locate and extract the selected data.</span>
</span><span id="read_abs_by_desc-192"><a href="#read_abs_by_desc-192"><span class="linenos">192</span></a><span class="sd">    - if abs_dict and abs_meta are not provided, then, (1) wanted must be of</span>
</span><span id="read_abs_by_desc-193"><a href="#read_abs_by_desc-193"><span class="linenos">193</span></a><span class="sd">        type dict[str, dict[str, Any]] and (2) the inner dictionary must</span>
</span><span id="read_abs_by_desc-194"><a href="#read_abs_by_desc-194"><span class="linenos">194</span></a><span class="sd">        contain a &quot;cat&quot; key so the data can be retrieved. Other keys that</span>
</span><span id="read_abs_by_desc-195"><a href="#read_abs_by_desc-195"><span class="linenos">195</span></a><span class="sd">        can be used for the data retrieval are the same as for read_abs_cat(),</span>
</span><span id="read_abs_by_desc-196"><a href="#read_abs_by_desc-196"><span class="linenos">196</span></a><span class="sd">        namely [&quot;ignore_errors&quot;, &quot;get_zip&quot;, &quot;get_excel_if_no_zip&quot;,</span>
</span><span id="read_abs_by_desc-197"><a href="#read_abs_by_desc-197"><span class="linenos">197</span></a><span class="sd">        &quot;get_excel&quot;, &quot;single_excel_only&quot;, &quot;single_zip_only&quot;, &quot;cache_only&quot;].</span>
</span><span id="read_abs_by_desc-198"><a href="#read_abs_by_desc-198"><span class="linenos">198</span></a>
</span><span id="read_abs_by_desc-199"><a href="#read_abs_by_desc-199"><span class="linenos">199</span></a>
</span><span id="read_abs_by_desc-200"><a href="#read_abs_by_desc-200"><span class="linenos">200</span></a><span class="sd">    Returns</span>
</span><span id="read_abs_by_desc-201"><a href="#read_abs_by_desc-201"><span class="linenos">201</span></a><span class="sd">    -------</span>
</span><span id="read_abs_by_desc-202"><a href="#read_abs_by_desc-202"><span class="linenos">202</span></a><span class="sd">    Returns a tuple of two items:</span>
</span><span id="read_abs_by_desc-203"><a href="#read_abs_by_desc-203"><span class="linenos">203</span></a><span class="sd">    - A dictionary of pandas Series objects, where the keys are the series</span>
</span><span id="read_abs_by_desc-204"><a href="#read_abs_by_desc-204"><span class="linenos">204</span></a><span class="sd">      descriptions. The series.name attribute will be the ABS series-id.</span>
</span><span id="read_abs_by_desc-205"><a href="#read_abs_by_desc-205"><span class="linenos">205</span></a><span class="sd">    - A pandas DataFrame containing the metadata for the series.</span>
</span><span id="read_abs_by_desc-206"><a href="#read_abs_by_desc-206"><span class="linenos">206</span></a>
</span><span id="read_abs_by_desc-207"><a href="#read_abs_by_desc-207"><span class="linenos">207</span></a><span class="sd">    Example</span>
</span><span id="read_abs_by_desc-208"><a href="#read_abs_by_desc-208"><span class="linenos">208</span></a><span class="sd">    -------</span>
</span><span id="read_abs_by_desc-209"><a href="#read_abs_by_desc-209"><span class="linenos">209</span></a>
</span><span id="read_abs_by_desc-210"><a href="#read_abs_by_desc-210"><span class="linenos">210</span></a><span class="sd">    ```python</span>
</span><span id="read_abs_by_desc-211"><a href="#read_abs_by_desc-211"><span class="linenos">211</span></a><span class="sd">    import readabs as ra</span>
</span><span id="read_abs_by_desc-212"><a href="#read_abs_by_desc-212"><span class="linenos">212</span></a><span class="sd">    from pandas import DataFrame</span>
</span><span id="read_abs_by_desc-213"><a href="#read_abs_by_desc-213"><span class="linenos">213</span></a><span class="sd">    cat_num = &quot;5206.0&quot;  # The ABS National Accounts</span>
</span><span id="read_abs_by_desc-214"><a href="#read_abs_by_desc-214"><span class="linenos">214</span></a><span class="sd">    data, meta = ra.read_abs_cat(cat=cat_num)</span>
</span><span id="read_abs_by_desc-215"><a href="#read_abs_by_desc-215"><span class="linenos">215</span></a><span class="sd">    wanted = [&quot;Gross domestic product: Chain volume measures ;&quot;,]</span>
</span><span id="read_abs_by_desc-216"><a href="#read_abs_by_desc-216"><span class="linenos">216</span></a><span class="sd">    selected, selected_meta = ra.read_abs_by_desc(</span>
</span><span id="read_abs_by_desc-217"><a href="#read_abs_by_desc-217"><span class="linenos">217</span></a><span class="sd">        wanted=wanted, abs_dict=data, abs_meta=meta, table=&quot;5206001_Key_Aggregates&quot;</span>
</span><span id="read_abs_by_desc-218"><a href="#read_abs_by_desc-218"><span class="linenos">218</span></a><span class="sd">    )</span>
</span><span id="read_abs_by_desc-219"><a href="#read_abs_by_desc-219"><span class="linenos">219</span></a><span class="sd">    ```</span>
</span><span id="read_abs_by_desc-220"><a href="#read_abs_by_desc-220"><span class="linenos">220</span></a>
</span><span id="read_abs_by_desc-221"><a href="#read_abs_by_desc-221"><span class="linenos">221</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="read_abs_by_desc-222"><a href="#read_abs_by_desc-222"><span class="linenos">222</span></a>    <span class="c1"># - preparation</span>
</span><span id="read_abs_by_desc-223"><a href="#read_abs_by_desc-223"><span class="linenos">223</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">_work_to_do</span><span class="p">(</span><span class="n">wanted</span><span class="p">):</span>
</span><span id="read_abs_by_desc-224"><a href="#read_abs_by_desc-224"><span class="linenos">224</span></a>        <span class="k">return</span> <span class="p">{},</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
</span><span id="read_abs_by_desc-225"><a href="#read_abs_by_desc-225"><span class="linenos">225</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">wanted</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="read_abs_by_desc-226"><a href="#read_abs_by_desc-226"><span class="linenos">226</span></a>        <span class="n">wanted</span> <span class="o">=</span> <span class="n">_wlist_to_wdict</span><span class="p">(</span><span class="n">wanted</span><span class="p">)</span>
</span><span id="read_abs_by_desc-227"><a href="#read_abs_by_desc-227"><span class="linenos">227</span></a>    <span class="n">abs_dict</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;abs_dict&quot;</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="read_abs_by_desc-228"><a href="#read_abs_by_desc-228"><span class="linenos">228</span></a>    <span class="n">abs_meta</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;abs_meta&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">())</span>
</span><span id="read_abs_by_desc-229"><a href="#read_abs_by_desc-229"><span class="linenos">229</span></a>    <span class="n">kwarg_selector</span> <span class="o">=</span> <span class="n">_get_search_terms</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="read_abs_by_desc-230"><a href="#read_abs_by_desc-230"><span class="linenos">230</span></a>    <span class="n">search_args</span> <span class="o">=</span> <span class="n">_get_search_args</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="read_abs_by_desc-231"><a href="#read_abs_by_desc-231"><span class="linenos">231</span></a>
</span><span id="read_abs_by_desc-232"><a href="#read_abs_by_desc-232"><span class="linenos">232</span></a>    <span class="n">return_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="read_abs_by_desc-233"><a href="#read_abs_by_desc-233"><span class="linenos">233</span></a>    <span class="n">return_meta</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
</span><span id="read_abs_by_desc-234"><a href="#read_abs_by_desc-234"><span class="linenos">234</span></a>    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">wanted</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="read_abs_by_desc-235"><a href="#read_abs_by_desc-235"><span class="linenos">235</span></a>        <span class="n">item_selector</span> <span class="o">=</span> <span class="n">kwarg_selector</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="read_abs_by_desc-236"><a href="#read_abs_by_desc-236"><span class="linenos">236</span></a>        <span class="n">item_search_args</span> <span class="o">=</span> <span class="n">search_args</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="read_abs_by_desc-237"><a href="#read_abs_by_desc-237"><span class="linenos">237</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="read_abs_by_desc-238"><a href="#read_abs_by_desc-238"><span class="linenos">238</span></a>            <span class="n">series</span><span class="p">,</span> <span class="n">meta</span> <span class="o">=</span> <span class="n">_get_item_from_str</span><span class="p">(</span>
</span><span id="read_abs_by_desc-239"><a href="#read_abs_by_desc-239"><span class="linenos">239</span></a>                <span class="n">item</span><span class="o">=</span><span class="n">value</span><span class="p">,</span>
</span><span id="read_abs_by_desc-240"><a href="#read_abs_by_desc-240"><span class="linenos">240</span></a>                <span class="n">data_dict</span><span class="o">=</span><span class="n">abs_dict</span><span class="p">,</span>
</span><span id="read_abs_by_desc-241"><a href="#read_abs_by_desc-241"><span class="linenos">241</span></a>                <span class="n">data_meta</span><span class="o">=</span><span class="n">abs_meta</span><span class="p">,</span>
</span><span id="read_abs_by_desc-242"><a href="#read_abs_by_desc-242"><span class="linenos">242</span></a>                <span class="n">item_selector</span><span class="o">=</span><span class="n">item_selector</span><span class="p">,</span>
</span><span id="read_abs_by_desc-243"><a href="#read_abs_by_desc-243"><span class="linenos">243</span></a>                <span class="n">search_args</span><span class="o">=</span><span class="n">item_search_args</span><span class="p">,</span>
</span><span id="read_abs_by_desc-244"><a href="#read_abs_by_desc-244"><span class="linenos">244</span></a>            <span class="p">)</span>
</span><span id="read_abs_by_desc-245"><a href="#read_abs_by_desc-245"><span class="linenos">245</span></a>
</span><span id="read_abs_by_desc-246"><a href="#read_abs_by_desc-246"><span class="linenos">246</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="read_abs_by_desc-247"><a href="#read_abs_by_desc-247"><span class="linenos">247</span></a>            <span class="n">series</span><span class="p">,</span> <span class="n">meta</span> <span class="o">=</span> <span class="n">_get_item_from_dict</span><span class="p">(</span>
</span><span id="read_abs_by_desc-248"><a href="#read_abs_by_desc-248"><span class="linenos">248</span></a>                <span class="n">item_dict</span><span class="o">=</span><span class="n">value</span><span class="p">,</span>
</span><span id="read_abs_by_desc-249"><a href="#read_abs_by_desc-249"><span class="linenos">249</span></a>                <span class="n">data_dict</span><span class="o">=</span><span class="n">abs_dict</span><span class="p">,</span>
</span><span id="read_abs_by_desc-250"><a href="#read_abs_by_desc-250"><span class="linenos">250</span></a>                <span class="n">data_meta</span><span class="o">=</span><span class="n">abs_meta</span><span class="p">,</span>
</span><span id="read_abs_by_desc-251"><a href="#read_abs_by_desc-251"><span class="linenos">251</span></a>                <span class="n">item_selector</span><span class="o">=</span><span class="n">item_selector</span><span class="p">,</span>
</span><span id="read_abs_by_desc-252"><a href="#read_abs_by_desc-252"><span class="linenos">252</span></a>                <span class="n">search_args</span><span class="o">=</span><span class="n">item_search_args</span><span class="p">,</span>
</span><span id="read_abs_by_desc-253"><a href="#read_abs_by_desc-253"><span class="linenos">253</span></a>                <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="read_abs_by_desc-254"><a href="#read_abs_by_desc-254"><span class="linenos">254</span></a>            <span class="p">)</span>
</span><span id="read_abs_by_desc-255"><a href="#read_abs_by_desc-255"><span class="linenos">255</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="read_abs_by_desc-256"><a href="#read_abs_by_desc-256"><span class="linenos">256</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
</span><span id="read_abs_by_desc-257"><a href="#read_abs_by_desc-257"><span class="linenos">257</span></a>                <span class="s2">&quot;Each value in the wanted list/dictionary must be either a string &quot;</span> <span class="o">+</span> <span class="s2">&quot;or a dictionary.&quot;</span>
</span><span id="read_abs_by_desc-258"><a href="#read_abs_by_desc-258"><span class="linenos">258</span></a>            <span class="p">)</span>
</span><span id="read_abs_by_desc-259"><a href="#read_abs_by_desc-259"><span class="linenos">259</span></a>
</span><span id="read_abs_by_desc-260"><a href="#read_abs_by_desc-260"><span class="linenos">260</span></a>        <span class="c1"># save search results</span>
</span><span id="read_abs_by_desc-261"><a href="#read_abs_by_desc-261"><span class="linenos">261</span></a>        <span class="n">return_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">series</span>
</span><span id="read_abs_by_desc-262"><a href="#read_abs_by_desc-262"><span class="linenos">262</span></a>        <span class="n">return_meta</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">return_meta</span><span class="p">,</span> <span class="n">meta</span><span class="p">])</span>
</span><span id="read_abs_by_desc-263"><a href="#read_abs_by_desc-263"><span class="linenos">263</span></a>
</span><span id="read_abs_by_desc-264"><a href="#read_abs_by_desc-264"><span class="linenos">264</span></a>    <span class="k">return</span> <span class="n">return_dict</span><span class="p">,</span> <span class="n">return_meta</span>
</span></pre></div>


            <div class="docstring"><p>Get specific ABS data series by searching the ABS meta data.</p>

<h2 id="parameters">Parameters</h2>

<p>wanted : list of str, dict of str:str, or dict of str:dict
    The data
    item descriptions to search for. If a list, it will be a list of
    descriptions to search for. If a dictionary, the keys will a name.
    The dictionary values can be either a string (the data item
    description to search for) or a dictionary of keyword arguments, one of
    which would be the data item description to search for.
**kwargs : Any
    Keyword arguments to control the data retrieval.
    The keyword arguments can include the following:
    - abs_dict : dict - the dictionary of ABS data to search (from
        read_abs_cat()).
    - abs_meta : DataFrame - the metadata for the ABS data (from
        read_abs_cat()).
    - for the retrieval of data, the "cat" argument must be present.
        The following arguments, if present, will also be used (ie.
        passed to read_abs_cat()): ["ignore_errors", "get_zip",
        "get_excel_if_no_zip", "get_excel", "cache_only",
        "single_excel_only", "single_zip_only", "verbose"].
    - for the selection of data, the following metacol names, if present,
        will be used to construct the selector: "cat", "did"
        "stype", "id", "start", "end", "num", "unit", "dtype", "freq",
        "cmonth", "table", "tdesc".
    - finally, the following arguments will be passed to the find_abs_id()
        and search_abs_meta() functions: ["validate_unique", "exact_match",
        "regex", "verbose"].</p>

<h2 id="notes">Notes</h2>

<ul>
<li>if "wanted" is of type list[str] or dict[str, str], the kwargs should
include sufficient keys from the metacol dataclass to get the data.
Typically, the "cat" key, the "table" key, and the "stype" key would
be required. The did key would taken from the wanted list or
dictionary.
if wanted is of type dict[str, dict[str, Any]], the inner dictionary
must contain a "did" key. The other keys that can be used for the
data retrieval are the same as the metacol dataclass fileds, namely:
"cat", "stype", "id", "start", "end", "num", "unit", "dtype", "freq",
"cmonth", "table", "tdesc".</li>
<li>if abs_dict and abs_meta are provided within the kwargs, they will be
used to locate and extract the selected data.</li>
<li>if abs_dict and abs_meta are not provided, then, (1) wanted must be of
type dict[str, dict[str, Any]] and (2) the inner dictionary must
contain a "cat" key so the data can be retrieved. Other keys that
can be used for the data retrieval are the same as for read_abs_cat(),
namely ["ignore_errors", "get_zip", "get_excel_if_no_zip",
"get_excel", "single_excel_only", "single_zip_only", "cache_only"].</li>
</ul>

<h2 id="returns">Returns</h2>

<p>Returns a tuple of two items:</p>

<ul>
<li>A dictionary of pandas Series objects, where the keys are the series
descriptions. The series.name attribute will be the ABS series-id.</li>
<li>A pandas DataFrame containing the metadata for the series.</li>
</ul>

<h2 id="example">Example</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">readabs</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ra</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="kn">import</span> <span class="n">DataFrame</span>
<span class="n">cat_num</span> <span class="o">=</span> <span class="s2">&quot;5206.0&quot;</span>  <span class="c1"># The ABS National Accounts</span>
<span class="n">data</span><span class="p">,</span> <span class="n">meta</span> <span class="o">=</span> <span class="n">ra</span><span class="o">.</span><span class="n">read_abs_cat</span><span class="p">(</span><span class="n">cat</span><span class="o">=</span><span class="n">cat_num</span><span class="p">)</span>
<span class="n">wanted</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Gross domestic product: Chain volume measures ;&quot;</span><span class="p">,]</span>
<span class="n">selected</span><span class="p">,</span> <span class="n">selected_meta</span> <span class="o">=</span> <span class="n">ra</span><span class="o">.</span><span class="n">read_abs_by_desc</span><span class="p">(</span>
    <span class="n">wanted</span><span class="o">=</span><span class="n">wanted</span><span class="p">,</span> <span class="n">abs_dict</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">abs_meta</span><span class="o">=</span><span class="n">meta</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="s2">&quot;5206001_Key_Aggregates&quot;</span>
<span class="p">)</span>
</code></pre>
</div>
</div>


                </section>
                <section id="read_abs_cat">
                            <input id="read_abs_cat-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-cache">@cache</div>

        <span class="def">def</span>
        <span class="name">read_abs_cat</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">cat</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n"><a href="#ReadArgs">ReadArgs</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">],</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="read_abs_cat-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#read_abs_cat"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="read_abs_cat-27"><a href="#read_abs_cat-27"><span class="linenos"> 27</span></a><span class="nd">@cache</span>  <span class="c1"># minimise slowness for any repeat business</span>
</span><span id="read_abs_cat-28"><a href="#read_abs_cat-28"><span class="linenos"> 28</span></a><span class="k">def</span><span class="w"> </span><span class="nf">read_abs_cat</span><span class="p">(</span>
</span><span id="read_abs_cat-29"><a href="#read_abs_cat-29"><span class="linenos"> 29</span></a>    <span class="n">cat</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="read_abs_cat-30"><a href="#read_abs_cat-30"><span class="linenos"> 30</span></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">ReadArgs</span><span class="p">],</span>
</span><span id="read_abs_cat-31"><a href="#read_abs_cat-31"><span class="linenos"> 31</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">],</span> <span class="n">DataFrame</span><span class="p">]:</span>
</span><span id="read_abs_cat-32"><a href="#read_abs_cat-32"><span class="linenos"> 32</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;For a specific catalogue identifier, return the complete ABS Catalogue information as DataFrames.</span>
</span><span id="read_abs_cat-33"><a href="#read_abs_cat-33"><span class="linenos"> 33</span></a>
</span><span id="read_abs_cat-34"><a href="#read_abs_cat-34"><span class="linenos"> 34</span></a><span class="sd">    This function returns the complete ABS Catalogue information as a</span>
</span><span id="read_abs_cat-35"><a href="#read_abs_cat-35"><span class="linenos"> 35</span></a><span class="sd">    python dictionary of pandas DataFrames, as well as the associated metadata</span>
</span><span id="read_abs_cat-36"><a href="#read_abs_cat-36"><span class="linenos"> 36</span></a><span class="sd">    in a separate DataFrame. The function automates the collection of zip and</span>
</span><span id="read_abs_cat-37"><a href="#read_abs_cat-37"><span class="linenos"> 37</span></a><span class="sd">    excel files from the ABS website. If necessary, these files are downloaded,</span>
</span><span id="read_abs_cat-38"><a href="#read_abs_cat-38"><span class="linenos"> 38</span></a><span class="sd">    and saved into a cache directory. The files are then parsed to extract time</span>
</span><span id="read_abs_cat-39"><a href="#read_abs_cat-39"><span class="linenos"> 39</span></a><span class="sd">    series data, and the associated metadata.</span>
</span><span id="read_abs_cat-40"><a href="#read_abs_cat-40"><span class="linenos"> 40</span></a>
</span><span id="read_abs_cat-41"><a href="#read_abs_cat-41"><span class="linenos"> 41</span></a><span class="sd">    By default, the cache directory is `./.readabs_cache/`. You can change the</span>
</span><span id="read_abs_cat-42"><a href="#read_abs_cat-42"><span class="linenos"> 42</span></a><span class="sd">    default directory name by setting the shell environment variable</span>
</span><span id="read_abs_cat-43"><a href="#read_abs_cat-43"><span class="linenos"> 43</span></a><span class="sd">    `READABS_CACHE_DIR` with the name of the preferred directory.</span>
</span><span id="read_abs_cat-44"><a href="#read_abs_cat-44"><span class="linenos"> 44</span></a>
</span><span id="read_abs_cat-45"><a href="#read_abs_cat-45"><span class="linenos"> 45</span></a><span class="sd">    Parameters</span>
</span><span id="read_abs_cat-46"><a href="#read_abs_cat-46"><span class="linenos"> 46</span></a><span class="sd">    ----------</span>
</span><span id="read_abs_cat-47"><a href="#read_abs_cat-47"><span class="linenos"> 47</span></a><span class="sd">    cat : str</span>
</span><span id="read_abs_cat-48"><a href="#read_abs_cat-48"><span class="linenos"> 48</span></a><span class="sd">        The ABS Catalogue Number for the data to be downloaded and made</span>
</span><span id="read_abs_cat-49"><a href="#read_abs_cat-49"><span class="linenos"> 49</span></a><span class="sd">        available by this function. This argument must be specified in the</span>
</span><span id="read_abs_cat-50"><a href="#read_abs_cat-50"><span class="linenos"> 50</span></a><span class="sd">        function call.</span>
</span><span id="read_abs_cat-51"><a href="#read_abs_cat-51"><span class="linenos"> 51</span></a>
</span><span id="read_abs_cat-52"><a href="#read_abs_cat-52"><span class="linenos"> 52</span></a><span class="sd">    **kwargs : Unpack[ReadArgs]</span>
</span><span id="read_abs_cat-53"><a href="#read_abs_cat-53"><span class="linenos"> 53</span></a><span class="sd">        The following parameters may be passed as optional keyword arguments.</span>
</span><span id="read_abs_cat-54"><a href="#read_abs_cat-54"><span class="linenos"> 54</span></a>
</span><span id="read_abs_cat-55"><a href="#read_abs_cat-55"><span class="linenos"> 55</span></a><span class="sd">    url : str = &quot;&quot;</span>
</span><span id="read_abs_cat-56"><a href="#read_abs_cat-56"><span class="linenos"> 56</span></a><span class="sd">        The URL of an ABS landing page. Use this for discontinued series</span>
</span><span id="read_abs_cat-57"><a href="#read_abs_cat-57"><span class="linenos"> 57</span></a><span class="sd">        that are no longer in the ABS Time Series Directory. If provided,</span>
</span><span id="read_abs_cat-58"><a href="#read_abs_cat-58"><span class="linenos"> 58</span></a><span class="sd">        data will be retrieved from this URL instead of looking up the</span>
</span><span id="read_abs_cat-59"><a href="#read_abs_cat-59"><span class="linenos"> 59</span></a><span class="sd">        catalogue number. Example:</span>
</span><span id="read_abs_cat-60"><a href="#read_abs_cat-60"><span class="linenos"> 60</span></a><span class="sd">        `read_abs_cat(cat=&quot;8501.0&quot;, url=&quot;https://www.abs.gov.au/.../jun-2025&quot;)`</span>
</span><span id="read_abs_cat-61"><a href="#read_abs_cat-61"><span class="linenos"> 61</span></a>
</span><span id="read_abs_cat-62"><a href="#read_abs_cat-62"><span class="linenos"> 62</span></a><span class="sd">    keep_non_ts : bool = False</span>
</span><span id="read_abs_cat-63"><a href="#read_abs_cat-63"><span class="linenos"> 63</span></a><span class="sd">        A flag for whether to keep the non-time-series tables</span>
</span><span id="read_abs_cat-64"><a href="#read_abs_cat-64"><span class="linenos"> 64</span></a><span class="sd">        that might form part of an ABS catalogue item. Normally, the</span>
</span><span id="read_abs_cat-65"><a href="#read_abs_cat-65"><span class="linenos"> 65</span></a><span class="sd">        non-time-series information is ignored, and not made available to</span>
</span><span id="read_abs_cat-66"><a href="#read_abs_cat-66"><span class="linenos"> 66</span></a><span class="sd">        the user.</span>
</span><span id="read_abs_cat-67"><a href="#read_abs_cat-67"><span class="linenos"> 67</span></a>
</span><span id="read_abs_cat-68"><a href="#read_abs_cat-68"><span class="linenos"> 68</span></a><span class="sd">    history : str = &quot;&quot;</span>
</span><span id="read_abs_cat-69"><a href="#read_abs_cat-69"><span class="linenos"> 69</span></a><span class="sd">        Provide a month-year string to extract historical ABS data.</span>
</span><span id="read_abs_cat-70"><a href="#read_abs_cat-70"><span class="linenos"> 70</span></a><span class="sd">        For example, you can set history=&quot;dec-2023&quot; to the get the ABS data</span>
</span><span id="read_abs_cat-71"><a href="#read_abs_cat-71"><span class="linenos"> 71</span></a><span class="sd">        for a catalogue identifier that was originally published in respect</span>
</span><span id="read_abs_cat-72"><a href="#read_abs_cat-72"><span class="linenos"> 72</span></a><span class="sd">        of Q4 of 2023. Note: not all ABS data sources are structured so that</span>
</span><span id="read_abs_cat-73"><a href="#read_abs_cat-73"><span class="linenos"> 73</span></a><span class="sd">        this technique works in every case; but most are.</span>
</span><span id="read_abs_cat-74"><a href="#read_abs_cat-74"><span class="linenos"> 74</span></a>
</span><span id="read_abs_cat-75"><a href="#read_abs_cat-75"><span class="linenos"> 75</span></a><span class="sd">    verbose : bool = False</span>
</span><span id="read_abs_cat-76"><a href="#read_abs_cat-76"><span class="linenos"> 76</span></a><span class="sd">        Setting this to true may help diagnose why something</span>
</span><span id="read_abs_cat-77"><a href="#read_abs_cat-77"><span class="linenos"> 77</span></a><span class="sd">        might be going wrong with the data retrieval process.</span>
</span><span id="read_abs_cat-78"><a href="#read_abs_cat-78"><span class="linenos"> 78</span></a>
</span><span id="read_abs_cat-79"><a href="#read_abs_cat-79"><span class="linenos"> 79</span></a><span class="sd">    ignore_errors : bool = False</span>
</span><span id="read_abs_cat-80"><a href="#read_abs_cat-80"><span class="linenos"> 80</span></a><span class="sd">        Normally, this function will cease downloading when</span>
</span><span id="read_abs_cat-81"><a href="#read_abs_cat-81"><span class="linenos"> 81</span></a><span class="sd">        an error in encountered. However, sometimes the ABS website has</span>
</span><span id="read_abs_cat-82"><a href="#read_abs_cat-82"><span class="linenos"> 82</span></a><span class="sd">        malformed links, and changing this setting is necessitated. (Note:</span>
</span><span id="read_abs_cat-83"><a href="#read_abs_cat-83"><span class="linenos"> 83</span></a><span class="sd">        if you drop a message to the ABS, they will usually fix broken</span>
</span><span id="read_abs_cat-84"><a href="#read_abs_cat-84"><span class="linenos"> 84</span></a><span class="sd">        links with a business day).</span>
</span><span id="read_abs_cat-85"><a href="#read_abs_cat-85"><span class="linenos"> 85</span></a>
</span><span id="read_abs_cat-86"><a href="#read_abs_cat-86"><span class="linenos"> 86</span></a><span class="sd">    get_zip : bool = True</span>
</span><span id="read_abs_cat-87"><a href="#read_abs_cat-87"><span class="linenos"> 87</span></a><span class="sd">        Download the excel files in .zip files.</span>
</span><span id="read_abs_cat-88"><a href="#read_abs_cat-88"><span class="linenos"> 88</span></a>
</span><span id="read_abs_cat-89"><a href="#read_abs_cat-89"><span class="linenos"> 89</span></a><span class="sd">    get_excel_if_no_zip : bool = True</span>
</span><span id="read_abs_cat-90"><a href="#read_abs_cat-90"><span class="linenos"> 90</span></a><span class="sd">        Only try to download .xlsx files if there are no zip</span>
</span><span id="read_abs_cat-91"><a href="#read_abs_cat-91"><span class="linenos"> 91</span></a><span class="sd">        files available to be downloaded. Only downloading individual excel</span>
</span><span id="read_abs_cat-92"><a href="#read_abs_cat-92"><span class="linenos"> 92</span></a><span class="sd">        files when there are no zip files to download can speed up the</span>
</span><span id="read_abs_cat-93"><a href="#read_abs_cat-93"><span class="linenos"> 93</span></a><span class="sd">        download process.</span>
</span><span id="read_abs_cat-94"><a href="#read_abs_cat-94"><span class="linenos"> 94</span></a>
</span><span id="read_abs_cat-95"><a href="#read_abs_cat-95"><span class="linenos"> 95</span></a><span class="sd">    get_excel : bool = False</span>
</span><span id="read_abs_cat-96"><a href="#read_abs_cat-96"><span class="linenos"> 96</span></a><span class="sd">        The default value means that excel files are not</span>
</span><span id="read_abs_cat-97"><a href="#read_abs_cat-97"><span class="linenos"> 97</span></a><span class="sd">        automatically download. Note: at least one of `get_zip`,</span>
</span><span id="read_abs_cat-98"><a href="#read_abs_cat-98"><span class="linenos"> 98</span></a><span class="sd">        `get_excel_if_no_zip`, or `get_excel` must be true. For most ABS</span>
</span><span id="read_abs_cat-99"><a href="#read_abs_cat-99"><span class="linenos"> 99</span></a><span class="sd">        catalogue items, it is sufficient to just download the one zip</span>
</span><span id="read_abs_cat-100"><a href="#read_abs_cat-100"><span class="linenos">100</span></a><span class="sd">        file. But note, some catalogue items do not have a zip file.</span>
</span><span id="read_abs_cat-101"><a href="#read_abs_cat-101"><span class="linenos">101</span></a><span class="sd">        Others have quite a number of zip files.</span>
</span><span id="read_abs_cat-102"><a href="#read_abs_cat-102"><span class="linenos">102</span></a>
</span><span id="read_abs_cat-103"><a href="#read_abs_cat-103"><span class="linenos">103</span></a><span class="sd">    single_excel_only : str = &quot;&quot;</span>
</span><span id="read_abs_cat-104"><a href="#read_abs_cat-104"><span class="linenos">104</span></a><span class="sd">        If this argument is set to a table name (without the</span>
</span><span id="read_abs_cat-105"><a href="#read_abs_cat-105"><span class="linenos">105</span></a><span class="sd">        .xlsx extension), only that excel file will be downloaded. If</span>
</span><span id="read_abs_cat-106"><a href="#read_abs_cat-106"><span class="linenos">106</span></a><span class="sd">        set, and only a limited subset of available data is needed,</span>
</span><span id="read_abs_cat-107"><a href="#read_abs_cat-107"><span class="linenos">107</span></a><span class="sd">        this can speed up download times significantly. Note: overrides</span>
</span><span id="read_abs_cat-108"><a href="#read_abs_cat-108"><span class="linenos">108</span></a><span class="sd">        `get_zip`, `get_excel_if_no_zip`, `get_excel` and `single_zip_only`.</span>
</span><span id="read_abs_cat-109"><a href="#read_abs_cat-109"><span class="linenos">109</span></a>
</span><span id="read_abs_cat-110"><a href="#read_abs_cat-110"><span class="linenos">110</span></a><span class="sd">    single_zip_only : str = &quot;&quot;</span>
</span><span id="read_abs_cat-111"><a href="#read_abs_cat-111"><span class="linenos">111</span></a><span class="sd">        If this argument is set to a zip file name (without</span>
</span><span id="read_abs_cat-112"><a href="#read_abs_cat-112"><span class="linenos">112</span></a><span class="sd">        the .zip extension), only that zip file will be downloaded.</span>
</span><span id="read_abs_cat-113"><a href="#read_abs_cat-113"><span class="linenos">113</span></a><span class="sd">        If set, and only a limited subset of available data is needed,</span>
</span><span id="read_abs_cat-114"><a href="#read_abs_cat-114"><span class="linenos">114</span></a><span class="sd">        this can speed up download times significantly. Note: overrides</span>
</span><span id="read_abs_cat-115"><a href="#read_abs_cat-115"><span class="linenos">115</span></a><span class="sd">        `get_zip`, `get_excel_if_no_zip`, and `get_excel`.</span>
</span><span id="read_abs_cat-116"><a href="#read_abs_cat-116"><span class="linenos">116</span></a>
</span><span id="read_abs_cat-117"><a href="#read_abs_cat-117"><span class="linenos">117</span></a><span class="sd">    cache_only : bool = False</span>
</span><span id="read_abs_cat-118"><a href="#read_abs_cat-118"><span class="linenos">118</span></a><span class="sd">        If set to True, this function will only access</span>
</span><span id="read_abs_cat-119"><a href="#read_abs_cat-119"><span class="linenos">119</span></a><span class="sd">        data that has been previously cached. Normally, the function</span>
</span><span id="read_abs_cat-120"><a href="#read_abs_cat-120"><span class="linenos">120</span></a><span class="sd">        checks the date of the cache data against the date of the data</span>
</span><span id="read_abs_cat-121"><a href="#read_abs_cat-121"><span class="linenos">121</span></a><span class="sd">        on the ABS website, before deciding whether the ABS has fresher</span>
</span><span id="read_abs_cat-122"><a href="#read_abs_cat-122"><span class="linenos">122</span></a><span class="sd">        data that needs to be downloaded to the cache.</span>
</span><span id="read_abs_cat-123"><a href="#read_abs_cat-123"><span class="linenos">123</span></a>
</span><span id="read_abs_cat-124"><a href="#read_abs_cat-124"><span class="linenos">124</span></a><span class="sd">    zip_file: str | Path = &quot;&quot;</span>
</span><span id="read_abs_cat-125"><a href="#read_abs_cat-125"><span class="linenos">125</span></a><span class="sd">        If set to a specific zip file name (with or without the .zip</span>
</span><span id="read_abs_cat-126"><a href="#read_abs_cat-126"><span class="linenos">126</span></a><span class="sd">        extension), this function will only extract data from that zip file</span>
</span><span id="read_abs_cat-127"><a href="#read_abs_cat-127"><span class="linenos">127</span></a><span class="sd">        on the local file system. This may be useful for debugging purposes.</span>
</span><span id="read_abs_cat-128"><a href="#read_abs_cat-128"><span class="linenos">128</span></a>
</span><span id="read_abs_cat-129"><a href="#read_abs_cat-129"><span class="linenos">129</span></a><span class="sd">    Returns</span>
</span><span id="read_abs_cat-130"><a href="#read_abs_cat-130"><span class="linenos">130</span></a><span class="sd">    -------</span>
</span><span id="read_abs_cat-131"><a href="#read_abs_cat-131"><span class="linenos">131</span></a><span class="sd">    tuple[dict[str, DataFrame], DataFrame]</span>
</span><span id="read_abs_cat-132"><a href="#read_abs_cat-132"><span class="linenos">132</span></a><span class="sd">        The function returns a tuple of two items. The first item is a</span>
</span><span id="read_abs_cat-133"><a href="#read_abs_cat-133"><span class="linenos">133</span></a><span class="sd">        python dictionary of pandas DataFrames (which is the primary data</span>
</span><span id="read_abs_cat-134"><a href="#read_abs_cat-134"><span class="linenos">134</span></a><span class="sd">        associated with the ABS catalogue item). The second item is a</span>
</span><span id="read_abs_cat-135"><a href="#read_abs_cat-135"><span class="linenos">135</span></a><span class="sd">        DataFrame of ABS metadata for the ABS collection.</span>
</span><span id="read_abs_cat-136"><a href="#read_abs_cat-136"><span class="linenos">136</span></a>
</span><span id="read_abs_cat-137"><a href="#read_abs_cat-137"><span class="linenos">137</span></a><span class="sd">        Note:</span>
</span><span id="read_abs_cat-138"><a href="#read_abs_cat-138"><span class="linenos">138</span></a><span class="sd">        You can retrieve non-timeseries data using the grab_abs_url()</span>
</span><span id="read_abs_cat-139"><a href="#read_abs_cat-139"><span class="linenos">139</span></a><span class="sd">        function. That takes the URL for the ABS landing page for the ABS</span>
</span><span id="read_abs_cat-140"><a href="#read_abs_cat-140"><span class="linenos">140</span></a><span class="sd">        collection you are interested in. The read_abs_cat function is for</span>
</span><span id="read_abs_cat-141"><a href="#read_abs_cat-141"><span class="linenos">141</span></a><span class="sd">        ABS catalogue identifiers which are timeseries data, for which the</span>
</span><span id="read_abs_cat-142"><a href="#read_abs_cat-142"><span class="linenos">142</span></a><span class="sd">        metadata can be extracted.</span>
</span><span id="read_abs_cat-143"><a href="#read_abs_cat-143"><span class="linenos">143</span></a>
</span><span id="read_abs_cat-144"><a href="#read_abs_cat-144"><span class="linenos">144</span></a><span class="sd">    Example</span>
</span><span id="read_abs_cat-145"><a href="#read_abs_cat-145"><span class="linenos">145</span></a><span class="sd">    -------</span>
</span><span id="read_abs_cat-146"><a href="#read_abs_cat-146"><span class="linenos">146</span></a>
</span><span id="read_abs_cat-147"><a href="#read_abs_cat-147"><span class="linenos">147</span></a><span class="sd">    ```python</span>
</span><span id="read_abs_cat-148"><a href="#read_abs_cat-148"><span class="linenos">148</span></a><span class="sd">    import readabs as ra</span>
</span><span id="read_abs_cat-149"><a href="#read_abs_cat-149"><span class="linenos">149</span></a><span class="sd">    from pandas import DataFrame</span>
</span><span id="read_abs_cat-150"><a href="#read_abs_cat-150"><span class="linenos">150</span></a><span class="sd">    cat_num = &quot;6202.0&quot;  # The ABS labour force survey</span>
</span><span id="read_abs_cat-151"><a href="#read_abs_cat-151"><span class="linenos">151</span></a><span class="sd">    data: tuple[dict[str, DataFrame], DataFrame] = ra.read_abs_cat(cat=cat_num)</span>
</span><span id="read_abs_cat-152"><a href="#read_abs_cat-152"><span class="linenos">152</span></a><span class="sd">    abs_dict, meta = data</span>
</span><span id="read_abs_cat-153"><a href="#read_abs_cat-153"><span class="linenos">153</span></a><span class="sd">    ```</span>
</span><span id="read_abs_cat-154"><a href="#read_abs_cat-154"><span class="linenos">154</span></a>
</span><span id="read_abs_cat-155"><a href="#read_abs_cat-155"><span class="linenos">155</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="read_abs_cat-156"><a href="#read_abs_cat-156"><span class="linenos">156</span></a>    <span class="c1"># --- get the time series data ---</span>
</span><span id="read_abs_cat-157"><a href="#read_abs_cat-157"><span class="linenos">157</span></a>    <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;zip_file&quot;</span><span class="p">):</span>
</span><span id="read_abs_cat-158"><a href="#read_abs_cat-158"><span class="linenos">158</span></a>        <span class="n">raw_abs_dict</span> <span class="o">=</span> <span class="n">grab_abs_zip</span><span class="p">(</span><span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;zip_file&quot;</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="read_abs_cat-159"><a href="#read_abs_cat-159"><span class="linenos">159</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="read_abs_cat-160"><a href="#read_abs_cat-160"><span class="linenos">160</span></a>        <span class="n">raw_abs_dict</span> <span class="o">=</span> <span class="n">grab_abs_url</span><span class="p">(</span><span class="n">cat</span><span class="o">=</span><span class="n">cat</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="read_abs_cat-161"><a href="#read_abs_cat-161"><span class="linenos">161</span></a>    <span class="n">response</span> <span class="o">=</span> <span class="n">_get_time_series_data</span><span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="n">raw_abs_dict</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="read_abs_cat-162"><a href="#read_abs_cat-162"><span class="linenos">162</span></a>
</span><span id="read_abs_cat-163"><a href="#read_abs_cat-163"><span class="linenos">163</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="p">:</span>
</span><span id="read_abs_cat-164"><a href="#read_abs_cat-164"><span class="linenos">164</span></a>        <span class="n">response</span> <span class="o">=</span> <span class="p">{},</span> <span class="n">DataFrame</span><span class="p">()</span>
</span><span id="read_abs_cat-165"><a href="#read_abs_cat-165"><span class="linenos">165</span></a>
</span><span id="read_abs_cat-166"><a href="#read_abs_cat-166"><span class="linenos">166</span></a>    <span class="k">return</span> <span class="n">response</span>  <span class="c1"># dictionary of DataFrames, and a DataFrame of metadata</span>
</span></pre></div>


            <div class="docstring"><p>For a specific catalogue identifier, return the complete ABS Catalogue information as DataFrames.</p>

<p>This function returns the complete ABS Catalogue information as a
python dictionary of pandas DataFrames, as well as the associated metadata
in a separate DataFrame. The function automates the collection of zip and
excel files from the ABS website. If necessary, these files are downloaded,
and saved into a cache directory. The files are then parsed to extract time
series data, and the associated metadata.</p>

<p>By default, the cache directory is <code>./.readabs_cache/</code>. You can change the
default directory name by setting the shell environment variable
<code>READABS_CACHE_DIR</code> with the name of the preferred directory.</p>

<h2 id="parameters">Parameters</h2>

<p>cat : str
    The ABS Catalogue Number for the data to be downloaded and made
    available by this function. This argument must be specified in the
    function call.</p>

<p>**kwargs : Unpack[ReadArgs]
    The following parameters may be passed as optional keyword arguments.</p>

<p>url : str = ""
    The URL of an ABS landing page. Use this for discontinued series
    that are no longer in the ABS Time Series Directory. If provided,
    data will be retrieved from this URL instead of looking up the
    catalogue number. Example:
    <code>read_abs_cat(cat="8501.0", url="https://www.abs.gov.au/.../jun-2025")</code></p>

<p>keep_non_ts : bool = False
    A flag for whether to keep the non-time-series tables
    that might form part of an ABS catalogue item. Normally, the
    non-time-series information is ignored, and not made available to
    the user.</p>

<p>history : str = ""
    Provide a month-year string to extract historical ABS data.
    For example, you can set history="dec-2023" to the get the ABS data
    for a catalogue identifier that was originally published in respect
    of Q4 of 2023. Note: not all ABS data sources are structured so that
    this technique works in every case; but most are.</p>

<p>verbose : bool = False
    Setting this to true may help diagnose why something
    might be going wrong with the data retrieval process.</p>

<p>ignore_errors : bool = False
    Normally, this function will cease downloading when
    an error in encountered. However, sometimes the ABS website has
    malformed links, and changing this setting is necessitated. (Note:
    if you drop a message to the ABS, they will usually fix broken
    links with a business day).</p>

<p>get_zip : bool = True
    Download the excel files in .zip files.</p>

<p>get_excel_if_no_zip : bool = True
    Only try to download .xlsx files if there are no zip
    files available to be downloaded. Only downloading individual excel
    files when there are no zip files to download can speed up the
    download process.</p>

<p>get_excel : bool = False
    The default value means that excel files are not
    automatically download. Note: at least one of <code>get_zip</code>,
    <code>get_excel_if_no_zip</code>, or <code>get_excel</code> must be true. For most ABS
    catalogue items, it is sufficient to just download the one zip
    file. But note, some catalogue items do not have a zip file.
    Others have quite a number of zip files.</p>

<p>single_excel_only : str = ""
    If this argument is set to a table name (without the
    .xlsx extension), only that excel file will be downloaded. If
    set, and only a limited subset of available data is needed,
    this can speed up download times significantly. Note: overrides
    <code>get_zip</code>, <code>get_excel_if_no_zip</code>, <code>get_excel</code> and <code>single_zip_only</code>.</p>

<p>single_zip_only : str = ""
    If this argument is set to a zip file name (without
    the .zip extension), only that zip file will be downloaded.
    If set, and only a limited subset of available data is needed,
    this can speed up download times significantly. Note: overrides
    <code>get_zip</code>, <code>get_excel_if_no_zip</code>, and <code>get_excel</code>.</p>

<p>cache_only : bool = False
    If set to True, this function will only access
    data that has been previously cached. Normally, the function
    checks the date of the cache data against the date of the data
    on the ABS website, before deciding whether the ABS has fresher
    data that needs to be downloaded to the cache.</p>

<p>zip_file: str | Path = ""
    If set to a specific zip file name (with or without the .zip
    extension), this function will only extract data from that zip file
    on the local file system. This may be useful for debugging purposes.</p>

<h2 id="returns">Returns</h2>

<p>tuple[dict[str, DataFrame], DataFrame]
    The function returns a tuple of two items. The first item is a
    python dictionary of pandas DataFrames (which is the primary data
    associated with the ABS catalogue item). The second item is a
    DataFrame of ABS metadata for the ABS collection.</p>

<pre><code>Note:
You can retrieve non-timeseries data using the grab_abs_url()
function. That takes the URL for the ABS landing page for the ABS
collection you are interested in. The read_abs_cat function is for
ABS catalogue identifiers which are timeseries data, for which the
metadata can be extracted.
</code></pre>

<h2 id="example">Example</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">readabs</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ra</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="kn">import</span> <span class="n">DataFrame</span>
<span class="n">cat_num</span> <span class="o">=</span> <span class="s2">&quot;6202.0&quot;</span>  <span class="c1"># The ABS labour force survey</span>
<span class="n">data</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">],</span> <span class="n">DataFrame</span><span class="p">]</span> <span class="o">=</span> <span class="n">ra</span><span class="o">.</span><span class="n">read_abs_cat</span><span class="p">(</span><span class="n">cat</span><span class="o">=</span><span class="n">cat_num</span><span class="p">)</span>
<span class="n">abs_dict</span><span class="p">,</span> <span class="n">meta</span> <span class="o">=</span> <span class="n">data</span>
</code></pre>
</div>
</div>


                </section>
                <section id="read_abs_series">
                            <input id="read_abs_series-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">read_abs_series</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">cat</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">series_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n"><a href="#ReadArgs">ReadArgs</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="read_abs_series-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#read_abs_series"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="read_abs_series-15"><a href="#read_abs_series-15"><span class="linenos">15</span></a><span class="k">def</span><span class="w"> </span><span class="nf">read_abs_series</span><span class="p">(</span>
</span><span id="read_abs_series-16"><a href="#read_abs_series-16"><span class="linenos">16</span></a>    <span class="n">cat</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="read_abs_series-17"><a href="#read_abs_series-17"><span class="linenos">17</span></a>    <span class="n">series_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
</span><span id="read_abs_series-18"><a href="#read_abs_series-18"><span class="linenos">18</span></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Unpack</span><span class="p">[</span><span class="n">ReadArgs</span><span class="p">],</span>
</span><span id="read_abs_series-19"><a href="#read_abs_series-19"><span class="linenos">19</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">]:</span>
</span><span id="read_abs_series-20"><a href="#read_abs_series-20"><span class="linenos">20</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get specific ABS data series by their ABS catalogue and series identifiers.</span>
</span><span id="read_abs_series-21"><a href="#read_abs_series-21"><span class="linenos">21</span></a>
</span><span id="read_abs_series-22"><a href="#read_abs_series-22"><span class="linenos">22</span></a><span class="sd">    Parameters</span>
</span><span id="read_abs_series-23"><a href="#read_abs_series-23"><span class="linenos">23</span></a><span class="sd">    ----------</span>
</span><span id="read_abs_series-24"><a href="#read_abs_series-24"><span class="linenos">24</span></a><span class="sd">    cat : str</span>
</span><span id="read_abs_series-25"><a href="#read_abs_series-25"><span class="linenos">25</span></a><span class="sd">        The ABS catalogue ID.</span>
</span><span id="read_abs_series-26"><a href="#read_abs_series-26"><span class="linenos">26</span></a>
</span><span id="read_abs_series-27"><a href="#read_abs_series-27"><span class="linenos">27</span></a><span class="sd">    series_id : str | Sequence[str]</span>
</span><span id="read_abs_series-28"><a href="#read_abs_series-28"><span class="linenos">28</span></a><span class="sd">        An ABS series ID or a sequence of ABS series IDs.</span>
</span><span id="read_abs_series-29"><a href="#read_abs_series-29"><span class="linenos">29</span></a>
</span><span id="read_abs_series-30"><a href="#read_abs_series-30"><span class="linenos">30</span></a><span class="sd">    **kwargs : Any</span>
</span><span id="read_abs_series-31"><a href="#read_abs_series-31"><span class="linenos">31</span></a><span class="sd">        Keyword arguments for the read_abs_series function,</span>
</span><span id="read_abs_series-32"><a href="#read_abs_series-32"><span class="linenos">32</span></a><span class="sd">        which are the same as the keyword arguments for the</span>
</span><span id="read_abs_series-33"><a href="#read_abs_series-33"><span class="linenos">33</span></a><span class="sd">        read_abs_cat function.</span>
</span><span id="read_abs_series-34"><a href="#read_abs_series-34"><span class="linenos">34</span></a>
</span><span id="read_abs_series-35"><a href="#read_abs_series-35"><span class="linenos">35</span></a><span class="sd">    Returns</span>
</span><span id="read_abs_series-36"><a href="#read_abs_series-36"><span class="linenos">36</span></a><span class="sd">    -------</span>
</span><span id="read_abs_series-37"><a href="#read_abs_series-37"><span class="linenos">37</span></a><span class="sd">    tuple[DataFrame, DataFrame]</span>
</span><span id="read_abs_series-38"><a href="#read_abs_series-38"><span class="linenos">38</span></a><span class="sd">        A tuple of two DataFrames, one for the primary data and one for the metadata.</span>
</span><span id="read_abs_series-39"><a href="#read_abs_series-39"><span class="linenos">39</span></a>
</span><span id="read_abs_series-40"><a href="#read_abs_series-40"><span class="linenos">40</span></a><span class="sd">    Example</span>
</span><span id="read_abs_series-41"><a href="#read_abs_series-41"><span class="linenos">41</span></a><span class="sd">    -------</span>
</span><span id="read_abs_series-42"><a href="#read_abs_series-42"><span class="linenos">42</span></a>
</span><span id="read_abs_series-43"><a href="#read_abs_series-43"><span class="linenos">43</span></a><span class="sd">    ```python</span>
</span><span id="read_abs_series-44"><a href="#read_abs_series-44"><span class="linenos">44</span></a><span class="sd">    import readabs as ra</span>
</span><span id="read_abs_series-45"><a href="#read_abs_series-45"><span class="linenos">45</span></a><span class="sd">    from pandas import DataFrame</span>
</span><span id="read_abs_series-46"><a href="#read_abs_series-46"><span class="linenos">46</span></a><span class="sd">    cat_num = &quot;6202.0&quot;  # The ABS labour force survey</span>
</span><span id="read_abs_series-47"><a href="#read_abs_series-47"><span class="linenos">47</span></a><span class="sd">    unemployment_rate = &quot;A84423050A&quot;</span>
</span><span id="read_abs_series-48"><a href="#read_abs_series-48"><span class="linenos">48</span></a><span class="sd">    seo = &quot;6202001&quot;  # The ABS table name</span>
</span><span id="read_abs_series-49"><a href="#read_abs_series-49"><span class="linenos">49</span></a><span class="sd">    data, meta = ra.read_abs_series(</span>
</span><span id="read_abs_series-50"><a href="#read_abs_series-50"><span class="linenos">50</span></a><span class="sd">        cat=cat_num, series_id=unemployment_rate, single_excel_only=seo</span>
</span><span id="read_abs_series-51"><a href="#read_abs_series-51"><span class="linenos">51</span></a><span class="sd">    )</span>
</span><span id="read_abs_series-52"><a href="#read_abs_series-52"><span class="linenos">52</span></a><span class="sd">    ```</span>
</span><span id="read_abs_series-53"><a href="#read_abs_series-53"><span class="linenos">53</span></a>
</span><span id="read_abs_series-54"><a href="#read_abs_series-54"><span class="linenos">54</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="read_abs_series-55"><a href="#read_abs_series-55"><span class="linenos">55</span></a>    <span class="c1"># check for unexpected keyword arguments/get defaults</span>
</span><span id="read_abs_series-56"><a href="#read_abs_series-56"><span class="linenos">56</span></a>    <span class="n">check_kwargs</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;read_abs_series&quot;</span><span class="p">)</span>
</span><span id="read_abs_series-57"><a href="#read_abs_series-57"><span class="linenos">57</span></a>    <span class="n">args</span> <span class="o">=</span> <span class="n">get_args</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="s2">&quot;read_abs_series&quot;</span><span class="p">)</span>
</span><span id="read_abs_series-58"><a href="#read_abs_series-58"><span class="linenos">58</span></a>
</span><span id="read_abs_series-59"><a href="#read_abs_series-59"><span class="linenos">59</span></a>    <span class="c1"># read the ABS category data</span>
</span><span id="read_abs_series-60"><a href="#read_abs_series-60"><span class="linenos">60</span></a>    <span class="n">cat_data</span><span class="p">,</span> <span class="n">cat_meta</span> <span class="o">=</span> <span class="n">read_abs_cat</span><span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span>
</span><span id="read_abs_series-61"><a href="#read_abs_series-61"><span class="linenos">61</span></a>
</span><span id="read_abs_series-62"><a href="#read_abs_series-62"><span class="linenos">62</span></a>    <span class="c1"># drop repeated series_ids in the meta data,</span>
</span><span id="read_abs_series-63"><a href="#read_abs_series-63"><span class="linenos">63</span></a>    <span class="c1"># make unique series_ids the index</span>
</span><span id="read_abs_series-64"><a href="#read_abs_series-64"><span class="linenos">64</span></a>    <span class="n">cat_meta</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="n">cat_meta</span><span class="p">[</span><span class="n">metacol</span><span class="o">.</span><span class="n">id</span><span class="p">])</span>
</span><span id="read_abs_series-65"><a href="#read_abs_series-65"><span class="linenos">65</span></a>    <span class="n">cat_meta</span> <span class="o">=</span> <span class="n">cat_meta</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">cat_meta</span><span class="o">.</span><span class="n">index</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</span><span id="read_abs_series-66"><a href="#read_abs_series-66"><span class="linenos">66</span></a>
</span><span id="read_abs_series-67"><a href="#read_abs_series-67"><span class="linenos">67</span></a>    <span class="c1"># get the ABS series data</span>
</span><span id="read_abs_series-68"><a href="#read_abs_series-68"><span class="linenos">68</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">series_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="read_abs_series-69"><a href="#read_abs_series-69"><span class="linenos">69</span></a>        <span class="n">series_id</span> <span class="o">=</span> <span class="p">[</span><span class="n">series_id</span><span class="p">]</span>
</span><span id="read_abs_series-70"><a href="#read_abs_series-70"><span class="linenos">70</span></a>    <span class="n">return_data</span><span class="p">,</span> <span class="n">return_meta</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(),</span> <span class="n">DataFrame</span><span class="p">()</span>
</span><span id="read_abs_series-71"><a href="#read_abs_series-71"><span class="linenos">71</span></a>    <span class="k">for</span> <span class="n">identifier</span> <span class="ow">in</span> <span class="n">series_id</span><span class="p">:</span>
</span><span id="read_abs_series-72"><a href="#read_abs_series-72"><span class="linenos">72</span></a>        <span class="c1"># confirm that the series ID is in the catalogue</span>
</span><span id="read_abs_series-73"><a href="#read_abs_series-73"><span class="linenos">73</span></a>        <span class="k">if</span> <span class="n">identifier</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cat_meta</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
</span><span id="read_abs_series-74"><a href="#read_abs_series-74"><span class="linenos">74</span></a>            <span class="k">if</span> <span class="n">args</span><span class="p">[</span><span class="s2">&quot;verbose&quot;</span><span class="p">]:</span>
</span><span id="read_abs_series-75"><a href="#read_abs_series-75"><span class="linenos">75</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Series ID </span><span class="si">{</span><span class="n">identifier</span><span class="si">}</span><span class="s2"> not found in ABS catalogue ID </span><span class="si">{</span><span class="n">cat</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="read_abs_series-76"><a href="#read_abs_series-76"><span class="linenos">76</span></a>            <span class="k">if</span> <span class="n">args</span><span class="p">[</span><span class="s2">&quot;ignore_errors&quot;</span><span class="p">]:</span>
</span><span id="read_abs_series-77"><a href="#read_abs_series-77"><span class="linenos">77</span></a>                <span class="k">continue</span>
</span><span id="read_abs_series-78"><a href="#read_abs_series-78"><span class="linenos">78</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Series ID </span><span class="si">{</span><span class="n">identifier</span><span class="si">}</span><span class="s2"> not found in catalogue </span><span class="si">{</span><span class="n">cat</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="read_abs_series-79"><a href="#read_abs_series-79"><span class="linenos">79</span></a>
</span><span id="read_abs_series-80"><a href="#read_abs_series-80"><span class="linenos">80</span></a>        <span class="c1"># confirm thay the index of the series is compatible</span>
</span><span id="read_abs_series-81"><a href="#read_abs_series-81"><span class="linenos">81</span></a>        <span class="n">table</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cat_meta</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">identifier</span><span class="p">,</span> <span class="n">metacol</span><span class="o">.</span><span class="n">table</span><span class="p">])</span>  <span class="c1"># str for mypy</span>
</span><span id="read_abs_series-82"><a href="#read_abs_series-82"><span class="linenos">82</span></a>        <span class="n">data_series</span> <span class="o">=</span> <span class="n">cat_data</span><span class="p">[</span><span class="n">table</span><span class="p">][</span><span class="n">identifier</span><span class="p">]</span>
</span><span id="read_abs_series-83"><a href="#read_abs_series-83"><span class="linenos">83</span></a>        <span class="k">if</span> <span class="p">(</span>
</span><span id="read_abs_series-84"><a href="#read_abs_series-84"><span class="linenos">84</span></a>            <span class="nb">len</span><span class="p">(</span><span class="n">return_data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
</span><span id="read_abs_series-85"><a href="#read_abs_series-85"><span class="linenos">85</span></a>            <span class="ow">and</span> <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;PeriodIndex&quot;</span><span class="p">,</span> <span class="n">return_data</span><span class="o">.</span><span class="n">index</span><span class="p">)</span><span class="o">.</span><span class="n">freq</span> <span class="o">!=</span> <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;PeriodIndex&quot;</span><span class="p">,</span> <span class="n">data_series</span><span class="o">.</span><span class="n">index</span><span class="p">)</span><span class="o">.</span><span class="n">freq</span>
</span><span id="read_abs_series-86"><a href="#read_abs_series-86"><span class="linenos">86</span></a>        <span class="p">):</span>
</span><span id="read_abs_series-87"><a href="#read_abs_series-87"><span class="linenos">87</span></a>            <span class="k">if</span> <span class="n">args</span><span class="p">[</span><span class="s2">&quot;verbose&quot;</span><span class="p">]:</span>
</span><span id="read_abs_series-88"><a href="#read_abs_series-88"><span class="linenos">88</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Frequency mismatch for series ID </span><span class="si">{</span><span class="n">identifier</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="read_abs_series-89"><a href="#read_abs_series-89"><span class="linenos">89</span></a>            <span class="k">if</span> <span class="n">args</span><span class="p">[</span><span class="s2">&quot;ignore_errors&quot;</span><span class="p">]:</span>
</span><span id="read_abs_series-90"><a href="#read_abs_series-90"><span class="linenos">90</span></a>                <span class="k">continue</span>
</span><span id="read_abs_series-91"><a href="#read_abs_series-91"><span class="linenos">91</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Frequency mismatch for series ID </span><span class="si">{</span><span class="n">identifier</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="read_abs_series-92"><a href="#read_abs_series-92"><span class="linenos">92</span></a>
</span><span id="read_abs_series-93"><a href="#read_abs_series-93"><span class="linenos">93</span></a>        <span class="c1"># add the series data and meta data to the return values</span>
</span><span id="read_abs_series-94"><a href="#read_abs_series-94"><span class="linenos">94</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">return_data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="read_abs_series-95"><a href="#read_abs_series-95"><span class="linenos">95</span></a>            <span class="n">return_data</span> <span class="o">=</span> <span class="n">return_data</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">return_data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">data_series</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
</span><span id="read_abs_series-96"><a href="#read_abs_series-96"><span class="linenos">96</span></a>        <span class="n">return_data</span><span class="p">[</span><span class="n">identifier</span><span class="p">]</span> <span class="o">=</span> <span class="n">data_series</span>
</span><span id="read_abs_series-97"><a href="#read_abs_series-97"><span class="linenos">97</span></a>        <span class="n">return_meta</span> <span class="o">=</span> <span class="n">concat</span><span class="p">([</span><span class="n">return_meta</span><span class="p">,</span> <span class="n">cat_meta</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">identifier</span><span class="p">]],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="read_abs_series-98"><a href="#read_abs_series-98"><span class="linenos">98</span></a>
</span><span id="read_abs_series-99"><a href="#read_abs_series-99"><span class="linenos">99</span></a>    <span class="k">return</span> <span class="n">return_data</span><span class="p">,</span> <span class="n">return_meta</span><span class="o">.</span><span class="n">T</span>
</span></pre></div>


            <div class="docstring"><p>Get specific ABS data series by their ABS catalogue and series identifiers.</p>

<h2 id="parameters">Parameters</h2>

<p>cat : str
    The ABS catalogue ID.</p>

<p>series_id : str | Sequence[str]
    An ABS series ID or a sequence of ABS series IDs.</p>

<p>**kwargs : Any
    Keyword arguments for the read_abs_series function,
    which are the same as the keyword arguments for the
    read_abs_cat function.</p>

<h2 id="returns">Returns</h2>

<p>tuple[DataFrame, DataFrame]
    A tuple of two DataFrames, one for the primary data and one for the metadata.</p>

<h2 id="example">Example</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">readabs</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ra</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="kn">import</span> <span class="n">DataFrame</span>
<span class="n">cat_num</span> <span class="o">=</span> <span class="s2">&quot;6202.0&quot;</span>  <span class="c1"># The ABS labour force survey</span>
<span class="n">unemployment_rate</span> <span class="o">=</span> <span class="s2">&quot;A84423050A&quot;</span>
<span class="n">seo</span> <span class="o">=</span> <span class="s2">&quot;6202001&quot;</span>  <span class="c1"># The ABS table name</span>
<span class="n">data</span><span class="p">,</span> <span class="n">meta</span> <span class="o">=</span> <span class="n">ra</span><span class="o">.</span><span class="n">read_abs_series</span><span class="p">(</span>
    <span class="n">cat</span><span class="o">=</span><span class="n">cat_num</span><span class="p">,</span> <span class="n">series_id</span><span class="o">=</span><span class="n">unemployment_rate</span><span class="p">,</span> <span class="n">single_excel_only</span><span class="o">=</span><span class="n">seo</span>
<span class="p">)</span>
</code></pre>
</div>
</div>


                </section>
                <section id="read_rba_ocr">
                            <input id="read_rba_ocr-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">read_rba_ocr</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">*</span>, </span><span class="param"><span class="n">monthly</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">Series</span>:</span></span>

                <label class="view-source-button" for="read_rba_ocr-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#read_rba_ocr"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="read_rba_ocr-171"><a href="#read_rba_ocr-171"><span class="linenos">171</span></a><span class="k">def</span><span class="w"> </span><span class="nf">read_rba_ocr</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">monthly</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Series</span><span class="p">:</span>  <span class="c1"># ignore_errors</span>
</span><span id="read_rba_ocr-172"><a href="#read_rba_ocr-172"><span class="linenos">172</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Read the Official Cash Rate (OCR) from the RBA website.</span>
</span><span id="read_rba_ocr-173"><a href="#read_rba_ocr-173"><span class="linenos">173</span></a>
</span><span id="read_rba_ocr-174"><a href="#read_rba_ocr-174"><span class="linenos">174</span></a><span class="sd">    Return it in a pandas Series, with either a daily or monthly PeriodIndex,</span>
</span><span id="read_rba_ocr-175"><a href="#read_rba_ocr-175"><span class="linenos">175</span></a><span class="sd">    depending on the value of the monthly parameter. The default is monthly.</span>
</span><span id="read_rba_ocr-176"><a href="#read_rba_ocr-176"><span class="linenos">176</span></a>
</span><span id="read_rba_ocr-177"><a href="#read_rba_ocr-177"><span class="linenos">177</span></a><span class="sd">    Parameters</span>
</span><span id="read_rba_ocr-178"><a href="#read_rba_ocr-178"><span class="linenos">178</span></a><span class="sd">    ----------</span>
</span><span id="read_rba_ocr-179"><a href="#read_rba_ocr-179"><span class="linenos">179</span></a><span class="sd">    monthly : bool = True</span>
</span><span id="read_rba_ocr-180"><a href="#read_rba_ocr-180"><span class="linenos">180</span></a><span class="sd">        If True, then the data will be returned with a monthly PeriodIndex.</span>
</span><span id="read_rba_ocr-181"><a href="#read_rba_ocr-181"><span class="linenos">181</span></a><span class="sd">        If False, then the data will be returned with a daily PeriodIndex.</span>
</span><span id="read_rba_ocr-182"><a href="#read_rba_ocr-182"><span class="linenos">182</span></a><span class="sd">    **kwargs : Any</span>
</span><span id="read_rba_ocr-183"><a href="#read_rba_ocr-183"><span class="linenos">183</span></a><span class="sd">        Additional keyword arguments. The only keyword argument that is used is ignore_errors.</span>
</span><span id="read_rba_ocr-184"><a href="#read_rba_ocr-184"><span class="linenos">184</span></a><span class="sd">    ignore_errors : bool = False</span>
</span><span id="read_rba_ocr-185"><a href="#read_rba_ocr-185"><span class="linenos">185</span></a><span class="sd">        If True, then any major errors encountered will be printed and the function</span>
</span><span id="read_rba_ocr-186"><a href="#read_rba_ocr-186"><span class="linenos">186</span></a><span class="sd">        will return an empty Series. If False, then any major errors encountered</span>
</span><span id="read_rba_ocr-187"><a href="#read_rba_ocr-187"><span class="linenos">187</span></a><span class="sd">        will raise an exception.</span>
</span><span id="read_rba_ocr-188"><a href="#read_rba_ocr-188"><span class="linenos">188</span></a>
</span><span id="read_rba_ocr-189"><a href="#read_rba_ocr-189"><span class="linenos">189</span></a><span class="sd">    Returns</span>
</span><span id="read_rba_ocr-190"><a href="#read_rba_ocr-190"><span class="linenos">190</span></a><span class="sd">    -------</span>
</span><span id="read_rba_ocr-191"><a href="#read_rba_ocr-191"><span class="linenos">191</span></a><span class="sd">    Series</span>
</span><span id="read_rba_ocr-192"><a href="#read_rba_ocr-192"><span class="linenos">192</span></a><span class="sd">        The OCR data in a pandas Series, with an index of either daily or monthly Periods.</span>
</span><span id="read_rba_ocr-193"><a href="#read_rba_ocr-193"><span class="linenos">193</span></a>
</span><span id="read_rba_ocr-194"><a href="#read_rba_ocr-194"><span class="linenos">194</span></a><span class="sd">    Examples</span>
</span><span id="read_rba_ocr-195"><a href="#read_rba_ocr-195"><span class="linenos">195</span></a><span class="sd">    --------</span>
</span><span id="read_rba_ocr-196"><a href="#read_rba_ocr-196"><span class="linenos">196</span></a><span class="sd">    ```python</span>
</span><span id="read_rba_ocr-197"><a href="#read_rba_ocr-197"><span class="linenos">197</span></a><span class="sd">    ocr = read_rba_ocr(monthly=True)</span>
</span><span id="read_rba_ocr-198"><a href="#read_rba_ocr-198"><span class="linenos">198</span></a><span class="sd">    ```</span>
</span><span id="read_rba_ocr-199"><a href="#read_rba_ocr-199"><span class="linenos">199</span></a>
</span><span id="read_rba_ocr-200"><a href="#read_rba_ocr-200"><span class="linenos">200</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="read_rba_ocr-201"><a href="#read_rba_ocr-201"><span class="linenos">201</span></a>    <span class="c1"># read the OCR table from the RBA website, make float and sort, name the series</span>
</span><span id="read_rba_ocr-202"><a href="#read_rba_ocr-202"><span class="linenos">202</span></a>    <span class="n">rba</span><span class="p">,</span> <span class="n">_rba_meta</span> <span class="o">=</span> <span class="n">read_rba_table</span><span class="p">(</span><span class="s2">&quot;A2&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1"># should have a daily PeriodIndex</span>
</span><span id="read_rba_ocr-203"><a href="#read_rba_ocr-203"><span class="linenos">203</span></a>    <span class="n">ocr_series</span> <span class="o">=</span> <span class="n">rba</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">index</span> <span class="o">&gt;=</span> <span class="s2">&quot;1990-08-02&quot;</span><span class="p">,</span> <span class="s2">&quot;ARBAMPCNCRT&quot;</span><span class="p">]</span>
</span><span id="read_rba_ocr-204"><a href="#read_rba_ocr-204"><span class="linenos">204</span></a>    <span class="n">ocr</span> <span class="o">=</span> <span class="n">ocr_series</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>  <span class="c1"># pyright: ignore[reportAttributeAccessIssue]</span>
</span><span id="read_rba_ocr-205"><a href="#read_rba_ocr-205"><span class="linenos">205</span></a>    <span class="n">ocr</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;RBA Official Cash Rate&quot;</span>
</span><span id="read_rba_ocr-206"><a href="#read_rba_ocr-206"><span class="linenos">206</span></a>
</span><span id="read_rba_ocr-207"><a href="#read_rba_ocr-207"><span class="linenos">207</span></a>    <span class="c1"># bring up to date</span>
</span><span id="read_rba_ocr-208"><a href="#read_rba_ocr-208"><span class="linenos">208</span></a>    <span class="n">today</span> <span class="o">=</span> <span class="n">Period</span><span class="p">(</span><span class="n">Timestamp</span><span class="o">.</span><span class="n">today</span><span class="p">(),</span> <span class="n">freq</span><span class="o">=</span><span class="n">cast</span><span class="p">(</span><span class="s2">&quot;PeriodIndex&quot;</span><span class="p">,</span> <span class="n">ocr</span><span class="o">.</span><span class="n">index</span><span class="p">)</span><span class="o">.</span><span class="n">freqstr</span><span class="p">)</span>
</span><span id="read_rba_ocr-209"><a href="#read_rba_ocr-209"><span class="linenos">209</span></a>    <span class="n">last_period</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;Period&quot;</span><span class="p">,</span> <span class="n">ocr</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</span><span id="read_rba_ocr-210"><a href="#read_rba_ocr-210"><span class="linenos">210</span></a>    <span class="k">if</span> <span class="n">last_period</span> <span class="o">&lt;</span> <span class="n">today</span><span class="p">:</span>
</span><span id="read_rba_ocr-211"><a href="#read_rba_ocr-211"><span class="linenos">211</span></a>        <span class="n">ocr</span><span class="p">[</span><span class="n">today</span><span class="p">]</span> <span class="o">=</span> <span class="n">ocr</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</span><span id="read_rba_ocr-212"><a href="#read_rba_ocr-212"><span class="linenos">212</span></a>
</span><span id="read_rba_ocr-213"><a href="#read_rba_ocr-213"><span class="linenos">213</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">monthly</span><span class="p">:</span>
</span><span id="read_rba_ocr-214"><a href="#read_rba_ocr-214"><span class="linenos">214</span></a>        <span class="c1"># fill in missing days and return daily data</span>
</span><span id="read_rba_ocr-215"><a href="#read_rba_ocr-215"><span class="linenos">215</span></a>        <span class="n">daily_index</span> <span class="o">=</span> <span class="n">period_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">ocr</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">end</span><span class="o">=</span><span class="n">ocr</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">freq</span><span class="o">=</span><span class="s2">&quot;D&quot;</span><span class="p">)</span>
</span><span id="read_rba_ocr-216"><a href="#read_rba_ocr-216"><span class="linenos">216</span></a>        <span class="k">return</span> <span class="n">ocr</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">daily_index</span><span class="p">)</span><span class="o">.</span><span class="n">ffill</span><span class="p">()</span>
</span><span id="read_rba_ocr-217"><a href="#read_rba_ocr-217"><span class="linenos">217</span></a>
</span><span id="read_rba_ocr-218"><a href="#read_rba_ocr-218"><span class="linenos">218</span></a>    <span class="c1"># convert to monthly data, keeping last value if duplicates in month</span>
</span><span id="read_rba_ocr-219"><a href="#read_rba_ocr-219"><span class="linenos">219</span></a>    <span class="c1"># fill in missing months</span>
</span><span id="read_rba_ocr-220"><a href="#read_rba_ocr-220"><span class="linenos">220</span></a>    <span class="n">ocr</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">PeriodIndex</span><span class="p">(</span><span class="n">ocr</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s2">&quot;M&quot;</span><span class="p">)</span>
</span><span id="read_rba_ocr-221"><a href="#read_rba_ocr-221"><span class="linenos">221</span></a>    <span class="n">ocr</span> <span class="o">=</span> <span class="n">ocr</span><span class="p">[</span><span class="o">~</span><span class="n">ocr</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">keep</span><span class="o">=</span><span class="s2">&quot;last&quot;</span><span class="p">)]</span>
</span><span id="read_rba_ocr-222"><a href="#read_rba_ocr-222"><span class="linenos">222</span></a>    <span class="n">monthly_index</span> <span class="o">=</span> <span class="n">period_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">ocr</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">end</span><span class="o">=</span><span class="n">ocr</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">freq</span><span class="o">=</span><span class="s2">&quot;M&quot;</span><span class="p">)</span>
</span><span id="read_rba_ocr-223"><a href="#read_rba_ocr-223"><span class="linenos">223</span></a>    <span class="k">return</span> <span class="n">ocr</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">monthly_index</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;ffill&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Read the Official Cash Rate (OCR) from the RBA website.</p>

<p>Return it in a pandas Series, with either a daily or monthly PeriodIndex,
depending on the value of the monthly parameter. The default is monthly.</p>

<h2 id="parameters">Parameters</h2>

<p>monthly : bool = True
    If True, then the data will be returned with a monthly PeriodIndex.
    If False, then the data will be returned with a daily PeriodIndex.
**kwargs : Any
    Additional keyword arguments. The only keyword argument that is used is ignore_errors.
ignore_errors : bool = False
    If True, then any major errors encountered will be printed and the function
    will return an empty Series. If False, then any major errors encountered
    will raise an exception.</p>

<h2 id="returns">Returns</h2>

<p>Series
    The OCR data in a pandas Series, with an index of either daily or monthly Periods.</p>

<h2 id="examples">Examples</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="n">ocr</span> <span class="o">=</span> <span class="n">read_rba_ocr</span><span class="p">(</span><span class="n">monthly</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre>
</div>
</div>


                </section>
                <section id="read_rba_table">
                            <input id="read_rba_table-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">read_rba_table</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">table</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="read_rba_table-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#read_rba_table"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="read_rba_table-89"><a href="#read_rba_table-89"><span class="linenos"> 89</span></a><span class="k">def</span><span class="w"> </span><span class="nf">read_rba_table</span><span class="p">(</span><span class="n">table</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">]:</span>  <span class="c1"># ignore_errors</span>
</span><span id="read_rba_table-90"><a href="#read_rba_table-90"><span class="linenos"> 90</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Read a table from the RBA website and return the actual data and meta data.</span>
</span><span id="read_rba_table-91"><a href="#read_rba_table-91"><span class="linenos"> 91</span></a>
</span><span id="read_rba_table-92"><a href="#read_rba_table-92"><span class="linenos"> 92</span></a><span class="sd">    Returns the actual data and the meta data in a tuple of two DataFrames.</span>
</span><span id="read_rba_table-93"><a href="#read_rba_table-93"><span class="linenos"> 93</span></a>
</span><span id="read_rba_table-94"><a href="#read_rba_table-94"><span class="linenos"> 94</span></a><span class="sd">    Parameters</span>
</span><span id="read_rba_table-95"><a href="#read_rba_table-95"><span class="linenos"> 95</span></a><span class="sd">    ----------</span>
</span><span id="read_rba_table-96"><a href="#read_rba_table-96"><span class="linenos"> 96</span></a><span class="sd">    table : str</span>
</span><span id="read_rba_table-97"><a href="#read_rba_table-97"><span class="linenos"> 97</span></a><span class="sd">        The table to read from the RBA website.</span>
</span><span id="read_rba_table-98"><a href="#read_rba_table-98"><span class="linenos"> 98</span></a><span class="sd">    **kwargs : Any</span>
</span><span id="read_rba_table-99"><a href="#read_rba_table-99"><span class="linenos"> 99</span></a><span class="sd">        Additional keyword arguments.</span>
</span><span id="read_rba_table-100"><a href="#read_rba_table-100"><span class="linenos">100</span></a><span class="sd">        The only keyword argument that is used is ignore_errors.</span>
</span><span id="read_rba_table-101"><a href="#read_rba_table-101"><span class="linenos">101</span></a><span class="sd">    ignore_errors : bool = False</span>
</span><span id="read_rba_table-102"><a href="#read_rba_table-102"><span class="linenos">102</span></a><span class="sd">        If True, then any major errors encountered will be printed and the function</span>
</span><span id="read_rba_table-103"><a href="#read_rba_table-103"><span class="linenos">103</span></a><span class="sd">        will return empty DataFrames. If False, then any major errors encountered</span>
</span><span id="read_rba_table-104"><a href="#read_rba_table-104"><span class="linenos">104</span></a><span class="sd">        will raise an exception.</span>
</span><span id="read_rba_table-105"><a href="#read_rba_table-105"><span class="linenos">105</span></a>
</span><span id="read_rba_table-106"><a href="#read_rba_table-106"><span class="linenos">106</span></a><span class="sd">    Returns</span>
</span><span id="read_rba_table-107"><a href="#read_rba_table-107"><span class="linenos">107</span></a><span class="sd">    -------</span>
</span><span id="read_rba_table-108"><a href="#read_rba_table-108"><span class="linenos">108</span></a><span class="sd">    tuple[DataFrame, DataFrame]</span>
</span><span id="read_rba_table-109"><a href="#read_rba_table-109"><span class="linenos">109</span></a><span class="sd">        The primary data and the meta data in a tuple of two DataFrames.</span>
</span><span id="read_rba_table-110"><a href="#read_rba_table-110"><span class="linenos">110</span></a>
</span><span id="read_rba_table-111"><a href="#read_rba_table-111"><span class="linenos">111</span></a><span class="sd">    Examples</span>
</span><span id="read_rba_table-112"><a href="#read_rba_table-112"><span class="linenos">112</span></a><span class="sd">    --------</span>
</span><span id="read_rba_table-113"><a href="#read_rba_table-113"><span class="linenos">113</span></a><span class="sd">    ```python</span>
</span><span id="read_rba_table-114"><a href="#read_rba_table-114"><span class="linenos">114</span></a><span class="sd">    data, meta = read_rba_table(&quot;C1&quot;)</span>
</span><span id="read_rba_table-115"><a href="#read_rba_table-115"><span class="linenos">115</span></a><span class="sd">    ```</span>
</span><span id="read_rba_table-116"><a href="#read_rba_table-116"><span class="linenos">116</span></a>
</span><span id="read_rba_table-117"><a href="#read_rba_table-117"><span class="linenos">117</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="read_rba_table-118"><a href="#read_rba_table-118"><span class="linenos">118</span></a>    <span class="c1"># set-up</span>
</span><span id="read_rba_table-119"><a href="#read_rba_table-119"><span class="linenos">119</span></a>    <span class="n">ignore_errors</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ignore_errors&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="read_rba_table-120"><a href="#read_rba_table-120"><span class="linenos">120</span></a>    <span class="n">data</span><span class="p">,</span> <span class="n">meta</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(),</span> <span class="n">DataFrame</span><span class="p">()</span>
</span><span id="read_rba_table-121"><a href="#read_rba_table-121"><span class="linenos">121</span></a>
</span><span id="read_rba_table-122"><a href="#read_rba_table-122"><span class="linenos">122</span></a>    <span class="c1"># get the Excel file</span>
</span><span id="read_rba_table-123"><a href="#read_rba_table-123"><span class="linenos">123</span></a>    <span class="n">excel</span> <span class="o">=</span> <span class="n">_get_excel_file</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">ignore_errors</span><span class="o">=</span><span class="n">ignore_errors</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="read_rba_table-124"><a href="#read_rba_table-124"><span class="linenos">124</span></a>    <span class="k">if</span> <span class="n">excel</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="read_rba_table-125"><a href="#read_rba_table-125"><span class="linenos">125</span></a>        <span class="k">return</span> <span class="n">data</span><span class="p">,</span> <span class="n">meta</span>
</span><span id="read_rba_table-126"><a href="#read_rba_table-126"><span class="linenos">126</span></a>
</span><span id="read_rba_table-127"><a href="#read_rba_table-127"><span class="linenos">127</span></a>    <span class="c1"># read Excel file into DataFrame</span>
</span><span id="read_rba_table-128"><a href="#read_rba_table-128"><span class="linenos">128</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="read_rba_table-129"><a href="#read_rba_table-129"><span class="linenos">129</span></a>        <span class="n">raw</span> <span class="o">=</span> <span class="n">read_excel</span><span class="p">(</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">excel</span><span class="p">),</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</span><span id="read_rba_table-130"><a href="#read_rba_table-130"><span class="linenos">130</span></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="read_rba_table-131"><a href="#read_rba_table-131"><span class="linenos">131</span></a>        <span class="k">if</span> <span class="n">ignore_errors</span><span class="p">:</span>
</span><span id="read_rba_table-132"><a href="#read_rba_table-132"><span class="linenos">132</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Ignoring error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="read_rba_table-133"><a href="#read_rba_table-133"><span class="linenos">133</span></a>            <span class="k">return</span> <span class="n">data</span><span class="p">,</span> <span class="n">meta</span>
</span><span id="read_rba_table-134"><a href="#read_rba_table-134"><span class="linenos">134</span></a>        <span class="k">raise</span>
</span><span id="read_rba_table-135"><a href="#read_rba_table-135"><span class="linenos">135</span></a>
</span><span id="read_rba_table-136"><a href="#read_rba_table-136"><span class="linenos">136</span></a>    <span class="c1"># extract the meta data</span>
</span><span id="read_rba_table-137"><a href="#read_rba_table-137"><span class="linenos">137</span></a>    <span class="n">meta</span> <span class="o">=</span> <span class="n">raw</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="read_rba_table-138"><a href="#read_rba_table-138"><span class="linenos">138</span></a>    <span class="n">meta</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="n">meta</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="read_rba_table-139"><a href="#read_rba_table-139"><span class="linenos">139</span></a>    <span class="n">renamer</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="read_rba_table-140"><a href="#read_rba_table-140"><span class="linenos">140</span></a>        <span class="s2">&quot;Mnemonic&quot;</span><span class="p">:</span> <span class="n">rm</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
</span><span id="read_rba_table-141"><a href="#read_rba_table-141"><span class="linenos">141</span></a>    <span class="p">}</span>  <span class="c1"># historical data is inconsistent</span>
</span><span id="read_rba_table-142"><a href="#read_rba_table-142"><span class="linenos">142</span></a>    <span class="n">meta</span> <span class="o">=</span> <span class="n">meta</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">renamer</span><span class="p">)</span>
</span><span id="read_rba_table-143"><a href="#read_rba_table-143"><span class="linenos">143</span></a>    <span class="n">meta</span> <span class="o">=</span> <span class="n">meta</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:,</span> <span class="p">:]</span>
</span><span id="read_rba_table-144"><a href="#read_rba_table-144"><span class="linenos">144</span></a>    <span class="n">meta</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="n">meta</span><span class="p">[</span><span class="n">rm</span><span class="o">.</span><span class="n">id</span><span class="p">])</span>
</span><span id="read_rba_table-145"><a href="#read_rba_table-145"><span class="linenos">145</span></a>    <span class="n">meta</span><span class="p">[</span><span class="n">rm</span><span class="o">.</span><span class="n">table</span><span class="p">]</span> <span class="o">=</span> <span class="n">table</span>
</span><span id="read_rba_table-146"><a href="#read_rba_table-146"><span class="linenos">146</span></a>    <span class="n">meta</span><span class="p">[</span><span class="n">rm</span><span class="o">.</span><span class="n">tdesc</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</span><span id="read_rba_table-147"><a href="#read_rba_table-147"><span class="linenos">147</span></a>    <span class="n">meta</span> <span class="o">=</span> <span class="n">meta</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">how</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># drop columns with all NaNs</span>
</span><span id="read_rba_table-148"><a href="#read_rba_table-148"><span class="linenos">148</span></a>
</span><span id="read_rba_table-149"><a href="#read_rba_table-149"><span class="linenos">149</span></a>    <span class="c1"># extract the data</span>
</span><span id="read_rba_table-150"><a href="#read_rba_table-150"><span class="linenos">150</span></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">raw</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">10</span><span class="p">:,</span> <span class="p">:]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="read_rba_table-151"><a href="#read_rba_table-151"><span class="linenos">151</span></a>    <span class="n">data</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="read_rba_table-152"><a href="#read_rba_table-152"><span class="linenos">152</span></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:,</span> <span class="p">:]</span>
</span><span id="read_rba_table-153"><a href="#read_rba_table-153"><span class="linenos">153</span></a>    <span class="n">data</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">DatetimeIndex</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
</span><span id="read_rba_table-154"><a href="#read_rba_table-154"><span class="linenos">154</span></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:]</span>
</span><span id="read_rba_table-155"><a href="#read_rba_table-155"><span class="linenos">155</span></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">how</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># drop columns with all NaNs</span>
</span><span id="read_rba_table-156"><a href="#read_rba_table-156"><span class="linenos">156</span></a>
</span><span id="read_rba_table-157"><a href="#read_rba_table-157"><span class="linenos">157</span></a>    <span class="c1"># can we make the index into a PeriodIndex?</span>
</span><span id="read_rba_table-158"><a href="#read_rba_table-158"><span class="linenos">158</span></a>    <span class="n">days</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">to_series</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span>
</span><span id="read_rba_table-159"><a href="#read_rba_table-159"><span class="linenos">159</span></a>    <span class="k">if</span> <span class="n">days</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="n">MONTHLY_MIN_DAYS</span> <span class="ow">and</span> <span class="n">days</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">MONTHLY_MAX_DAYS</span><span class="p">:</span>
</span><span id="read_rba_table-160"><a href="#read_rba_table-160"><span class="linenos">160</span></a>        <span class="n">data</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">PeriodIndex</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s2">&quot;M&quot;</span><span class="p">)</span>
</span><span id="read_rba_table-161"><a href="#read_rba_table-161"><span class="linenos">161</span></a>    <span class="k">elif</span> <span class="n">days</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="n">QUARTERLY_MIN_DAYS</span> <span class="ow">and</span> <span class="n">days</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">QUARTERLY_MAX_DAYS</span><span class="p">:</span>
</span><span id="read_rba_table-162"><a href="#read_rba_table-162"><span class="linenos">162</span></a>        <span class="n">data</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">PeriodIndex</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s2">&quot;Q&quot;</span><span class="p">)</span>
</span><span id="read_rba_table-163"><a href="#read_rba_table-163"><span class="linenos">163</span></a>    <span class="k">elif</span> <span class="n">days</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="n">YEARLY_MIN_DAYS</span> <span class="ow">and</span> <span class="n">days</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">YEARLY_MAX_DAYS</span><span class="p">:</span>
</span><span id="read_rba_table-164"><a href="#read_rba_table-164"><span class="linenos">164</span></a>        <span class="n">data</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">PeriodIndex</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s2">&quot;Y&quot;</span><span class="p">)</span>
</span><span id="read_rba_table-165"><a href="#read_rba_table-165"><span class="linenos">165</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="read_rba_table-166"><a href="#read_rba_table-166"><span class="linenos">166</span></a>        <span class="n">data</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">PeriodIndex</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s2">&quot;D&quot;</span><span class="p">)</span>
</span><span id="read_rba_table-167"><a href="#read_rba_table-167"><span class="linenos">167</span></a>
</span><span id="read_rba_table-168"><a href="#read_rba_table-168"><span class="linenos">168</span></a>    <span class="k">return</span> <span class="n">data</span><span class="p">,</span> <span class="n">meta</span>
</span></pre></div>


            <div class="docstring"><p>Read a table from the RBA website and return the actual data and meta data.</p>

<p>Returns the actual data and the meta data in a tuple of two DataFrames.</p>

<h2 id="parameters">Parameters</h2>

<p>table : str
    The table to read from the RBA website.
**kwargs : Any
    Additional keyword arguments.
    The only keyword argument that is used is ignore_errors.
ignore_errors : bool = False
    If True, then any major errors encountered will be printed and the function
    will return empty DataFrames. If False, then any major errors encountered
    will raise an exception.</p>

<h2 id="returns">Returns</h2>

<p>tuple[DataFrame, DataFrame]
    The primary data and the meta data in a tuple of two DataFrames.</p>

<h2 id="examples">Examples</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="n">data</span><span class="p">,</span> <span class="n">meta</span> <span class="o">=</span> <span class="n">read_rba_table</span><span class="p">(</span><span class="s2">&quot;C1&quot;</span><span class="p">)</span>
</code></pre>
</div>
</div>


                </section>
                <section id="recalibrate">
                            <input id="recalibrate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">recalibrate</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">data</span><span class="p">:</span> <span class="o">~</span><span class="n">Datatype</span>, </span><span class="param"><span class="n">units</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="o">~</span><span class="n">Datatype</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="recalibrate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#recalibrate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="recalibrate-24"><a href="#recalibrate-24"><span class="linenos">24</span></a><span class="k">def</span><span class="w"> </span><span class="nf">recalibrate</span><span class="p">(</span>
</span><span id="recalibrate-25"><a href="#recalibrate-25"><span class="linenos">25</span></a>    <span class="n">data</span><span class="p">:</span> <span class="n">DataT</span><span class="p">,</span>
</span><span id="recalibrate-26"><a href="#recalibrate-26"><span class="linenos">26</span></a>    <span class="n">units</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="recalibrate-27"><a href="#recalibrate-27"><span class="linenos">27</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">DataT</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
</span><span id="recalibrate-28"><a href="#recalibrate-28"><span class="linenos">28</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Recalibrate a Series or DataFrame so the data is in the range -1000 to 1000.</span>
</span><span id="recalibrate-29"><a href="#recalibrate-29"><span class="linenos">29</span></a>
</span><span id="recalibrate-30"><a href="#recalibrate-30"><span class="linenos">30</span></a><span class="sd">    Change the name of the units to reflect the recalibration.</span>
</span><span id="recalibrate-31"><a href="#recalibrate-31"><span class="linenos">31</span></a>
</span><span id="recalibrate-32"><a href="#recalibrate-32"><span class="linenos">32</span></a><span class="sd">    Note, DataT = TypeVar(&quot;DataT&quot;, Series, DataFrame). DataT is a constrained typevar.</span>
</span><span id="recalibrate-33"><a href="#recalibrate-33"><span class="linenos">33</span></a><span class="sd">    If you provide a Series, you will get a Series back. If you provide a DataFrame,</span>
</span><span id="recalibrate-34"><a href="#recalibrate-34"><span class="linenos">34</span></a><span class="sd">    you will get a DataFrame back.</span>
</span><span id="recalibrate-35"><a href="#recalibrate-35"><span class="linenos">35</span></a>
</span><span id="recalibrate-36"><a href="#recalibrate-36"><span class="linenos">36</span></a><span class="sd">    Parameters</span>
</span><span id="recalibrate-37"><a href="#recalibrate-37"><span class="linenos">37</span></a><span class="sd">    ----------</span>
</span><span id="recalibrate-38"><a href="#recalibrate-38"><span class="linenos">38</span></a><span class="sd">    data : Series or DataFrame</span>
</span><span id="recalibrate-39"><a href="#recalibrate-39"><span class="linenos">39</span></a><span class="sd">        The data to recalibrate.</span>
</span><span id="recalibrate-40"><a href="#recalibrate-40"><span class="linenos">40</span></a><span class="sd">    units : str</span>
</span><span id="recalibrate-41"><a href="#recalibrate-41"><span class="linenos">41</span></a><span class="sd">        The units of the data. This string should be in the form of</span>
</span><span id="recalibrate-42"><a href="#recalibrate-42"><span class="linenos">42</span></a><span class="sd">        &quot;Number&quot;, &quot;Thousands&quot;, &quot;Millions&quot;, &quot;Billions&quot;, etc. The units</span>
</span><span id="recalibrate-43"><a href="#recalibrate-43"><span class="linenos">43</span></a><span class="sd">        should be in title case.</span>
</span><span id="recalibrate-44"><a href="#recalibrate-44"><span class="linenos">44</span></a>
</span><span id="recalibrate-45"><a href="#recalibrate-45"><span class="linenos">45</span></a><span class="sd">    Returns</span>
</span><span id="recalibrate-46"><a href="#recalibrate-46"><span class="linenos">46</span></a><span class="sd">    -------</span>
</span><span id="recalibrate-47"><a href="#recalibrate-47"><span class="linenos">47</span></a><span class="sd">    Series or DataFrame</span>
</span><span id="recalibrate-48"><a href="#recalibrate-48"><span class="linenos">48</span></a><span class="sd">        The recalibrated data will be a Series if a Series was provided,</span>
</span><span id="recalibrate-49"><a href="#recalibrate-49"><span class="linenos">49</span></a><span class="sd">        or a DataFrame if a DataFrame was provided.</span>
</span><span id="recalibrate-50"><a href="#recalibrate-50"><span class="linenos">50</span></a>
</span><span id="recalibrate-51"><a href="#recalibrate-51"><span class="linenos">51</span></a><span class="sd">    Examples</span>
</span><span id="recalibrate-52"><a href="#recalibrate-52"><span class="linenos">52</span></a><span class="sd">    --------</span>
</span><span id="recalibrate-53"><a href="#recalibrate-53"><span class="linenos">53</span></a><span class="sd">    ```python</span>
</span><span id="recalibrate-54"><a href="#recalibrate-54"><span class="linenos">54</span></a><span class="sd">    from pandas import Series</span>
</span><span id="recalibrate-55"><a href="#recalibrate-55"><span class="linenos">55</span></a><span class="sd">    from readabs import recalibrate</span>
</span><span id="recalibrate-56"><a href="#recalibrate-56"><span class="linenos">56</span></a><span class="sd">    s = Series([1_000, 10_000, 100_000, 1_000_000])</span>
</span><span id="recalibrate-57"><a href="#recalibrate-57"><span class="linenos">57</span></a><span class="sd">    recalibrated, units = recalibrate(s, &quot;$&quot;)</span>
</span><span id="recalibrate-58"><a href="#recalibrate-58"><span class="linenos">58</span></a><span class="sd">    print(f&quot;{recalibrated=}, {units=}&quot;)</span>
</span><span id="recalibrate-59"><a href="#recalibrate-59"><span class="linenos">59</span></a><span class="sd">    ```</span>
</span><span id="recalibrate-60"><a href="#recalibrate-60"><span class="linenos">60</span></a>
</span><span id="recalibrate-61"><a href="#recalibrate-61"><span class="linenos">61</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="recalibrate-62"><a href="#recalibrate-62"><span class="linenos">62</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">Series</span><span class="p">,</span> <span class="n">DataFrame</span><span class="p">)):</span>
</span><span id="recalibrate-63"><a href="#recalibrate-63"><span class="linenos">63</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;data must be a Series or DataFrame&quot;</span><span class="p">)</span>
</span><span id="recalibrate-64"><a href="#recalibrate-64"><span class="linenos">64</span></a>    <span class="n">units</span><span class="p">,</span> <span class="n">restore_name</span> <span class="o">=</span> <span class="n">_prepare_units</span><span class="p">(</span><span class="n">units</span><span class="p">)</span>
</span><span id="recalibrate-65"><a href="#recalibrate-65"><span class="linenos">65</span></a>    <span class="n">flat_data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
</span><span id="recalibrate-66"><a href="#recalibrate-66"><span class="linenos">66</span></a>    <span class="n">flat_data</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">_recalibrate</span><span class="p">(</span><span class="n">flat_data</span><span class="p">,</span> <span class="n">units</span><span class="p">)</span>
</span><span id="recalibrate-67"><a href="#recalibrate-67"><span class="linenos">67</span></a>
</span><span id="recalibrate-68"><a href="#recalibrate-68"><span class="linenos">68</span></a>    <span class="k">if</span> <span class="n">restore_name</span><span class="p">:</span>
</span><span id="recalibrate-69"><a href="#recalibrate-69"><span class="linenos">69</span></a>        <span class="n">units</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">restore_name</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">units</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="recalibrate-70"><a href="#recalibrate-70"><span class="linenos">70</span></a>        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="s2">&quot;numbers&quot;</span><span class="p">,</span> <span class="s2">&quot;number&quot;</span><span class="p">:</span>
</span><span id="recalibrate-71"><a href="#recalibrate-71"><span class="linenos">71</span></a>            <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">units</span><span class="p">:</span>
</span><span id="recalibrate-72"><a href="#recalibrate-72"><span class="linenos">72</span></a>                <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="recalibrate-73"><a href="#recalibrate-73"><span class="linenos">73</span></a>                <span class="k">break</span>
</span><span id="recalibrate-74"><a href="#recalibrate-74"><span class="linenos">74</span></a>    <span class="n">units</span> <span class="o">=</span> <span class="n">units</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>
</span><span id="recalibrate-75"><a href="#recalibrate-75"><span class="linenos">75</span></a>
</span><span id="recalibrate-76"><a href="#recalibrate-76"><span class="linenos">76</span></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span><span class="n">flat_data</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>
</span><span id="recalibrate-77"><a href="#recalibrate-77"><span class="linenos">77</span></a>    <span class="n">result</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">index</span>
</span><span id="recalibrate-78"><a href="#recalibrate-78"><span class="linenos">78</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">==</span> <span class="n">NDIM_DATAFRAME</span><span class="p">:</span>
</span><span id="recalibrate-79"><a href="#recalibrate-79"><span class="linenos">79</span></a>        <span class="n">result</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span>
</span><span id="recalibrate-80"><a href="#recalibrate-80"><span class="linenos">80</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">==</span> <span class="n">NDIM_SERIES</span><span class="p">:</span>
</span><span id="recalibrate-81"><a href="#recalibrate-81"><span class="linenos">81</span></a>        <span class="n">result</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">name</span>  <span class="c1"># pyright: ignore[reportAttributeAccessIssue]</span>
</span><span id="recalibrate-82"><a href="#recalibrate-82"><span class="linenos">82</span></a>    <span class="k">return</span> <span class="n">result</span><span class="p">,</span> <span class="n">units</span>
</span></pre></div>


            <div class="docstring"><p>Recalibrate a Series or DataFrame so the data is in the range -1000 to 1000.</p>

<p>Change the name of the units to reflect the recalibration.</p>

<p>Note, DataT = TypeVar("DataT", Series, DataFrame). DataT is a constrained typevar.
If you provide a Series, you will get a Series back. If you provide a DataFrame,
you will get a DataFrame back.</p>

<h2 id="parameters">Parameters</h2>

<p>data : Series or DataFrame
    The data to recalibrate.
units : str
    The units of the data. This string should be in the form of
    "Number", "Thousands", "Millions", "Billions", etc. The units
    should be in title case.</p>

<h2 id="returns">Returns</h2>

<p>Series or DataFrame
    The recalibrated data will be a Series if a Series was provided,
    or a DataFrame if a DataFrame was provided.</p>

<h2 id="examples">Examples</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="kn">import</span> <span class="n">Series</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">readabs</span><span class="w"> </span><span class="kn">import</span> <span class="n">recalibrate</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1_000</span><span class="p">,</span> <span class="mi">10_000</span><span class="p">,</span> <span class="mi">100_000</span><span class="p">,</span> <span class="mi">1_000_000</span><span class="p">])</span>
<span class="n">recalibrated</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">recalibrate</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s2">&quot;$&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">recalibrated</span><span class="si">=}</span><span class="s2">, </span><span class="si">{</span><span class="n">units</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre>
</div>
</div>


                </section>
                <section id="recalibrate_value">
                            <input id="recalibrate_value-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">recalibrate_value</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">value</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">units</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="recalibrate_value-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#recalibrate_value"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="recalibrate_value-85"><a href="#recalibrate_value-85"><span class="linenos"> 85</span></a><span class="k">def</span><span class="w"> </span><span class="nf">recalibrate_value</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">units</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
</span><span id="recalibrate_value-86"><a href="#recalibrate_value-86"><span class="linenos"> 86</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Recalibrate a floating point value.</span>
</span><span id="recalibrate_value-87"><a href="#recalibrate_value-87"><span class="linenos"> 87</span></a>
</span><span id="recalibrate_value-88"><a href="#recalibrate_value-88"><span class="linenos"> 88</span></a><span class="sd">    The value will be recalibrated so it is in the range -1000 to 1000.</span>
</span><span id="recalibrate_value-89"><a href="#recalibrate_value-89"><span class="linenos"> 89</span></a><span class="sd">    The units will be changed to reflect the recalibration.</span>
</span><span id="recalibrate_value-90"><a href="#recalibrate_value-90"><span class="linenos"> 90</span></a>
</span><span id="recalibrate_value-91"><a href="#recalibrate_value-91"><span class="linenos"> 91</span></a><span class="sd">    Parameters</span>
</span><span id="recalibrate_value-92"><a href="#recalibrate_value-92"><span class="linenos"> 92</span></a><span class="sd">    ----------</span>
</span><span id="recalibrate_value-93"><a href="#recalibrate_value-93"><span class="linenos"> 93</span></a><span class="sd">    value : float</span>
</span><span id="recalibrate_value-94"><a href="#recalibrate_value-94"><span class="linenos"> 94</span></a><span class="sd">        The value to recalibrate.</span>
</span><span id="recalibrate_value-95"><a href="#recalibrate_value-95"><span class="linenos"> 95</span></a><span class="sd">    units : str</span>
</span><span id="recalibrate_value-96"><a href="#recalibrate_value-96"><span class="linenos"> 96</span></a><span class="sd">        The units of the value. This string should be in the form of</span>
</span><span id="recalibrate_value-97"><a href="#recalibrate_value-97"><span class="linenos"> 97</span></a><span class="sd">        &quot;Number&quot;, &quot;Thousands&quot;, &quot;Millions&quot;, &quot;Billions&quot;, etc. The units</span>
</span><span id="recalibrate_value-98"><a href="#recalibrate_value-98"><span class="linenos"> 98</span></a><span class="sd">        should be in title case.</span>
</span><span id="recalibrate_value-99"><a href="#recalibrate_value-99"><span class="linenos"> 99</span></a>
</span><span id="recalibrate_value-100"><a href="#recalibrate_value-100"><span class="linenos">100</span></a><span class="sd">    Returns</span>
</span><span id="recalibrate_value-101"><a href="#recalibrate_value-101"><span class="linenos">101</span></a><span class="sd">    -------</span>
</span><span id="recalibrate_value-102"><a href="#recalibrate_value-102"><span class="linenos">102</span></a><span class="sd">    tuple[float, str]</span>
</span><span id="recalibrate_value-103"><a href="#recalibrate_value-103"><span class="linenos">103</span></a><span class="sd">        A tuple containing the recalibrated value and the recalibrated units.</span>
</span><span id="recalibrate_value-104"><a href="#recalibrate_value-104"><span class="linenos">104</span></a>
</span><span id="recalibrate_value-105"><a href="#recalibrate_value-105"><span class="linenos">105</span></a><span class="sd">    Examples</span>
</span><span id="recalibrate_value-106"><a href="#recalibrate_value-106"><span class="linenos">106</span></a><span class="sd">    --------</span>
</span><span id="recalibrate_value-107"><a href="#recalibrate_value-107"><span class="linenos">107</span></a><span class="sd">    ```python</span>
</span><span id="recalibrate_value-108"><a href="#recalibrate_value-108"><span class="linenos">108</span></a><span class="sd">    from readabs import recalibrate_value</span>
</span><span id="recalibrate_value-109"><a href="#recalibrate_value-109"><span class="linenos">109</span></a><span class="sd">    recalibrated, units = recalibrate_value(10_000_000, &quot;Thousand&quot;)</span>
</span><span id="recalibrate_value-110"><a href="#recalibrate_value-110"><span class="linenos">110</span></a><span class="sd">    print(recalibrated, units)</span>
</span><span id="recalibrate_value-111"><a href="#recalibrate_value-111"><span class="linenos">111</span></a><span class="sd">    ```</span>
</span><span id="recalibrate_value-112"><a href="#recalibrate_value-112"><span class="linenos">112</span></a>
</span><span id="recalibrate_value-113"><a href="#recalibrate_value-113"><span class="linenos">113</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="recalibrate_value-114"><a href="#recalibrate_value-114"><span class="linenos">114</span></a>    <span class="n">series</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="n">value</span><span class="p">])</span>
</span><span id="recalibrate_value-115"><a href="#recalibrate_value-115"><span class="linenos">115</span></a>    <span class="n">output</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">recalibrate</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="n">units</span><span class="p">)</span>
</span><span id="recalibrate_value-116"><a href="#recalibrate_value-116"><span class="linenos">116</span></a>    <span class="k">return</span> <span class="n">output</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span> <span class="n">units</span>
</span></pre></div>


            <div class="docstring"><p>Recalibrate a floating point value.</p>

<p>The value will be recalibrated so it is in the range -1000 to 1000.
The units will be changed to reflect the recalibration.</p>

<h2 id="parameters">Parameters</h2>

<p>value : float
    The value to recalibrate.
units : str
    The units of the value. This string should be in the form of
    "Number", "Thousands", "Millions", "Billions", etc. The units
    should be in title case.</p>

<h2 id="returns">Returns</h2>

<p>tuple[float, str]
    A tuple containing the recalibrated value and the recalibrated units.</p>

<h2 id="examples">Examples</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">readabs</span><span class="w"> </span><span class="kn">import</span> <span class="n">recalibrate_value</span>
<span class="n">recalibrated</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">recalibrate_value</span><span class="p">(</span><span class="mi">10_000_000</span><span class="p">,</span> <span class="s2">&quot;Thousand&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">recalibrated</span><span class="p">,</span> <span class="n">units</span><span class="p">)</span>
</code></pre>
</div>
</div>


                </section>
                <section id="search_abs_meta">
                            <input id="search_abs_meta-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">search_abs_meta</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">meta</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>,</span><span class="param">	<span class="n">search_terms</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">regex</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">validate_unique</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>:</span></span>

                <label class="view-source-button" for="search_abs_meta-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#search_abs_meta"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="search_abs_meta-17"><a href="#search_abs_meta-17"><span class="linenos"> 17</span></a><span class="k">def</span><span class="w"> </span><span class="nf">search_abs_meta</span><span class="p">(</span>
</span><span id="search_abs_meta-18"><a href="#search_abs_meta-18"><span class="linenos"> 18</span></a>    <span class="n">meta</span><span class="p">:</span> <span class="n">DataFrame</span><span class="p">,</span>  <span class="c1"># sourced from read_abs_series() or read_abs_cat()</span>
</span><span id="search_abs_meta-19"><a href="#search_abs_meta-19"><span class="linenos"> 19</span></a>    <span class="n">search_terms</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>  <span class="c1"># {search_term: meta_data_column_name, ...}</span>
</span><span id="search_abs_meta-20"><a href="#search_abs_meta-20"><span class="linenos"> 20</span></a>    <span class="o">*</span><span class="p">,</span>
</span><span id="search_abs_meta-21"><a href="#search_abs_meta-21"><span class="linenos"> 21</span></a>    <span class="n">exact_match</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="search_abs_meta-22"><a href="#search_abs_meta-22"><span class="linenos"> 22</span></a>    <span class="n">regex</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="search_abs_meta-23"><a href="#search_abs_meta-23"><span class="linenos"> 23</span></a>    <span class="n">validate_unique</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>  <span class="c1"># useful safety-net if you expect only one match</span>
</span><span id="search_abs_meta-24"><a href="#search_abs_meta-24"><span class="linenos"> 24</span></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>  <span class="c1"># verbose flag</span>
</span><span id="search_abs_meta-25"><a href="#search_abs_meta-25"><span class="linenos"> 25</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataFrame</span><span class="p">:</span>
</span><span id="search_abs_meta-26"><a href="#search_abs_meta-26"><span class="linenos"> 26</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract from the ABS meta data those rows that match the search_terms.</span>
</span><span id="search_abs_meta-27"><a href="#search_abs_meta-27"><span class="linenos"> 27</span></a>
</span><span id="search_abs_meta-28"><a href="#search_abs_meta-28"><span class="linenos"> 28</span></a><span class="sd">    Iteratively search the meta data one search_term at a time.</span>
</span><span id="search_abs_meta-29"><a href="#search_abs_meta-29"><span class="linenos"> 29</span></a>
</span><span id="search_abs_meta-30"><a href="#search_abs_meta-30"><span class="linenos"> 30</span></a><span class="sd">    Parameters</span>
</span><span id="search_abs_meta-31"><a href="#search_abs_meta-31"><span class="linenos"> 31</span></a><span class="sd">    ----------</span>
</span><span id="search_abs_meta-32"><a href="#search_abs_meta-32"><span class="linenos"> 32</span></a><span class="sd">    meta : DataFrame</span>
</span><span id="search_abs_meta-33"><a href="#search_abs_meta-33"><span class="linenos"> 33</span></a><span class="sd">        A pandas DataFrame of metadata from the ABS</span>
</span><span id="search_abs_meta-34"><a href="#search_abs_meta-34"><span class="linenos"> 34</span></a><span class="sd">        (via read_abs_cat() or read_abs_series()).</span>
</span><span id="search_abs_meta-35"><a href="#search_abs_meta-35"><span class="linenos"> 35</span></a><span class="sd">    search_terms : dict[str, str]</span>
</span><span id="search_abs_meta-36"><a href="#search_abs_meta-36"><span class="linenos"> 36</span></a><span class="sd">        A dictionary {search_phrase: meta_column_name, ...} of search terms.</span>
</span><span id="search_abs_meta-37"><a href="#search_abs_meta-37"><span class="linenos"> 37</span></a><span class="sd">        Note: the search terms must be unique, as a dictionary cannot hold the</span>
</span><span id="search_abs_meta-38"><a href="#search_abs_meta-38"><span class="linenos"> 38</span></a><span class="sd">        same search term to be applied to different columns.</span>
</span><span id="search_abs_meta-39"><a href="#search_abs_meta-39"><span class="linenos"> 39</span></a><span class="sd">    exact_match : bool = False</span>
</span><span id="search_abs_meta-40"><a href="#search_abs_meta-40"><span class="linenos"> 40</span></a><span class="sd">        Whether to match using == (exact) or .str.contains() (inexact).</span>
</span><span id="search_abs_meta-41"><a href="#search_abs_meta-41"><span class="linenos"> 41</span></a><span class="sd">    regex : bool = False</span>
</span><span id="search_abs_meta-42"><a href="#search_abs_meta-42"><span class="linenos"> 42</span></a><span class="sd">        Whether to use regular expressions in the search.</span>
</span><span id="search_abs_meta-43"><a href="#search_abs_meta-43"><span class="linenos"> 43</span></a><span class="sd">    validate_unique : bool = False</span>
</span><span id="search_abs_meta-44"><a href="#search_abs_meta-44"><span class="linenos"> 44</span></a><span class="sd">        Raise a ValueError if the search result is not unique.</span>
</span><span id="search_abs_meta-45"><a href="#search_abs_meta-45"><span class="linenos"> 45</span></a><span class="sd">    **kwargs : Any</span>
</span><span id="search_abs_meta-46"><a href="#search_abs_meta-46"><span class="linenos"> 46</span></a><span class="sd">        Additional keyword arguments. The only keyword argument</span>
</span><span id="search_abs_meta-47"><a href="#search_abs_meta-47"><span class="linenos"> 47</span></a><span class="sd">        that is used is verbose.</span>
</span><span id="search_abs_meta-48"><a href="#search_abs_meta-48"><span class="linenos"> 48</span></a><span class="sd">    verbose : bool = False</span>
</span><span id="search_abs_meta-49"><a href="#search_abs_meta-49"><span class="linenos"> 49</span></a><span class="sd">        Print additional information while searching; which can</span>
</span><span id="search_abs_meta-50"><a href="#search_abs_meta-50"><span class="linenos"> 50</span></a><span class="sd">        be useful when diagnosing problems with search terms.</span>
</span><span id="search_abs_meta-51"><a href="#search_abs_meta-51"><span class="linenos"> 51</span></a>
</span><span id="search_abs_meta-52"><a href="#search_abs_meta-52"><span class="linenos"> 52</span></a><span class="sd">    Returns</span>
</span><span id="search_abs_meta-53"><a href="#search_abs_meta-53"><span class="linenos"> 53</span></a><span class="sd">    -------</span>
</span><span id="search_abs_meta-54"><a href="#search_abs_meta-54"><span class="linenos"> 54</span></a><span class="sd">    DataFrame</span>
</span><span id="search_abs_meta-55"><a href="#search_abs_meta-55"><span class="linenos"> 55</span></a><span class="sd">        Returns a pandas DataFrame of matching rows (subseted from meta).</span>
</span><span id="search_abs_meta-56"><a href="#search_abs_meta-56"><span class="linenos"> 56</span></a><span class="sd">        Note, The index for the returned meta data will always comprise ABS</span>
</span><span id="search_abs_meta-57"><a href="#search_abs_meta-57"><span class="linenos"> 57</span></a><span class="sd">        series_ids. Duplicate indexes will be removed from the meta data</span>
</span><span id="search_abs_meta-58"><a href="#search_abs_meta-58"><span class="linenos"> 58</span></a><span class="sd">        (ie. where the same ABS series appears in more than one table, this</span>
</span><span id="search_abs_meta-59"><a href="#search_abs_meta-59"><span class="linenos"> 59</span></a><span class="sd">        function will only report the first match).</span>
</span><span id="search_abs_meta-60"><a href="#search_abs_meta-60"><span class="linenos"> 60</span></a>
</span><span id="search_abs_meta-61"><a href="#search_abs_meta-61"><span class="linenos"> 61</span></a><span class="sd">    Metacol</span>
</span><span id="search_abs_meta-62"><a href="#search_abs_meta-62"><span class="linenos"> 62</span></a><span class="sd">    -------</span>
</span><span id="search_abs_meta-63"><a href="#search_abs_meta-63"><span class="linenos"> 63</span></a><span class="sd">    Because the meta data is a DataFrame, the columns can be referenced by either</span>
</span><span id="search_abs_meta-64"><a href="#search_abs_meta-64"><span class="linenos"> 64</span></a><span class="sd">    their full textual name, or by the short name defined in the metacol object.</span>
</span><span id="search_abs_meta-65"><a href="#search_abs_meta-65"><span class="linenos"> 65</span></a><span class="sd">    For example, if metacol is imported as mc, to refer to the</span>
</span><span id="search_abs_meta-66"><a href="#search_abs_meta-66"><span class="linenos"> 66</span></a><span class="sd">    `Data Item Description` column, the user can refer to it as mc.did.</span>
</span><span id="search_abs_meta-67"><a href="#search_abs_meta-67"><span class="linenos"> 67</span></a>
</span><span id="search_abs_meta-68"><a href="#search_abs_meta-68"><span class="linenos"> 68</span></a><span class="sd">    Example</span>
</span><span id="search_abs_meta-69"><a href="#search_abs_meta-69"><span class="linenos"> 69</span></a><span class="sd">    -------</span>
</span><span id="search_abs_meta-70"><a href="#search_abs_meta-70"><span class="linenos"> 70</span></a><span class="sd">    ```python</span>
</span><span id="search_abs_meta-71"><a href="#search_abs_meta-71"><span class="linenos"> 71</span></a><span class="sd">    from readabs import metacol as mc  # alias for the ABS meta data column names</span>
</span><span id="search_abs_meta-72"><a href="#search_abs_meta-72"><span class="linenos"> 72</span></a><span class="sd">    from readabs import read_abs_cat, search_abs_meta</span>
</span><span id="search_abs_meta-73"><a href="#search_abs_meta-73"><span class="linenos"> 73</span></a><span class="sd">    cat_num = &quot;6202.0&quot;  # The ABS labour force survey</span>
</span><span id="search_abs_meta-74"><a href="#search_abs_meta-74"><span class="linenos"> 74</span></a><span class="sd">    data, meta = read_abs_cat(cat_num)</span>
</span><span id="search_abs_meta-75"><a href="#search_abs_meta-75"><span class="linenos"> 75</span></a><span class="sd">    search_terms = {</span>
</span><span id="search_abs_meta-76"><a href="#search_abs_meta-76"><span class="linenos"> 76</span></a><span class="sd">        &quot;Unemployment rate&quot;: mc.did,  # the data item description</span>
</span><span id="search_abs_meta-77"><a href="#search_abs_meta-77"><span class="linenos"> 77</span></a><span class="sd">        &quot;Persons&quot;: mc.did,</span>
</span><span id="search_abs_meta-78"><a href="#search_abs_meta-78"><span class="linenos"> 78</span></a><span class="sd">        &quot;Seasonally Adjusted&quot;: mc.stype,</span>
</span><span id="search_abs_meta-79"><a href="#search_abs_meta-79"><span class="linenos"> 79</span></a><span class="sd">        &quot;Percent&quot;: mc.unit,</span>
</span><span id="search_abs_meta-80"><a href="#search_abs_meta-80"><span class="linenos"> 80</span></a><span class="sd">        &quot;6202001&quot;: mc.table,</span>
</span><span id="search_abs_meta-81"><a href="#search_abs_meta-81"><span class="linenos"> 81</span></a><span class="sd">    }</span>
</span><span id="search_abs_meta-82"><a href="#search_abs_meta-82"><span class="linenos"> 82</span></a><span class="sd">    rows = search_abs_meta(meta, search_terms, verbose=True)</span>
</span><span id="search_abs_meta-83"><a href="#search_abs_meta-83"><span class="linenos"> 83</span></a><span class="sd">    print(rows)  # should have three rows : FT/PT/All Unemployment rates</span>
</span><span id="search_abs_meta-84"><a href="#search_abs_meta-84"><span class="linenos"> 84</span></a><span class="sd">    ```</span>
</span><span id="search_abs_meta-85"><a href="#search_abs_meta-85"><span class="linenos"> 85</span></a>
</span><span id="search_abs_meta-86"><a href="#search_abs_meta-86"><span class="linenos"> 86</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="search_abs_meta-87"><a href="#search_abs_meta-87"><span class="linenos"> 87</span></a>    <span class="c1"># get the verbose-flag from kwargs</span>
</span><span id="search_abs_meta-88"><a href="#search_abs_meta-88"><span class="linenos"> 88</span></a>    <span class="n">verbose</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;verbose&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="search_abs_meta-89"><a href="#search_abs_meta-89"><span class="linenos"> 89</span></a>
</span><span id="search_abs_meta-90"><a href="#search_abs_meta-90"><span class="linenos"> 90</span></a>    <span class="c1"># establish the starting point</span>
</span><span id="search_abs_meta-91"><a href="#search_abs_meta-91"><span class="linenos"> 91</span></a>    <span class="n">meta_select</span> <span class="o">=</span> <span class="n">meta</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>  <span class="c1"># preserve the original meta data</span>
</span><span id="search_abs_meta-92"><a href="#search_abs_meta-92"><span class="linenos"> 92</span></a>    <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
</span><span id="search_abs_meta-93"><a href="#search_abs_meta-93"><span class="linenos"> 93</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;In search_abs_meta() </span><span class="si">{</span><span class="n">exact_match</span><span class="si">=}</span><span class="s2"> </span><span class="si">{</span><span class="n">regex</span><span class="si">=}</span><span class="s2"> </span><span class="si">{</span><span class="n">verbose</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="search_abs_meta-94"><a href="#search_abs_meta-94"><span class="linenos"> 94</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;In search_abs_meta() starting with </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">meta_select</span><span class="p">)</span><span class="si">}</span><span class="s2"> rows in the meta_data.&quot;</span><span class="p">)</span>
</span><span id="search_abs_meta-95"><a href="#search_abs_meta-95"><span class="linenos"> 95</span></a>
</span><span id="search_abs_meta-96"><a href="#search_abs_meta-96"><span class="linenos"> 96</span></a>    <span class="c1"># iteratively search</span>
</span><span id="search_abs_meta-97"><a href="#search_abs_meta-97"><span class="linenos"> 97</span></a>    <span class="k">for</span> <span class="n">phrase</span><span class="p">,</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">search_terms</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="search_abs_meta-98"><a href="#search_abs_meta-98"><span class="linenos"> 98</span></a>        <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
</span><span id="search_abs_meta-99"><a href="#search_abs_meta-99"><span class="linenos"> 99</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Searching </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">meta_select</span><span class="p">)</span><span class="si">}</span><span class="s2">: term: </span><span class="si">{</span><span class="n">phrase</span><span class="si">}</span><span class="s2"> in-column: </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="search_abs_meta-100"><a href="#search_abs_meta-100"><span class="linenos">100</span></a>
</span><span id="search_abs_meta-101"><a href="#search_abs_meta-101"><span class="linenos">101</span></a>        <span class="n">pick_me</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="search_abs_meta-102"><a href="#search_abs_meta-102"><span class="linenos">102</span></a>            <span class="p">(</span><span class="n">meta_select</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="o">==</span> <span class="n">phrase</span><span class="p">)</span>
</span><span id="search_abs_meta-103"><a href="#search_abs_meta-103"><span class="linenos">103</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">exact_match</span> <span class="ow">or</span> <span class="n">column</span> <span class="o">==</span> <span class="n">mc</span><span class="o">.</span><span class="n">table</span><span class="p">)</span>
</span><span id="search_abs_meta-104"><a href="#search_abs_meta-104"><span class="linenos">104</span></a>            <span class="k">else</span> <span class="n">meta_select</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">phrase</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="n">regex</span><span class="p">)</span>
</span><span id="search_abs_meta-105"><a href="#search_abs_meta-105"><span class="linenos">105</span></a>        <span class="p">)</span>
</span><span id="search_abs_meta-106"><a href="#search_abs_meta-106"><span class="linenos">106</span></a>        <span class="n">meta_select</span> <span class="o">=</span> <span class="n">meta_select</span><span class="p">[</span><span class="n">pick_me</span><span class="p">]</span>
</span><span id="search_abs_meta-107"><a href="#search_abs_meta-107"><span class="linenos">107</span></a>        <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
</span><span id="search_abs_meta-108"><a href="#search_abs_meta-108"><span class="linenos">108</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;In find_rows() have found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">meta_select</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="search_abs_meta-109"><a href="#search_abs_meta-109"><span class="linenos">109</span></a>
</span><span id="search_abs_meta-110"><a href="#search_abs_meta-110"><span class="linenos">110</span></a>    <span class="c1"># search complete - check results - and return</span>
</span><span id="search_abs_meta-111"><a href="#search_abs_meta-111"><span class="linenos">111</span></a>    <span class="n">meta_select</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="n">meta_select</span><span class="p">[</span><span class="n">mc</span><span class="o">.</span><span class="n">id</span><span class="p">])</span>
</span><span id="search_abs_meta-112"><a href="#search_abs_meta-112"><span class="linenos">112</span></a>    <span class="n">meta_select</span> <span class="o">=</span> <span class="n">meta_select</span><span class="p">[</span><span class="o">~</span><span class="n">meta_select</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">keep</span><span class="o">=</span><span class="s2">&quot;first&quot;</span><span class="p">)]</span>
</span><span id="search_abs_meta-113"><a href="#search_abs_meta-113"><span class="linenos">113</span></a>
</span><span id="search_abs_meta-114"><a href="#search_abs_meta-114"><span class="linenos">114</span></a>    <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
</span><span id="search_abs_meta-115"><a href="#search_abs_meta-115"><span class="linenos">115</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Final selection is </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">meta_select</span><span class="p">)</span><span class="si">}</span><span class="s2"> rows.&quot;</span><span class="p">)</span>
</span><span id="search_abs_meta-116"><a href="#search_abs_meta-116"><span class="linenos">116</span></a>
</span><span id="search_abs_meta-117"><a href="#search_abs_meta-117"><span class="linenos">117</span></a>    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">meta_select</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="search_abs_meta-118"><a href="#search_abs_meta-118"><span class="linenos">118</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Nothing selected?&quot;</span><span class="p">)</span>
</span><span id="search_abs_meta-119"><a href="#search_abs_meta-119"><span class="linenos">119</span></a>
</span><span id="search_abs_meta-120"><a href="#search_abs_meta-120"><span class="linenos">120</span></a>    <span class="k">if</span> <span class="n">validate_unique</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">meta_select</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="search_abs_meta-121"><a href="#search_abs_meta-121"><span class="linenos">121</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The selected meta data should only contain one row.&quot;</span><span class="p">)</span>
</span><span id="search_abs_meta-122"><a href="#search_abs_meta-122"><span class="linenos">122</span></a>
</span><span id="search_abs_meta-123"><a href="#search_abs_meta-123"><span class="linenos">123</span></a>    <span class="k">return</span> <span class="n">meta_select</span>
</span></pre></div>


            <div class="docstring"><p>Extract from the ABS meta data those rows that match the search_terms.</p>

<p>Iteratively search the meta data one search_term at a time.</p>

<h2 id="parameters">Parameters</h2>

<p>meta : DataFrame
    A pandas DataFrame of metadata from the ABS
    (via read_abs_cat() or read_abs_series()).
search_terms : dict[str, str]
    A dictionary {search_phrase: meta_column_name, ...} of search terms.
    Note: the search terms must be unique, as a dictionary cannot hold the
    same search term to be applied to different columns.
exact_match : bool = False
    Whether to match using == (exact) or .str.contains() (inexact).
regex : bool = False
    Whether to use regular expressions in the search.
validate_unique : bool = False
    Raise a ValueError if the search result is not unique.
**kwargs : Any
    Additional keyword arguments. The only keyword argument
    that is used is verbose.
verbose : bool = False
    Print additional information while searching; which can
    be useful when diagnosing problems with search terms.</p>

<h2 id="returns">Returns</h2>

<p>DataFrame
    Returns a pandas DataFrame of matching rows (subseted from meta).
    Note, The index for the returned meta data will always comprise ABS
    series_ids. Duplicate indexes will be removed from the meta data
    (ie. where the same ABS series appears in more than one table, this
    function will only report the first match).</p>

<h2 id="metacol">Metacol</h2>

<p>Because the meta data is a DataFrame, the columns can be referenced by either
their full textual name, or by the short name defined in the metacol object.
For example, if metacol is imported as mc, to refer to the
<code>Data Item Description</code> column, the user can refer to it as mc.did.</p>

<h2 id="example">Example</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">readabs</span><span class="w"> </span><span class="kn">import</span> <span class="n">metacol</span> <span class="k">as</span> <span class="n">mc</span>  <span class="c1"># alias for the ABS meta data column names</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">readabs</span><span class="w"> </span><span class="kn">import</span> <span class="n">read_abs_cat</span><span class="p">,</span> <span class="n">search_abs_meta</span>
<span class="n">cat_num</span> <span class="o">=</span> <span class="s2">&quot;6202.0&quot;</span>  <span class="c1"># The ABS labour force survey</span>
<span class="n">data</span><span class="p">,</span> <span class="n">meta</span> <span class="o">=</span> <span class="n">read_abs_cat</span><span class="p">(</span><span class="n">cat_num</span><span class="p">)</span>
<span class="n">search_terms</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Unemployment rate&quot;</span><span class="p">:</span> <span class="n">mc</span><span class="o">.</span><span class="n">did</span><span class="p">,</span>  <span class="c1"># the data item description</span>
    <span class="s2">&quot;Persons&quot;</span><span class="p">:</span> <span class="n">mc</span><span class="o">.</span><span class="n">did</span><span class="p">,</span>
    <span class="s2">&quot;Seasonally Adjusted&quot;</span><span class="p">:</span> <span class="n">mc</span><span class="o">.</span><span class="n">stype</span><span class="p">,</span>
    <span class="s2">&quot;Percent&quot;</span><span class="p">:</span> <span class="n">mc</span><span class="o">.</span><span class="n">unit</span><span class="p">,</span>
    <span class="s2">&quot;6202001&quot;</span><span class="p">:</span> <span class="n">mc</span><span class="o">.</span><span class="n">table</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">rows</span> <span class="o">=</span> <span class="n">search_abs_meta</span><span class="p">(</span><span class="n">meta</span><span class="p">,</span> <span class="n">search_terms</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>  <span class="c1"># should have three rows : FT/PT/All Unemployment rates</span>
</code></pre>
</div>
</div>


                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>