<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>read_abs_cat</title>
  </head>
  <body>
    <h1>read_abs_cat</h1>
    <h2>Usage</h2>
    <blockquote>
      <pre>read_abs_cat(cat, keep_non_ts = False, **kwargs)-&gt; tuple[dict[str, DataFrame], DataFrame]<br></pre>
    </blockquote>
    <h2>What it does</h2>
    <blockquote>
      <p>This function returns the complete ABS Catalogue information as
        a python dictionary of pandas DataFrames, as well as the
        associated metadata in a separate DataFrame. The function
        automates the collection of zip and excel files from the ABS
        website. If necessary, these files are downloaded, and saved
        into a cache directory. The files are then parsed to extract
        time series data, and the associated metadata.<br>
      </p>
      <p>By default, the cache directory is "./.readabs_cache/". You can
        change the default directory name by setting the shell
        environment variable "READABS_CACHE_DIR" with the name of the
        preferred directory.<br>
      </p>
    </blockquote>
    <h2>Parameters<br>
    </h2>
    <blockquote>
      <p><b>cat</b>: str -- the ABS Catalogue Number for the data to be
        downloaded and made available by this function. This argument
        must be specified in the function call.</p>
      <p><b>keep_non_ts</b>: bool = False -- a flag for whether to keep
        the non-time-series tables that might form part of an ABS
        catalogue item. Normally, the non-time-series information is
        ignored, and not made available to the user.<br>
      </p>
      <h3>Optional keyword arguments<br>
      </h3>
      <p><b>history</b>: str = "" -- provide a month-year string to
        extract historical ABS data. For example, you can set
        history="dec-2023" to the get the ABS data for a catalogue
        identifier that was originally published in respect of Q4 of
        2023. Note: not all ABS data sources are structured so that this
        technique works in every case; but most are.</p>
      <p><b>verbose</b>: bool = False -- Setting this to true may help
        diagnose why something might be going wrong with the data
        retrieval process.</p>
      <p><b>ignore_errors</b>: bool = False -- Normally, this function
        will cease downloading when an error in encountered. However,
        sometimes the ABS website has malformed links, and changing this
        setting is necessitated. (Note: if you drop a message to the
        ABS, they will usually fix broken links with a business day).</p>
      <p><b>get_zip</b>: bool = True -- Download the excel files in .zip
        files.</p>
      <p><b>get_excel_if_no_zip</b>: bool = True -- Only try to download
        .xlsx files if there are no zip files available to be
        downloaded. Only downloading individual excel files when there
        are no zip files to download can speed up the download process.</p>
      <p><b>get_excel</b>: bool = False -- The default value means that
        excel files are automatically download. <u>Note:</u> at least
        one of get_zip, get_excel_if_no_zip, or get_excel must be true.
        For most ABS catalogue items, it is sufficient to just download
        the one zip file. <u>But note</u>, some catalogue items do not
        have a zip file. Others have quite a number of zip files.</p>
      <p><b>single_excel_only</b>: str = "" -- if this argument is set
        to a table name (without the .xlsx extension), only that excel
        file will be downloaded. If set, and only a limited subset of
        available data is needed, this can speed up download times
        significantly. <u>Note</u>: overrides get_zip,
        get_excel_if_no_zip, get_excel and single_zip_only.</p>
      <p><b>single_zip_only</b>: str = "" -- if this argument is set to
        a zip file name (without the .zip extension), only that zip file
        will be downloaded. If set, and only a limited subset of
        available data is needed, this can speed up download times
        significantly. <u>Note</u>: overrides get_zip,
        get_excel_if_no_zip, and get_excel.<br>
      </p>
      <p><b>cache_only</b>: bool = False -- if set to True, this
        function will only access data that has been previously cached.
        Normally, the function checks the date of the cache data against
        the date of the data on the ABS website, before deciding whether
        the ABS has fresher data that needs to be downloaded to the
        cache. <br>
      </p>
    </blockquote>
    <h2>Return values</h2>
    <blockquote>
      <p>The function returns a tuple of two items. The first item is a
        python dictionary of pandas DataFrames (which is the actual data
        associated with the ABS catalogue item. The second item is a
        DataFrame of ABS metadata for the ABS collection.<br>
      </p>
    </blockquote>
    <h2>Example</h2>
    <blockquote>
      <pre>import readabs as ra<br>from pandas import DataFrame<br>cat_num = "6202.0"  # The ABS labour force survey<br>data: tuple[dict[str, DataFrame], DataFrame] = ra.read_abs_cat(cat=cat_num)<br>abs_dict, meta = data<br></pre>
    </blockquote>
    <a moz-do-not-send="true" href="index.html">Return to the Index</a><br>
  </body>
</html>
